[{"title":"è½¯ä»¶å¯ä»¥é€†å‘å—","path":"//software-reverse-engineering.html","content":"ä»‹ç»æœºæ¢°å¯ä»¥é€šè¿‡CTä¸‰ç»´æ‰«æé€†å‘å‡ºç»“æ„å›¾çº¸ï¼Œç¡¬ä»¶ä¹Ÿå¯ä»¥é€šè¿‡PCBæŠ„æ¿è¿˜åŸå‡ºåŸæ¥çš„å™¨ä»¶åŸç†å›¾ï¼Œé‚£ä¹ˆè½¯ä»¶å¯ä»¥é€†å‘å—ï¼Ÿä¸€èˆ¬è½¯ä»¶åœ¨å‘å¸ƒçš„æ—¶å€™ï¼Œå·¥ç¨‹å¸ˆéƒ½ä¼šåˆ»æ„ç¼–è¯‘ä¸å¸¦ä»»ä½•è°ƒè¯•ä¿¡æ¯çš„ã€ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆReleaseç‰ˆï¼‰ï¼Œä¾›ç”¨æˆ·ä½¿ç”¨ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¿˜æ˜¯ç»å¸¸çœ‹åˆ°æœ‰ä¸“é—¨çš„å·¥å…·å¯ä»¥ç ´è§£èŠ¯ç‰‡çš„åŠ å¯†æœºåˆ¶ï¼ŒæŠŠåŸå§‹çš„binæ–‡ä»¶æ‹·è´å‡ºæ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶èƒ½ä¸èƒ½å½»åº•è¿˜åŸä¸ºCè¯­è¨€ä»£ç å‘¢ï¼Ÿ é€†å‘ç­”æ¡ˆè‚¯å®šæ˜¯å¯ä»¥çš„ï¼ŒåƒAndroidå’ŒC#çš„ç¨‹åºéƒ½æœ‰ç›¸åº”çš„é€†å‘å·¥å…·å¯ä»¥ç ´è§£ï¼Œæ¯”å¦‚å‰äº›æ–‡ç« æˆ‘ä»‹ç»çš„ILSpyå·¥å…·ï¼›ä½†æ˜¯è¿˜åŸå‡ºçš„ä»£ç ä¸€å®šæ˜¯è·ŸåŸä½œè€…å†™çš„ä¸€æ¨¡ä¸€æ ·å—ï¼Ÿè‚¯å®šæ˜¯æœ‰å·®åˆ«çš„ï¼å› ä¸ºcè¯­è¨€åˆ°äºŒè¿›åˆ¶ä»£ç æ˜¯ä¸€æ¡è·¯å¾„çš„æ•°å­¦æ˜ å°„ï¼ŒäºŒè¿›åˆ¶ä»£ç åˆ°cè¯­è¨€æœ‰æ— æ•°ç§è·¯å¾„ï¼›å°±åƒy &#x3D; f(x)ï¼Œå®ƒçš„è¡¨è¾¾å¼æ˜¯å”¯ä¸€çš„ï¼Œä½†å¦‚æœä½ è¦æ±‚x &#x3D; g(y)ï¼Œè¿™å°±å¾ˆéš¾äº†ï¼Œé€†å‡½æ•°ä¼šæœ‰æ— æ•°ç§å¯èƒ½ é£é™©å³ä¾¿ä½ ä¾¥å¹¸è¿˜åŸå‡ºäº†ä»£ç ï¼Œä½ ä¹Ÿå¾ˆéš¾æ ¹æ®é€†å‘ä»£ç é¢†ä¼šåˆ°åŸä½œè€…çš„æœ¬æ„ï¼›å¤±ä¹‹æ¯«å˜ã€å·®ä¹‹åƒé‡Œï¼Œåœ¨è‡ªåŠ¨åŒ–ã€ç‰©è”ç½‘ã€æ±½è½¦ç”µå­ã€åŒ»ç–—é¢†åŸŸï¼Œä¸€ä¸ªå¯„å­˜å™¨ã€å˜é‡ã€æ•°æ®ç»“æ„ã€å‡½æ•°è°ƒç”¨ï¼Œå®ƒåˆ°åº•å‘ç”Ÿäº†å¤šå°‘å¾®å¦™çš„å˜åŒ–ï¼ˆèŒƒå›´ã€é˜ˆå€¼ã€åˆå§‹å€¼ï¼‰ï¼Œæˆ‘ä»¬æ— ä»çŸ¥æ™“ï¼Œä¹Ÿä¸çŸ¥é“å®ƒçš„å…³è”æœ‰å¤šå¤§ï¼Œæ‰€ä»¥æ²¡å¿…è¦å†’ç€è®¾å¤‡å‡ºé”™çš„é£é™©è¿è¡Œä¾¥å¹¸åç¼–è¯‘å‡ºæ¥çš„ä»£ç  è®¤çŸ¥è½¯ä»¶æ˜¯ä¸€ä¸ªç¡¬ä»¶è®¾å¤‡çš„çµé­‚ï¼Œä»çŸ¥è¯†äº§æƒçš„è§’åº¦ä¹Ÿå¾ˆå¥½ç†è§£ä¸€ä¸ªé—®é¢˜ï¼šå‡è®¾è½¯ä»¶æ˜¯å¾ˆè½»æ¾å°±èƒ½è¿˜åŸå‡ºä»£ç çš„ï¼Œé‚£ä¹ˆè‹¹æœã€å¾®è½¯ã€è°·æ­Œè¿™äº›ITå·¨å¤´å°±æ²¡æœ‰è½¯ä»¶äº§å“çš„æŠ€æœ¯å£å’ï¼Œå› ä¸ºä»»ä½•ä½¿ç”¨è½¯ä»¶çš„å•†ä¸šæ´»åŠ¨éƒ½å¯ä»¥é€šè¿‡é€†å‘æŠ€æœ¯æ¥ç ´è§£ï¼Œè¿™ä¸ªä¸–ç•Œå°†æ— ä»»ä½•çŸ¥è¯†äº§æƒå¯è¨€ï¼","tags":["Reverse","Software"],"categories":["æ–¹æ³•è®º"]},{"title":"Linuxç£ç›˜ç®¡ç†","path":"//linux-disk-management.html","content":"æŒ‚è½½ç”¨mountå‘½ä»¤ 123sudo mount /dev/sda3 /mnt/sda3sudo mount /dev/sda4 /mnt/sda4sudo mount /dev/sda5 /mnt/sda5 æŸ¥çœ‹è®¾å¤‡æŒ‚è½½æƒ…å†µä¹Ÿå¯ä»¥ç”¨mountï¼Œä½†æ˜¯ç”¨lsblkæ›´ç›´è§‚ 1lsblk ä½¿ç”¨blkidå‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ†åŒºçš„UUID 1blkid /dev/sda3 å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œä¿®æ”¹&#x2F;etc&#x2F;fstab 12345LABEL=writable / ext4 discard,x-systemd.growfs 0 1LABEL=system-boot /boot/firmware vfat defaults 0 1UUID=00082550000E6F29 /mnt/sda3 ntfs defaults 0 2UUID=000B92D500017040 /mnt/sda4 ntfs defaults 0 2UUID=000D948D00089BC1 /mnt/sda5 ntfs defaults 0 2 ç£ç›˜ä½¿ç”¨æƒ…å†µ 1df -h å¸è½½ 12umount /dev/sda3umount /mnt/sda3 åˆ†åŒºfdiskå‘½ä»¤ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹å¯ä»¥åšä¸€ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬æ¥è¿›è¡Œåˆ†åŒº 12fdisk -l # æŸ¥çœ‹ç£ç›˜åˆ†åŒºåˆ—è¡¨sudo fdisk /dev/sdb # å¯¹sdbç£ç›˜è¿›è¡Œåˆ†åŒº fdiskå‘½ä»¤è¡ŒæŒ‡ä»¤ç”¨æ³•ï¼šä¸€èˆ¬dã€lã€wã€qã€nè¿™å‡ ä¸ªå‘½ä»¤ç”¨å¾—æ¯”è¾ƒå¤šï¼Œä»¥ä¸‹æ˜¯å¸®åŠ©èœå•å†…å®¹ï¼ˆæŒ‰mè¿›å…¥ï¼‰ 1234567891011121314151617181920212223242526272829303132333435Help: DOS (MBR) a toggle a bootable flag b edit nested BSD disklabel c toggle the dos compatibility flag Generic d delete a partition F list free unpartitioned space l list known partition types ï¼ˆåˆ—å‡ºåˆ†åŒºç±»å‹ï¼‰ n add a new partition ï¼ˆæ–°å»ºä¸€ä¸ªåˆ†åŒºï¼‰ p print the partition table ï¼ˆæ‰“å°åˆ†åŒºè¡¨ï¼‰ t change a partition type v verify the partition table i print information about a partition Misc m print this menu u change display/entry units x extra functionality (experts only) Script I load disk layout from sfdisk script file O dump disk layout to sfdisk script file Save &amp; Exit w write table to disk and exit ï¼ˆä¿å­˜ç£ç›˜çš„åˆ†åŒºæ›´æ”¹ï¼‰ q quit without saving changes ï¼ˆé€€å‡ºfdiskï¼‰ Create a new label g create a new empty GPT partition table G create a new empty SGI (IRIX) partition table o create a new empty DOS partition table s create a new empty Sun partition table æ ¼å¼åŒ–mkfså‘½ä»¤æ”¯æŒå¤šç§æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ 12345678910111213mkfs.bfs mkfs.btrfs mkfs.cramfs mkfs.ext2 mkfs.ext3 mkfs.ext4 mkfs.fat mkfs.jffs2 mkfs.minix mkfs.msdos mkfs.ntfs mkfs.ubifs mkfs.vfat ä»¥ext4æ ¼å¼ä¸ºä¾‹ ä¿®å¤fsckå‘½ä»¤æ— 12345678910fsck fsck.btrfs fsck.cramfs fsck.ext2 fsck.ext3 fsck.ext4 fsck.fat fsck.minix fsck.msdos fsck.vfat ä»¥ext4æ ¼å¼ä¸ºä¾‹","tags":["Linux","disk","fdisk"],"categories":["åµŒå…¥å¼"]},{"title":"å„ç§ç±»å‹çš„USBæ¥å£","path":"//all-kinds-of-usb-interface.html","content":"ä»‹ç»æ—¥å¸¸ç”Ÿæ´»å’Œå¼€å‘ä¸­ï¼ŒUSBæ˜¯æ¯”è¾ƒå¸¸è§çš„å¤–è®¾æ‹“å±•å’Œä¾›ç”µæ¥å£ï¼Œæ— è®ºæ˜¯æ¶ˆè´¹ç”µå­è¿˜æ˜¯å·¥ä¸šæ§åˆ¶é¢†åŸŸ Mini USBå…¬å¤´ æ¯å¤´ Micro USBå…¬å¤´ æ¯å¤´ Type Aå…¬å¤´ æ¯å¤´ Type Bå…¬å¤´ æ¯å¤´ Type Cå…¬å¤´ æ¯å¤´","tags":["USB","hardware"],"categories":["åµŒå…¥å¼"]},{"title":"minicomä¸²å£è°ƒè¯•å·¥å…·","path":"//linux-minicom.html","content":"å‰è¨€minicomæ˜¯ä¸€æ¬¾å…è´¹ã€å¼€æºçš„ã€åŸºäºå‘½ä»¤è¡Œçš„Linuxä¸²å£è°ƒè¯•å·¥å…· å®‰è£…å¦‚æœä½ ä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œè¯·å°†ä¸²å£è®¾å¤‡æ¥å…¥è™šæ‹Ÿæœºï¼›å¦‚æœä¸æ˜¯è¯·è·³è¿‡è¿™ä¸€æ­¥ æ’å…¥è®¾å¤‡åè§‚å¯Ÿå†…æ ¸æ—¥å¿—ï¼šUSBè®¾å¤‡ï¼ˆch341-uartï¼‰å·²ç»æ’å…¥å¹¶åŒ¹é…é©±åŠ¨äº† å¯ä»¥åœ¨&#x2F;devç›®å½•ä¸‹è§‚å¯Ÿåˆ°ä¸²å£è®¾å¤‡èŠ‚ç‚¹ å®‰è£…minicomè½¯ä»¶åŒ… 1sudo apt install minicom é…ç½®ä¿®æ”¹minicomé…ç½®ï¼Œ-sè¡¨ç¤ºæ‰“å¼€é…ç½®é€‰é¡¹ 1sudo minicom -s æ‰“å¼€æŒ‡å®šçš„ä¸²å£è®¾å¤‡ 1sudo minicom -D /dev/ttyUSB0 é€‰æ‹©Serial port setup ä¿®æ”¹ttyUSB0ä¸²å£å‚æ•°ï¼š115200 8N1 æ— å¥‡å¶æ ¡éªŒä½å’Œç¡¬ä»¶æµæ§ï¼Œç„¶åå›è½¦ä¿å­˜åé€€å‡ºï¼ˆPSï¼šABCDEFGâ€¦å¯¹åº”çš„æ˜¯é…ç½®é¡¹çš„å¿«æ·é”®ï¼‰ å°†è¯¥å‚æ•°è®¾ç½®ä¸ºé»˜è®¤çš„æ§åˆ¶å°é…ç½®ï¼Œè¿™æ ·ä¸‹æ¬¡å°±å¯ä»¥ç”¨sudo minicomå‘½ä»¤ç›´æ¥æ‰“å¼€é»˜è®¤çš„ä¸²å£è®¾å¤‡ ç´§æ¥ç€æŒ‰â†“é”®é€‰æ‹©Exitå³å¯æ‰“å¼€ä¸²å£è°ƒè¯•æ§åˆ¶å° å¿«æ·æ–¹å¼èœå•åŠŸèƒ½å¿«æ·é”®ç»„åˆ å”¤å‡ºèœå•ï¼šCTRL + A + Z é€€å‡ºminicomï¼šCTRL + A + X æ¸…å±ï¼šCTRL + A + C è½¯ä»¶é…ç½®ï¼šCTRL + A + O å‘½ä»¤è¡Œå‚æ•° -sï¼šè¡¨ç¤ºè¿›å…¥é…ç½®æ¨¡å¼ -D /dev/ttyUSB0ï¼šæ‰“å¼€ç›¸åº”çš„ä¸²å£è®¾å¤‡","tags":["minicom","UART"],"categories":["åµŒå…¥å¼"]},{"title":"GXHT30æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨","path":"//gxht30-sensor.html","content":"ä»‹ç»GXHT3x-DIS æ˜¯ä¸­ç§‘é“¶æ²³èŠ¯å¼€å‘çš„æ–°ä¸€ä»£å•èŠ¯ç‰‡é›†æˆæ¸©æ¹¿åº¦ä¸€ä½“ä¼ æ„Ÿå™¨ï¼Œå®ƒæœ‰ä¸¤ä¸ªä¾›ç”¨æˆ·é€‰æ‹©çš„ I2C åœ°å€ï¼Œ I2C é€šä¿¡é€Ÿåº¦é«˜è¾¾1MHzï¼ŒèŠ¯ç‰‡é‡‡ç”¨å°å‹åŒ– DFN å°è£…ï¼Œå¤–å½¢å°ºå¯¸ 2.5 x 2.5 mm2ï¼Œé«˜åº¦ 0.9 mm. è¿™ä½¿å¾— GXHT3x-DIS å¯ä»¥é›†æˆåœ¨å„ç§åº”ç”¨åœºåˆï¼›æ­¤å¤– 2.2-5.5V å®½ä¾›ç”µç”µå‹èŒƒå›´ä½¿å¾—å®ƒå¯ä»¥é€‚åº”å„ç§ä¾›ç”µç¯å¢ƒ èŒƒå›´ç²¾åº¦ GXHT30å…¸å‹ç²¾åº¦ï¼šÂ±3%RHå’ŒÂ±0.3Â°C æ¸©åº¦å…¸å‹å€¼ï¼šä»-45Â°Cåˆ°130Â°C ï¼Œ ç”µæºç”µå‹èŒƒå›´ï¼šä»2.2Våˆ°5.5V å·¥ä½œèŒƒå›´ï¼šæµ‹é‡èŒƒå›´0-100%ç›¸å¯¹æ¹¿åº¦ å“åº”é€Ÿåº¦ï¼šå†…éƒ¨æ•°æ®æµ‹é‡æ—¶é—´ä½è‡³ 2.5ms ç¡¬ä»¶ç”µè·¯æœ€å°ç”µè·¯ï¼ši2cæ¥å£çš„ä¸¤ä¸ªå¼•è„šSCLå’ŒSDAæ¥ä¸Šæ‹‰ç”µé˜»åˆ°VDDï¼Œæ¨¡å—çš„æ¥æ³•æ˜¯ä¸Šæ‹‰ç”µé˜»ä¸º4.7kÎ© èŠ¯ç‰‡å¼•è„šåŠŸèƒ½è¡¨ å¼•è„šç¼–å· å¼•è„šåç§° åŠŸèƒ½è¯´æ˜ 1 SDA æ•°æ®ç«¯å£ï¼›è¾“å…¥&#x2F;è¾“å‡º 2 ADDR åœ°å€ç«¯å£ï¼Œæ¥ç”µæºæˆ–è€…åœ°ï¼Œä¸èƒ½æ‚¬ç©ºï¼›è¾“å…¥ 3 AIFRT æŠ¥è­¦æ ‡å¿—ä½ï¼Œè¶…å‡ºè®¾å®šé˜ˆå€¼ä¼šè¢«ç½®é«˜ï¼Œå¦‚æœä¸ç”¨æ—¶è¯¥ç®¡è„šæ‚¬ç©ºï¼›è¾“å‡º 4 SCL æ—¶é’Ÿç«¯å£ï¼›è¾“å…¥&#x2F;è¾“å‡º 5 VDD ç”µæºç«¯å£ï¼›è¾“å…¥ 6 nRESET å¤ä½ç«¯å£ï¼Œä½ç”µå¹³æœ‰æ•ˆï¼Œä¸ç”¨æ—¶å»ºè®®æ‚¬ç©ºï¼›è¾“å…¥ 7 R æ— ç”¨ç«¯å£ï¼Œä½¿ç”¨æ—¶æ¥åœ° 8 Vss åœ° ç”µæ°”å‚æ•° è®¾å¤‡åœ°å€é»˜è®¤ä¸º0x44ï¼Œé€šè¿‡æ”¹å˜ ADDR çš„è¿æ¥æ–¹å¼å¯ä»¥æ”¹å˜ä¼ æ„Ÿå™¨çš„ I2C åœ°å€ã€‚å½“ADDR æ¥ä½ç”µå¹³æ—¶ï¼Œä¼ æ„Ÿå™¨èŠ¯ç‰‡çš„åœ°å€ä¸º 0x44ï¼Œå½“ ADDR æ¥é«˜ç”µå¹³æ—¶ï¼Œä¼ æ„Ÿå™¨èŠ¯ç‰‡çš„åœ°å€ä¸º 0x45ã€‚ éœ€è¦æ³¨æ„åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ ADDRçš„ ç”µ å¹³ ä¸ èƒ½å‘ç”Ÿæ”¹å˜ã€‚è¿™ç§åœ°å€é€‰æ‹©æ–¹å¼å¯ä»¥å°† ä¸¤ é¢—GXHT3x-DIS è¿æ¥åœ¨åŒä¸€ä¸ª I2C æ€»çº¿ä¸Šã€‚ GXHT 3x-DIS åå…­è¿›åˆ¶çš„ I2C åœ°å€ è¯´æ˜ I2C åœ°å€ A 0x44ï¼ˆé»˜è®¤ï¼‰ ADDR ç®¡è„šæ¥ä½ç”µå¹³ I2C åœ°å€ B 0x45 ADDR ç®¡è„šæ¥é«˜ç”µå¹³ å·¥ä½œæµç¨‹æµ‹é‡éœ€å…ˆå‘é€ä¸€ä¸ªå¼€å§‹ä¿¡å·ï¼Œç„¶åå‘é€ä¸€ä¸ª I2Cçš„å†™æ“ä½œå¤´ï¼Œç„¶åå†è·Ÿéšä¸€ä¸ª 16 ä½çš„æ¸©æ¹¿åº¦è½¬æ¢å‘½ä»¤ã€‚ ä¼ æ„Ÿå™¨æ”¶åˆ°ä¸Šä½æœºå‘é€çš„æ¯ä¸ªå­—èŠ‚æ•°æ®åï¼Œä¼šé€šè¿‡å°† SDA æ€»çº¿æ‹‰åˆ°ä½ç”µå¹³ç»™å‡º ACK ä¿¡å·ã€‚åœ¨æ­£ç¡®çš„æ”¶åˆ°æ¸©æ¹¿åº¦è½¬æ¢å‘½ä»¤å¹¶å‘é€ ACK ä¿¡å·ç»™å¾®å¤„ç†å™¨ä¹‹åï¼Œ GXHT3x-DIS å†…éƒ¨å¼€å§‹å¯åŠ¨æ¸©åº¦å’Œæ¹¿åº¦çš„è½¬æ¢æµ‹é‡ã€‚ åˆå§‹åŒ–ï¼ˆè½¯å¤ä½ï¼‰ å†™cmdï¼ˆ2ä¸ªå­—èŠ‚ï¼šå¯„å­˜å™¨+æ¨¡å¼ï¼‰ è¯»å–dataï¼ˆ6ä¸ªå­—èŠ‚ï¼‰ æ ¡éªŒCRC å¯„å­˜å™¨å¤ä½ï¼š0x30 â†’ 0xA2 å†™æµ‹é‡æ¨¡å¼ï¼š0x2C â†’ 0x06ï¼ˆé«˜ï¼‰ï¼Œ0x0Dï¼ˆä¸­ï¼‰ï¼Œ0x10ï¼ˆä½ï¼‰ è¯»å–çŠ¶æ€å‘½ä»¤ï¼š0xF3 â†’ 0x2D ç¤ºä¾‹ä»£ç i2cå†™å‘½ä»¤ 12345678910111213141516static HAL_StatusTypeDef HT30_WriteCommand(uint16_t command)&#123; uint8_t cmd_buf[2]; cmd_buf[0] = (uint8_t)((command &gt;&gt; 8) &amp; 0xFFU); cmd_buf[1] = (uint8_t)(command &amp; 0xFFU); if (HT30_I2C_Write(HT30_I2C_ADDRESS, cmd_buf, sizeof(cmd_buf)) != HAL_OK) &#123; printf(&quot;HT30_WriteCommand: failed (0x%04X)\\r &quot;, command); HT30_I2C_ScanBus(); return HAL_ERROR; &#125; return HAL_OK;&#125; åˆå§‹åŒ–ï¼ˆè½¯å¤ä½ï¼‰ï¼šå¾€0x30å¯„å­˜å™¨å†™0xA2 1HT30_WriteCommand(HT30_CMD_SOFT_RESET) è¯»å–åŸå§‹æ•°æ®ï¼šæ¸©åº¦ï¼ˆ2ä¸ªå­—èŠ‚ï¼‰+ æ¹¿åº¦ï¼ˆ2ä¸ªå­—èŠ‚ï¼‰+ æ ¡éªŒï¼ˆ2ä¸ªå­—èŠ‚ï¼‰ 123456uint8_t raw[6] = &#123;0&#125;;if (HT30_I2C_Read(HT30_I2C_ADDRESS, raw, 6U) != HAL_OK)&#123; printf(&quot;HT30_PerformMeasurement: read failed\\r &quot;); return HAL_ERROR;&#125; æ¸©åº¦æ¹¿åº¦æ•°æ®æ ¡éªŒ 123456789101112131415161718192021222324252627282930313233343536373839404142434445static uint8_t HT30_CalculateCRC(const uint8_t *data, uint8_t len)&#123; uint8_t crc = 0xFFU; uint8_t i; uint8_t j; if (data == NULL || len == 0U) &#123; return 0U; &#125; for (i = 0; i &lt; len; i++) &#123; crc ^= data[i]; for (j = 0; j &lt; 8U; j++) &#123; if (crc &amp; 0x80U) &#123; crc = (uint8_t)((crc &lt;&lt; 1) ^ 0x31U); &#125; else &#123; crc &lt;&lt;= 1; &#125; &#125; &#125; return crc;&#125;uint8_t expected;// å‰é¢2ä¸ªå­—èŠ‚ç®—crcï¼Œç¬¬ä¸‰ä¸ªå­—èŠ‚æ˜¯æ ¡éªŒç expected = HT30_CalculateCRC(raw, 2U);if (expected != raw[2])&#123; return HAL_ERROR;&#125;// å‰é¢2ä¸ªå­—èŠ‚ç®—crcï¼Œç¬¬ä¸‰ä¸ªå­—èŠ‚æ˜¯æ ¡éªŒç expected = HT30_CalculateCRC(&amp;raw[3], 2U);if (expected != raw[5])&#123; return HAL_ERROR;&#125; æ¸©æ¹¿åº¦æ•°æ®è§£æ 123456789101112131415161718uint8_t raw[6] = &#123;0&#125;;uint16_t raw_t;uint16_t raw_h;if (HT30_PerformMeasurement(raw) != HAL_OK)&#123; raw_t = ((uint16_t)raw[0] &lt;&lt; 8) | raw[1]; raw_h = ((uint16_t)raw[3] &lt;&lt; 8) | raw[4]; if (temperature != NULL) &#123; *temperature = -45.0f + 175.0f * ((float)raw_t / 65535.0f); &#125; if (humidity != NULL) &#123; *humidity = 100.0f * ((float)raw_h / 65535.0f); &#125;&#125;","tags":["temperature","sensor","i2c"],"categories":["åµŒå…¥å¼"]},{"title":"æŠ€æœ¯é¢è¯•å®˜é¢è¯•å¿…çŸ¥å¿…ä¼š","path":"//technology-interview-guide.html","content":"é¢è¯•å‡†å¤‡äº†è§£å²—ä½JDå’Œå€™é€‰äººçš„ç®€å†æ˜¯å¦åŒ¹é…ï¼Œè¿™ä¸ªç¯èŠ‚éœ€è¦è·Ÿå…¬å¸HRæ²Ÿé€šå€™é€‰äººçš„ä¿¡æ¯ï¼ˆç®€å†ã€å£å¤´åé¦ˆï¼‰ï¼Œå’Œä¸šåŠ¡è´Ÿè´£äººäº†è§£æ‹›è˜æ„æ„¿ è¿‡å¾€ç»å†å…ˆä»é¡¹ç›®å±¥å†å…¥æ‰‹ï¼Œäº†è§£å€™é€‰äººçš„å·¥ä½œç»å†ï¼ˆæ˜¯å¦å’ŒJDæè¿°çš„å²—ä½ç›¸åŒ¹é…ï¼‰å’Œå½“å‰çš„å·¥ä½œçŠ¶æ€ï¼ˆåœ¨èŒã€ç¦»èŒï¼‰ï¼Œè€ƒå¯Ÿä»–çš„é—ªå…‰ç‚¹å’Œå¼±ç‚¹ï¼š é¡¹ç›®åšåˆ°äº†ä»€ä¹ˆé˜¶æ®µã€æ¢å·¥ä½œçš„åŸå›  è¯¢é—®å€™é€‰äººå‚ä¸çš„é¡¹ç›®éƒ¨åˆ†å’Œç›¸å…³çš„æŠ€æœ¯æ–¹æ¡ˆè¦ç‚¹ é¡¹ç›®ä¸­é‡åˆ°xxxé—®é¢˜å’Œç—›ç‚¹ï¼Œä½ æ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ åŸºç¡€çŸ¥è¯†å‡†å¤‡ä¸€ä¸‹ç°åœºé—®ç­”çš„é¢˜ç›®è€ƒå¯Ÿå€™é€‰äººçš„çŸ¥è¯†åŠŸåº•ï¼Œæ¯”å¦‚åµŒå…¥å¼ã€è½¯ä»¶é¢†åŸŸï¼š ç¼–ç¨‹è¯­è¨€ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§ï¼Ÿ åµŒå…¥å¼ï¼šRS232 &amp;&amp; RS485æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ§åˆ¶ç†è®ºï¼šè°ˆè°ˆå¯¹PIDç®—æ³•çš„ç†è§£å’Œæ€ä¹ˆç”¨PIDè¿›è¡Œè°ƒå‚ï¼Œé‡åˆ°æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ è°ƒè¯•ç»éªŒï¼šé¡¹ç›®ä¸­é‡åˆ°çš„ç“¶é¢ˆ ä¸šåŠ¡æŒ‡æ ‡è½¯ä»¶å·¥ç¨‹å¸ˆçš„ä¸šåŠ¡æŒ‡æ ‡ï¼Œè­¬å¦‚ï¼š â‘  ä½ åšçš„è¿™ä¸ªäº§å“çš„æŠ€æœ¯æŒ‡æ ‡ã€é‡äº§è§„æ¨¡ã€å®¢æˆ·æ•°é‡ç­‰ç­‰ â‘¡ é¡¹ç›®ä»£ç é‡å¦‚ä½•ã€æœ‰å¤šå°‘ä¸ªæ¨¡å—ã€å›¢é˜Ÿè§„æ¨¡æ€ä¹ˆæ ·ã€æ¯ä¸ªäººçš„èŒè´£åˆ†å·¥å¦‚ä½• â‘¢ è½¯ä»¶çš„ç¼ºé™·åˆ†å¸ƒã€æµ‹è¯•æ–¹æ¡ˆã€è¿­ä»£è®¡åˆ’ç­‰ æœªæ¥è§„åˆ’æ·±å…¥äº†è§£å€™é€‰äººçš„èŒä¸šå…´è¶£å’Œå‘å±•æ–¹å‘ï¼Œå¯ä»¥ä»ä¸‹é¢å‡ ä¸ªè§’åº¦ï¼š â‘  æŠ€æœ¯æ–¹å‘ â‘¡ ç®¡ç†æ–¹å‘ â‘¢ äº§å“æ–¹å‘ â‘£ é”€å”®æ”¯æŒæ–¹å‘ æé—®ç¯èŠ‚æé—®ç¯èŠ‚ä¸€èˆ¬æ˜¯ç»™å€™é€‰äººæœºä¼šäº†è§£å…¬å¸æƒ…å†µçš„ï¼Œé¢è¯•å®˜éœ€è¦ç»“åˆå…¬å¸é¡¹ç›®çš„å‘å±•æƒ…å†µå’Œå€™é€‰äººçš„é¢è¯•çŠ¶å†µè¿›è¡Œç­”ç–‘ï¼š â‘  äº§å“å¼€å‘è¿›å±•å¦‚ä½•ï¼Œåˆ°äº†ä»€ä¹ˆé‡äº§é˜¶æ®µï¼šAæ ·ã€Bæ ·â€¦â€¦é¡¹ç›®æœ‰æ²¡æœ‰ç›ˆåˆ© â‘¡ é¡¹ç›®å›¢é˜Ÿè§„æ¨¡ã€èŒè´£åˆ†å·¥ã€æœªæ¥äººåŠ›å‘å±•æ–¹å‘ â‘¢ é’ˆå¯¹æ€§å²—ä½çš„èŒä¸šå»ºè®®å’ŒæŒ‡å¯¼ï¼ˆä¸€èˆ¬å¾ˆå°‘é—®ï¼‰ æ³¨æ„ï¼šå¦‚æœé¡¹ç›®æ˜¯æœ‰ä¿å¯†è¦æ±‚çš„ï¼Œä¸å»ºè®®é€éœ²å¤ªå¤šé¡¹ç›®çš„æƒ…å†µï¼›ä½†å¦‚æœé¢è¯•è€…æ²¡æœ‰å……åˆ†çš„äº†è§£å…¬å¸å’Œé¡¹ç›®çŠ¶å†µçš„è¯ï¼Œä»–ä¹Ÿå¯èƒ½ä¼šåšå‡ºé”™è¯¯çš„åˆ¤æ–­ï¼›æ‰€ä»¥ï¼Œä¸ºäº†æ±‚è´¤è¿˜æ˜¯æœ‰å¿…è¦å°†å°½å¯èƒ½å¤šçš„ä¿¡æ¯å‘ŠçŸ¥å¯¹æ–¹ ç¦å¿Œæœ‰ä¸€äº›é¢è¯•ç¦åŒºé¢è¯•å®˜ä¸è¦æŸ“æŒ‡ï¼Œè¨€å¤šå¿…å¤±ï¼Œå³ä¾¿å€™é€‰äººä¸»åŠ¨é—®åŠä¹Ÿè¦åˆ»æ„å›é¿ â‘  è°ˆè®ºé¢†å¯¼ã€è€æ¿çš„ç®¡ç†é£æ ¼ã€é¡¹ç›®å­˜åœ¨çš„é—®é¢˜ â‘¡ è¯¢é—®å€™é€‰äººçš„è–ªèµ„çŠ¶å†µï¼ˆå…¶å®å€™é€‰äººä¹Ÿä¸æƒ³è¿™æ ·ï¼‰ â‘¢ ä¸è¦å¸¦æœ‰æ€åº¦å»é¢è¯•ï¼Œå°½é‡åšåˆ°éæš´åŠ›æ²Ÿé€š","tags":["interview"],"categories":["æ–¹æ³•è®º"]},{"title":"å·¥ç¨‹é¡¹ç›®ä¸­çš„ç³»ç»Ÿæ€§è®¤çŸ¥åå·®","path":"//project-system-gap.html","content":"å‰è¨€ä¸€ä¸ªé¡¹ç›®çš„æˆå‘˜å¯èƒ½ä¼šæ¥è‡ªå„ä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬ææ–™ã€æœºæ¢°ã€ç¡¬ä»¶ã€è½¯ä»¶ã€ä»¿çœŸã€æµ‹è¯•ã€ç”µæ°”ã€é¡¹ç›®ï¼›ä¸åŒé¢†åŸŸçš„äººçŸ¥è¯†èƒŒæ™¯ä¸ä¸€æ ·ï¼Œè®¤çŸ¥æ–¹å¼ä¹Ÿä¸ä¸€æ ·ï¼Œå‡è®¾æ¯ä¸ªäººéƒ½æ˜¯ä¸“ä¸šæ€§å¾ˆå¼ºã€åœ¨å„è‡ªé¢†åŸŸéƒ½æ˜¯ç¿˜æ¥šçš„å­˜åœ¨ï¼Œé‚£ä¹ˆä¸å¯é¿å…çš„å­˜åœ¨ä¸€äº›æ€ç»´å®šåŠ¿ï¼šè¿™ä¸ªäº§å“åœ¨æˆ‘è¿™ä¸ªé¢†åŸŸå®ƒæ˜¯è¿™ä¹ˆåšçš„ã€å…¶å®ƒé¢†åŸŸçš„äººè¦é…åˆæˆ‘è¿™ä¹ˆåšï¼ˆç®€è¨€ä¹‹ï¼Œæˆ‘çš„æ–¹æ³•è®ºæ˜¯ç»è¿‡å®æˆ˜æ£€éªŒçš„ï¼‰â€¦â€¦é¡¹ç›®åˆšå¼€å§‹å€’é—®é¢˜ä¸å¤§ï¼Œä¸€æ—¦è¿›å±•åŠ å¿«åˆ°äº†ç³»ç»Ÿæ•´åˆã€éœ€è¦å¤šç§‘å­¦é…åˆçš„æ—¶å€™å°±å¾€å¾€å®¹æ˜“ä¸ºä¸€äº›é…åˆé—®é¢˜äº‰æ‰§ä¸ä¸‹ï¼šä½ å¿…é¡»è¦ä»¥æˆ‘è®¤å¯ã€æœ€èˆ’æœçš„æ–¹å¼æ¥è·Ÿæˆ‘åˆä½œï¼Œè¿™äº›gapå…¶å®å°±æ˜¯å·¥ç¨‹é¡¹ç›®ä¸­çš„ç³»ç»Ÿæ€§è®¤çŸ¥åå·®ï¼Œè·Ÿè´ªå¿ƒç®—æ³•å¾ˆåƒï¼Œæ¯ä¸ªå°å›¢ä½“éƒ½åœ¨ä¸ç”±è‡ªä¸»çš„è¿½æ±‚å±€éƒ¨æœ€ä¼˜è§£ï¼Œè€Œæ”¾å¼ƒäº†æ•´ä½“çš„æœ€ä¼˜è·¯å¾„ ä¸ç§‘å­¦çš„æƒ³æ³•ä¸€äº›éè½¯ä»¶å­¦ç§‘ã€ä¸ç§‘å­¦çš„è§‚ç‚¹ç»å¸¸ä¼šåœ¨é¡¹ç›®é‡Œå‡ºç°ï¼Œå¹¶å°è¯•ä¸»å¯¼ã€å½±å“è½¯ä»¶é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¯”å¦‚ï¼š â‘  é¡¹ç›®äººå‘˜è§‰å¾—è½¯ä»¶è·Ÿç¡¬ä»¶ã€æœºæ¢°ä¸€æ ·æ˜¯å¯ä»¥é€†å‘çš„ï¼Œåªè¦é€†å‘å‡ºä»£ç å°±èƒ½è¿˜åŸæ•´ä¸ªè½¯ä»¶é¡¹ç›® â‘¡ è½¯ä»¶è‡ªå·±è¿›è¡Œæµ‹è¯•éªŒè¯å°±OKäº†ï¼Œæˆ‘ä»¬éƒ½æ˜¯è‡ªå·±æµ‹è¯•çš„ï¼Œæ²¡å¿…è¦æœ‰ä¸“é—¨çš„æµ‹è¯•äººå‘˜ â‘¢ è½¯ä»¶å¯ä»¥åƒæœºæ¢°ä¸€æ ·ä¸€ç‰ˆå®šå‹çš„ï¼ŒéªŒè¯è¿‡å°±é©¬ä¸Šå¯ä»¥é‡äº§äº†ï¼Œæ²¡æœ‰è¿­ä»£çš„å¿…è¦ â‘£ ä»£ç æ˜¯ä¸éœ€è¦æ‰˜ç®¡ã€åšç‰ˆæœ¬æ§åˆ¶çš„ï¼Œè‡ªå·±ç®¡è‡ªå·±çš„æœ¬åœ°ä»£ç å°±è¡Œ â‘¤ æ‰¾ä¸ªæ ¸å¿ƒäººæ‰æ¥é¢è¯•ï¼Œä¸éœ€è¦JDï¼Œæ‰“ç‚¹å…³ç³»å°±å¯ä»¥æŠŠé¡¹ç›®åšæˆåŠŸ â‘¥ ç¡¬ä»¶å·²ç»å‡ºæ¥äº†ï¼Œä¸‹ä¸ªæœˆé¡¹ç›®éªŒæ”¶ â‘¦ å®¢æˆ·éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œåä¸‡ç«æ€¥ï¼Œåšä¸ªå®šåˆ¶ç‰ˆæœ¬ç»™ä»–å§ ä½†äº‹å®ä¸Šï¼Œè½¯ä»¶é¡¹ç›®æœ‰å…¶å›ºæœ‰çš„å¼€å‘æ¨¡å‹ã€è¿­ä»£å‘¨æœŸã€å·¥ä½œæµç¨‹ï¼Œéœ€æ±‚å‡ºäº†åå·®ä¹Ÿéœ€è¦è°ƒæ•´æ—¶é—´ã€è®¡åˆ’ã€èµ„æºã€äººåŠ›æ¥ä½œä¸ºè¡¥å¿ï¼Œè€Œä¸æ˜¯ä¸€å‘³åœ°å‰¥å‰Šè½¯ä»¶å·¥ç¨‹å¸ˆçš„å‰©ä½™ä»·å€¼ ç›¸ä¿¡è°é‚£ä¹ˆåº”è¯¥ç›¸ä¿¡è°ï¼Ÿ ç›¸ä¿¡æƒå¨ä¸“å®¶çš„åˆ¤æ–­ï¼Œæ™®é€šäººâ€çŸ¥ä¹‹ä¸å…¨ï¼Œå¾€å¾€å±å®³ä¸æµ…â€œ ä¸è¦è½»æ˜“å¦„è¨€è‡ªå·±ä¸æ“…é•¿çš„é¢†åŸŸï¼ŒåŒ…æ‹¬é«˜è°ˆé˜”è®ºã€ä¸æ‡‚è£…æ‡‚ï¼Œè¦æœ‰æ•¬ç•ä¹‹å¿ƒ å®äº‹æ±‚æ˜¯ï¼ŒæƒåŠ›å’Œè´£ä»»å¾€å¾€æ˜¯ç›¸åŒ¹é…çš„ï¼Œé”™è¯¯çš„å†³å®šå¾€å¾€å’Œä¸¥é‡çš„åæœæŒ‚é’© è½¯ä»¶çš„å£°éŸ³è½¯ä»¶å­¦ç§‘çš„ä¸€äº›æ¯”è¾ƒå¥½çš„è§‚ç‚¹ï¼š â‘  å®¢æˆ·æå‡ºé¢å¤–éœ€æ±‚ï¼Œå®‰æ’äº§å“å’Œé¡¹ç›®äººå‘˜è¿›è¡Œè¿›è¡Œé¡¹ç›®å˜æ›´è¯„ä¼° â‘¡ é¢„ç•™å……è¶³çš„æ—¶é—´å»è¯„ä¼°å·¥ä½œè®¡åˆ’ï¼Œè½¯ä»¶å·¥ä½œåŒ…çš„åˆ†è§£å°½é‡ç»†è‡´æ˜äº† â‘¢ æµ‹è¯•è®¡åˆ’ä¹Ÿéœ€è¦ååˆ†æ˜ç¡®ç»†è‡´ï¼Œé¢„ç•™ä¸€éƒ¨åˆ†æ—¶é—´ç»™è½¯ä»¶äººå‘˜ä¿®å¤ç¼ºé™· â‘£ æ ¹æ®é¡¹ç›®çš„å¤æ‚åº¦å®‰æ’ç›¸åº”çš„å¼€å‘æ¨¡å‹ï¼Œå¦‚ç€‘å¸ƒæ¨¡å‹ã€æ•æ·å¼€å‘ã€Væ¨¡å¼ã€èºæ—‹æ¨¡å‹â€¦â€¦ â‘¤ ä¸€ä¸ªå¤æ‚çš„äº§å“æœ€å¥½ç”±ä¸€ä¸ªå¤§è€Œå…¨çš„ç³»ç»Ÿå·¥ç¨‹å¸ˆç»Ÿç­¹è´Ÿè´£ï¼Œç”±ä»–æ¥æ¨åŠ¨é¡¹ç›®çš„æ–¹æ–¹é¢é¢ æ€»ç»“æ¯ä¸ªäººä»ä¸åŒçš„è§’åº¦çœ‹åˆ°æ¨æ¡ƒçš„æ ·å­éƒ½ä¸ä¸€æ ·çš„ï¼Œæ­£è§†åå·®çš„å­˜åœ¨ï¼Œæœ‰çš„äººçœ‹åˆ°çš„å°±æ˜¯äº”è§’æ˜Ÿï¼Œæœ‰çš„äººçœ‹åˆ°çš„æ˜¯æœå®â€¦â€¦ åªè¦æ˜¯äººéƒ½æ˜¯ä¾é è‡ªå·±çš„çŸ¥è¯†ä¸è®¤çŸ¥å¹¶ä¸”è¢«ä¹‹æŸç¼šç”Ÿæ´»ç€çš„ï¼Œé‚£å°±å«åšç°å®ã€‚ä½†æ˜¯çŸ¥è¯†ä¸è®¤çŸ¥æ˜¯æ¨¡ç³Šä¸æ¸…çš„ä¸œè¥¿ï¼Œç°å®ä¹Ÿè®¸åªæ˜¯é•œä¸­èŠ±æ°´ä¸­æœˆï¼Œäººéƒ½æ˜¯æ´»åœ¨è‡ªå·±çš„æ‰§å¿µä¸­çš„ã€‚","tags":["project"],"categories":["æ–¹æ³•è®º"]},{"title":"å·¥ä¸šè½¯ä»¶çš„ç‰¹ç‚¹","path":"//industrial-software-properties.html","content":"å¤šç”¨æˆ·ä¸åŒçš„ç”¨æˆ·ç»™äºˆä¸ä¸€æ ·çš„è®¾å¤‡è®¿é—®æƒé™ï¼Œæ¯”å¦‚ï¼š è®¾å¤‡äººå‘˜ï¼šç»´æŠ¤ä¿å…»æ€§è´¨ï¼Œéœ€è¦æé«˜çš„æƒé™ï¼Œæ¯”å¦‚æš‚åœæœºç»„çš„è¿è¡Œã€æ›´æ¢æŸä¸ªæ ¸å¿ƒé›¶éƒ¨ä»¶ï¼Œè¿›è¡Œé›¶éƒ¨ä»¶çš„å‡çº§å’Œè¯Šæ–­ å·¥è‰ºäººå‘˜ï¼šä½¿ç”¨è€…ï¼Œåå‘äºäº§å“é…æ–¹å’Œæœ€ç»ˆè¾“å‡ºç‰©çš„è´¨é‡ç›‘æ§ ç”Ÿäº§äººå‘˜ï¼šä½¿ç”¨è€…ï¼Œåå‘äºååº”æµç¨‹çš„æ§åˆ¶ï¼ˆè¾“å…¥å’Œè¾“å‡ºï¼‰å’Œè´¨é‡æŠŠå…³ æŠ€æœ¯äººå‘˜ï¼šå¼€å‘è€…å’Œç»´æŠ¤è€…ï¼Œæœ€é«˜æƒé™ é”€å”®äººå‘˜ï¼šæ¼”ç¤ºäº§å“çš„åŸºæœ¬åŠŸèƒ½å’Œç‰¹è‰²ï¼Œéœ€è¦æ”¯æŒCustomerç”¨æˆ·æ¨¡å¼ è®¾å¤‡æ§åˆ¶ä»¥ç”µæœºã€æœºå™¨è‡‚ã€å¼€å…³é˜€é—¨ã€PLCçš„æ§åˆ¶ä¸ºä¸»ï¼Œæ•´æœºå¯¹é›¶éƒ¨ä»¶çš„æ§åˆ¶ï¼š é€šè¿‡è¿œç¨‹çš„æ€»çº¿è¿›è¡Œè¯»å†™å¯„å­˜å™¨é…ç½®ï¼Œå¦‚modbusã€EtherCATã€OPCUA è‡ªå®šä¹‰é€šä¿¡åè®®ï¼Œå¦‚UART ASCIIæ§åˆ¶ã€webæŠ€æœ¯ã€å€ç¦ADSç»„ä»¶ç­‰ æ•°æ®é‡‡é›†å’Œäº‹ä»¶è®°å½•ä¼ æ„Ÿå™¨çš„æ•°æ®é‡‡é›†ï¼Œé€šä¿¡æ¥å£å¯ä»¥æ˜¯485ã€EtherNetã€EtherCATã€æ¨¡æ‹Ÿé‡ã€è¿œç¨‹I&#x2F;Oï¼Œè½¯ä»¶éœ€è¦å®æ—¶ç›‘æ§æ¥è‡ªç”Ÿäº§è¿‡ç¨‹çš„æ•æ„Ÿå‚æ•°å¹¶è®°å½•å®ƒä»¬çš„çŠ¶æ€å˜åŒ–ï¼›è®¾å¤‡è¿è¡Œæ—¥å¿—ä¹Ÿè¦æœ‰å®Œæ•´çš„æ—¶é—´æ—¥æœŸã€é—®é¢˜è®°å½•ã€è¿è¡ŒçŠ¶æ€è®°å½•ï¼Œè¦æ±‚èƒ½å¤Ÿå›æº¯æ£€æŸ¥ä¸€å®šæ—¶é—´æ®µå†…çš„æ—¥å¿— HMIç•Œé¢æ¯”è¾ƒåˆé€‚çš„ç•Œé¢æ¡†æ¶æœ‰C#æˆ–è€…Qtæˆ–è€…HTMLï¼ŒHMIç•Œé¢çš„ä½œç”¨æœ‰ï¼š ä¼ æ„Ÿå™¨å‚æ•°é‡‡é›†ã€å±•ç¤ºå’Œå­˜å‚¨ ååº”è¿‡ç¨‹çš„å±•ç¤ºï¼ŒåŒ…æ‹¬æ°”è·¯ã€é˜€é—¨ã€ååº”ç‚‰ã€æœºå™¨è‡‚çš„åŠ¨æ€è¿‡ç¨‹ è®¾å¤‡è¯Šæ–­å’Œå®‰å…¨å‘Šè­¦åŠŸèƒ½ é…æ–¹æœºåˆ¶å·¥è‰ºã€ææ–™ç›¸å…³çš„èœå•ï¼Œæ§åˆ¶ç€ååº”ç‚‰çš„è¾“å…¥å‚æ•°ä»¥åŠååº”æ¡ä»¶ï¼ˆæ¸©åº¦ã€æ°”å‹ã€çœŸç©ºåº¦ã€æµé‡ç­‰ï¼‰ æ ¡å‡†åŠŸèƒ½æœºæ¢°ã€å·¥è‰ºã€ç”Ÿäº§ã€ååº”ã€è¿åŠ¨æ§åˆ¶è¿‡ç¨‹ä¸­çš„é…ç½®å‚æ•°å¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œè€Œæ˜¯éšç€è£…ç½®çš„åˆ¶é€ ã€å®‰è£…ã€ä½¿ç”¨ã€è€åŒ–ä»¥åŠç¯å¢ƒçš„åå·®ä¼šæœ‰æ‰€å˜åŒ–ï¼›å› æ­¤ï¼Œä¸ºäº†æœ€ç»ˆååº”è¾“å‡ºç‰©ç¬¦åˆè¦æ±‚ï¼Œéœ€è¦æ€»ç»“ä¸€äº›ç»éªŒå‚æ•°ï¼ˆå…¬å¼ï¼‰ï¼Œç„¶åè°ƒæ•´åº”ç”¨äºç”Ÿäº§è¿‡ç¨‹ï¼Œè¿™å°±æ˜¯æ ¡å‡†åŠŸèƒ½ è¯Šæ–­åè®®åŠå¯¼ä½“è®¾å¤‡åŠé›¶éƒ¨ä»¶æœ‰é€šç”¨çš„è®¾å¤‡è¯Šæ–­åè®®ï¼šSECS IIæ ‡å‡†","tags":["industrial","software","scada"],"categories":["æ–¹æ³•è®º"]},{"title":"Android Studioå¸¸ç”¨å¿«æ·é”®","path":"//android-studio-common-shortcut.html","content":"æœ€æ–°ç‰ˆIDE Otterå¸¸ç”¨çš„å¿«æ·æ–¹å¼æ±‡æ€»ï¼š ç¼–è¯‘é¡¹ç›®ï¼šCtrl + F9 è¿è¡Œé¡¹ç›®ï¼šShift + F10 è°ƒè¯•é¡¹ç›®ï¼šShift + F9 æŸ¥æ‰¾å‡½æ•°å¼•ç”¨ï¼šAlt + F7 åˆ‡æ¢æœç´¢æ ï¼šAlt + 3 æ‰“å¼€ç»ˆç«¯æ§åˆ¶å°ï¼šAlt + F12 æäº¤ä»£ç ï¼šAlt + 0ï¼ŒCtrl + K æ‰“å¼€Gitï¼šAlt + 9 æ‰“å¼€è®¾ç½®èœå•ï¼šCtrl + Alt + S æ‰“å¼€å·¥ç¨‹é…ç½®ï¼šCtrl + Alt + Shift + S é¼ æ ‡å‰è¿› &#x2F; å›é€€ï¼šCtrl + Alt + â† &#x2F; â†’","tags":["shortcut","Android","Studio"],"categories":["å¼€å‘å·¥å…·"]},{"title":"TMUX1248åº”ç”¨æ”»ç•¥","path":"//tmux1248-usage.html","content":"ä»‹ç»TMUX1248æ˜¯å¾·å·ä»ªå™¨å‡ºå“çš„å•åˆ€åŒæ·å¼€å…³ï¼Œç”¨äºåŠ¨æ€åˆ‡æ¢ä¸åŒçš„IOé€‰é¡¹ï¼Œé€‰é¡¹S1å’ŒS2å’ŒDå¼•è„šé€šè¿‡åŠ¨æ€å¼€å…³è”é€šä¸”æ”¯æŒè¾“å…¥è¾“å‡ºæ¨¡å¼ å¼•è„šTMUX1248ç‰‡ä¸Šå¼•è„šçš„åŠŸèƒ½å¦‚ä¸‹è¡¨æ ¼æ‰€ç¤º å¼•è„š åŠŸèƒ½ æ¨¡å¼ S1 ç‰‡é€‰é€šé“1 è¾“å…¥ã€è¾“å‡º S2 ç‰‡é€‰é€šé“2 è¾“å…¥ã€è¾“å‡º D æ•°æ®é€šé“ è¾“å…¥ã€è¾“å‡º SEL 0é€‰é€šé“1ï¼Œ1é€‰é€šé“2 è¾“å‡º åº”ç”¨è¿™ä¸ªé€»è¾‘èŠ¯ç‰‡ä¸»è¦æ˜¯åº”ç”¨äºIOæˆ–è€…æ€»çº¿ã€è®¾å¤‡èµ„æºæœ‰é™çš„åœºæ™¯ â‘  æ‹“å±•æ€»çº¿çš„ä»è®¾å¤‡æ§åˆ¶å¼•è„šï¼Œå¦‚spiçš„CSå¼•è„š â‘¡ å®ç°ä¸¤è·¯GPIOæŒ‰é”®çš„åŠ¨æ€æ£€æµ‹ï¼ˆæ”¯æŒä¸­æ–­æ¨¡å¼ï¼‰ â‘¢ æ‹“å±•å’Œå¤ç”¨ADCã€DACã€PWMå¼•è„š ç”µæ°”æ¨èå·¥ä½œæ¡ä»¶ æœ€å¤§é¢å®šå€¼ ç›´æµç”µæ°”ç‰¹æ€§ æ•°æ®ä¿è´¨æœŸ æ§åˆ¶æ§åˆ¶æŒ‡ä»¤å¦‚ä¸‹ å‚è€ƒTMUX1248æŠ€æœ¯æ‰‹å†Œï¼štmux1248.pdf","tags":["TMUX1248","TI"],"categories":["åµŒå…¥å¼"]},{"title":"é€’å½’ç®—æ³•æ±‚è§£næ¬¡å¹‚","path":"//recursive-algorithm-pow.html","content":"ä»‹ç»LeetCodeä¸Šé¢æœ‰ä¸€ä¸ªæ±‚æµ®ç‚¹æ•°çš„æ•´æ•°æ¬¡å¹‚çš„é¢˜ï¼Œé¢˜ç›®è¦æ±‚å¦‚ä¸‹ å®ç° pow(x, n) ï¼Œå³è®¡ç®— x çš„æ•´æ•° n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œx(n)( )ï¼‰ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šx &#x3D; 2.00000, n &#x3D; 10 è¾“å‡ºï¼š1024.00000 ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šx &#x3D; 2.10000, n &#x3D; 3 è¾“å‡ºï¼š9.26100 ç¤ºä¾‹ 3ï¼š è¾“å…¥ï¼šx &#x3D; 2.00000, n &#x3D; -2 è¾“å‡ºï¼š0.25000 è§£é‡Šï¼š2(-2) &#x3D; 1&#x2F;2(2) &#x3D; 1&#x2F;4 &#x3D; 0.25 å®ç°é€’å½’æ³•çš„ç»“æŸç‚¹ï¼š0æ¬¡å¹‚æˆ–è€…1çš„æ—¶å€™è¦èƒ½å¤Ÿæ±‚å‡ºç»“æœ 123456if(n == 0) &#123;\treturn 1;&#125;else if(n == 1) &#123;\treturn x;&#125; å¦‚æœnæ˜¯éè´Ÿæ•° 1234567891011121314class Solution &#123;public: double myPow(double x, int n) &#123; if(n == 0) &#123; return 1; &#125; else if(n == 1) &#123; return x; &#125; else &#123; return x * myPow(x, n-1); &#125; &#125;&#125;; å¦‚æœnæ˜¯è´Ÿæ•° 123456789101112131415class Solution &#123;public: double myPow(double x, int n) &#123; n = -n; if(n == 0) &#123; return 1; &#125; else if(n == 1) &#123; return x; &#125; return 1 / (x * myPow(x, n-1)); &#125;&#125;; æ•´åˆä»£ç ï¼ˆè€ƒè™‘åˆ°æ•´æ•°çš„èŒƒå›´è¦æ±‚ï¼‰ 1234567891011121314151617181920class Solution &#123;public: double myPow(double x, int n) &#123; if(n &gt;= 0) &#123; if(n == 0) &#123; return 1; &#125; else if(n == 1) &#123; return x; &#125; else &#123; return x * myPow(x, n-1); &#125; &#125; else &#123; n = -n; return 1 / (x * myPow(x, n-1)); &#125; &#125;&#125;; æ€»ç»“ä¸Šé¢3ä¸ªç¤ºä¾‹éƒ½èƒ½æ­£ç¡®æ±‚è§£ï¼Œå¯è§é€’å½’æ³•æ˜¯èƒ½å¤Ÿæ»¡è¶³é¢˜æ„è¦æ±‚çš„ï¼›ä½†æ˜¯åœ¨å®é™…æäº¤çš„æ—¶å€™ï¼Œå¦‚æœé€’å½’çš„æ¬¡æ•°è¿‡å¤šä¼šé€ æˆç¨‹åºçš„æ ˆæº¢å‡ºï¼ˆç³»ç»Ÿä¼šé™åˆ¶ç¨‹åºæ ˆç©ºé—´å¤§å°ï¼ŒPCç«¯å¥½åƒæ˜¯2Mè¿˜æ˜¯4Mæ¥ç€ï¼ŒåµŒå…¥å¼å°±æ›´åŠ æ•æ„Ÿï¼‰ï¼›æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¸æ•´é‚£ä¹ˆå¤šè™šçš„ï¼Œç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼ˆäººç”Ÿè‹¦çŸ­æˆ‘é€‰std::pow(x,n) ï¼‰ğŸ™‚","tags":["recursive","algorithm","pow"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"F28M35å¤šæ ¸è°ƒè¯•æ•™ç¨‹","path":"//f28m35-multicore-debug.html","content":"é…ç½®M3CPUå‹å·é€‰F28M35H52C1ï¼Œé…ç½®M3æ ¸è°ƒè¯•å™¨ï¼šXDS 100v2 USB Debug Probe ç¡®ä¿M3æ ¸çš„è°ƒè¯•è®¾å¤‡ä¸ºCortex_M3_0 C28é…ç½®C28æ ¸è°ƒè¯•å™¨ï¼šXDS 100v2 USB Debug Probeï¼ŒC28ä½œä¸ºControlæ ¸å¿ƒéœ€è¦åœ¨M3ä¹‹åå¯åŠ¨ è°ƒè¯•MasterM3æ ¸ä½œä¸ºMasterï¼Œéœ€è¦å…ˆå¯åŠ¨ Controlé€‰æ‹©XDS100v2 USB Debug Probe_0/C28xx_0ï¼Œå³é”®å¼¹å‡ºå¯¹è¯æ¡†ï¼Œç‚¹å‡»Connect Target ç´§æ¥ç€æ‰‹åŠ¨åŠ è½½C28ç¨‹åº æ‰‹åŠ¨åŠ è½½C28å·¥ç¨‹ç¼–è¯‘å¥½çš„ç¨‹åºæ–‡ä»¶ é™ç­‰C28ç¨‹åºçƒ§å½•å®Œæˆ æ³¨æ„æ­¤æ—¶ä¸¤ä¸ªæ ¸å¿ƒéƒ½æ˜¯Suspendedçš„ï¼Œæ¥ç€åˆ†åˆ«å¯¹M3ã€C28æ ¸å¿ƒè¿›è¡ŒCPU Resetæ“ä½œ ç´§æ¥ç€å…ˆå¯åŠ¨C28æ ¸å¿ƒï¼Œåå¯åŠ¨M3æ ¸å¿ƒï¼Œè¿™æ ·å°±å¯ä»¥é€šä¿¡æ–­ç‚¹è°ƒè¯•ä¸¤ä¸ªå¼‚æ„æ ¸å¿ƒäº† å…±äº«å†…å­˜æŸ¥çœ‹å…±äº«å†…å­˜åœ°å€ï¼ˆM3ï¼‰ æŸ¥çœ‹å…±äº«å†…å­˜åœ°å€ï¼ˆC28ï¼‰ æ€»ç»“ å…ˆçƒ§å½•M3ä½œä¸ºMasteræ ¸å¿ƒï¼Œå†çƒ§å½•C28ä½œä¸ºControlæ ¸å¿ƒ ä¸€èˆ¬å¦‚æœåªä¿®æ”¹äº†C28ï¼Œå¯ä»¥ç›´æ¥Buildçƒ§å½•è¿è¡Œï¼Œä½†å¦‚æœä¿®æ”¹äº†M3ï¼Œéœ€è¦ä¸¤ä¸ªéƒ½Resetå†è¿è¡Œ å¦‚æœæ ¸å¿ƒçš„ç¨‹åºæ²¡æœ‰æ›´æ–°ï¼Œä¸€èˆ¬åªResetå†æ‰§è¡Œå°±å¥½","tags":["F28M35","M3","dsp","C28","CCS"],"categories":["åµŒå…¥å¼"]},{"title":"Linux ms3020ä¸²å£é©±åŠ¨ç§»æ¤","path":"//linux-ms3020-driver.html","content":"ä»‹ç»æœ€è¿‘åœ¨æ·˜å®ä¸Šé¢è´­ä¹°äº†ä¸€æ¬¾æ”¯æŒRS485 &amp;&amp; RS232é€šä¿¡çš„USBä¸²å£æ¨¡å—ï¼Œé€šä¿¡çš„ICä¸ºms3020ï¼Œè¯è¯´è¿™ä¸ªèŠ¯ç‰‡å¾ˆå°‘è§ï¼Œä¸€èˆ¬éƒ½æ˜¯CH34Xæˆ–è€…PL2303æ¯”è¾ƒå¤š ä¹‹æ‰€ä»¥é€‰å®ƒæ˜¯å› ä¸ºå®ƒçš„æ³¢ç‰¹ç‡å·ç§°èƒ½è¾¾åˆ°12Mbpsï¼Œè€Œä¸”æ‰22 RMB å®ƒçš„å¼•è„šåŠŸèƒ½è¯´æ˜ åºå· ç«¯å£åŠå…¶ä»–å®šä¹‰ è¯´æ˜ 1 TXD TTLä¸²å£æ•°æ®å‘é€ 2 CTS æ¡æ‰‹ä¿¡å· 3 RXD TTLä¸²å£æ•°æ®æ¥æ”¶ 4 RTS æ¡æ‰‹ä¿¡å· 5ã€6 GND ä¿¡å·å‚è€ƒåœ°&#x2F;ç”µæºè¾“å‡ºåœ° 7ã€8 5V ç”µæºè¾“å‡º5V 9ã€10 3.3V ç”µæºè¾“å‡º3.3V 11ã€12 Control&#x2F;TTL_5V çŸ­æ¥5Vå’ŒControlåˆ™è¾“å‡ºTTLç”µå¹³ä¸º5V 13ã€14 Control&#x2F;TTL 3.3V çŸ­æ¥3.3Vå’ŒControlåˆ™è¾“å‡ºTTLç”µå¹³ä¸º3.3V ç§»æ¤æŠ€æœ¯æ”¯æŒç»™åŸç‰ˆé©±åŠ¨æ®è¯´åªèƒ½è¿è¡Œåœ¨4.Xçš„Linuxå†…æ ¸ä¸Šé¢ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªUSBè®¾å¤‡æ³¨å†Œäº†ttyé©±åŠ¨ï¼ˆæ”¯æŒçƒ­æ‹”æ’ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799// SPDX-License-Identifier: GPL-2.0/* * Macrosilicon MS3020 USB to serial adaptor driver * * Original driver for LINUX 2.2.x * */#include &lt;linux/kernel.h&gt;#include &lt;linux/errno.h&gt;#include &lt;linux/slab.h&gt;#include &lt;linux/tty.h&gt;#include &lt;linux/tty_driver.h&gt;#include &lt;linux/tty_flip.h&gt;#include &lt;linux/serial.h&gt;#include &lt;linux/module.h&gt;#include &lt;linux/moduleparam.h&gt;#include &lt;linux/spinlock.h&gt;#include &lt;linux/uaccess.h&gt;#include &lt;linux/usb.h&gt;#include &lt;linux/usb/serial.h&gt;#include &lt;asm/unaligned.h&gt;#define MS3020_VENDOR_ID (0x345f)#define MS3020_PRODUCT_ID (0x3020)#define SET_LINE_REQUEST_TYPE (0x21)#define SET_LINE_REQUEST (0x20)#define GET_LINE_REQUEST_TYPE (0xa1)#define GET_LINE_REQUEST (0x21)#define SET_CONTROL_REQUEST_TYPE (0x21)#define SET_CONTROL_REQUEST (0x22)#define CONTROL_DTR (0x01)#define CONTROL_RTS (0x02)#define BREAK_REQUEST_TYPE (0x21)#define BREAK_REQUEST (0x23)#define BREAK_ON (0xffff)#define BREAK_OFF (0x0000)#define VENDOR_WRITE_REQUEST_TYPE (0x40)#define VENDOR_WRITE_REQUEST (0x80)#define VENDOR_READ_REQUEST_TYPE (0xc0)#define VENDOR_READ_REQUEST (0x81)#define UART_STATE_INDEX (8)#define UART_STATE_MSR_MASK (0x8b)#define UART_STATE_TRANSIENT_MASK (0x74)#define UART_DCD (0x01)#define UART_DSR (0x02)#define UART_BREAK_ERROR (0x04)#define UART_RING (0x08)#define UART_FRAME_ERROR (0x10)#define UART_PARITY_ERROR (0x20)#define UART_OVERRUN_ERROR (0x40)#define UART_CTS (0x80)#define MS3020_FLOWCTRL_MASK (0xf0)#define MS3020_DEF_FLOWCTRL_REG (0x0a)#define MS3020_DEF_FLOWCTRL_MASK (0x1c)#define MS3020_DEF_FLOWCTRL_NONE (0x1c)#define MS3020_DEF_FLOWCTRL_RTS_CTS (0x18)#define MS3020_DEF_FLOWCTRL_XON_XOFF (0x0c)static const struct usb_device_id id_table[] = &#123; &#123; USB_DEVICE_INTERFACE_CLASS(MS3020_VENDOR_ID, MS3020_PRODUCT_ID, 0xff) &#125;, &#123; &#125;&#125;;MODULE_DEVICE_TABLE(usb, id_table);static void ms3020_set_break(struct usb_serial_port *port, bool enable);enum ms3020_type &#123; TYPE_DEF, TYPE_COUNT&#125;;struct ms3020_type_data &#123; const char *name; speed_t max_baud_rate;&#125;;struct ms3020_serial_private &#123; const struct ms3020_type_data *type;&#125;;struct ms3020_private &#123; spinlock_t lock; u8 line_control; u8 line_status; u8 line_settings[7];&#125;;static const struct ms3020_type_data ms3020_type_data[TYPE_COUNT] = &#123; [TYPE_DEF] = &#123; .name = &quot;DEF&quot;, .max_baud_rate = 12000000, &#125;,&#125;;static int ms3020_vendor_read(struct usb_serial *serial, u16 value, unsigned char buf[1])&#123; struct device *dev = &amp;serial-&gt;interface-&gt;dev; int ret; ret = usb_control_msg(serial-&gt;dev, usb_rcvctrlpipe(serial-&gt;dev, 0), VENDOR_READ_REQUEST, VENDOR_READ_REQUEST_TYPE, value, 0, buf, 1, 100); if (ret != 1) &#123; dev_err(dev, &quot;%s failed to read [%04x]: %d &quot;, __func__, value, ret); if (ret &gt;= 0) ret = -EIO; return ret; &#125; dev_dbg(dev, &quot;%s [%04x] = %02x &quot;, __func__, value, buf[0]); return 0;&#125;static int ms3020_vendor_write(struct usb_serial *serial, u16 value, u16 index)&#123; struct device *dev = &amp;serial-&gt;interface-&gt;dev; int ret; dev_dbg(dev, &quot;%s [%04x] = %02x &quot;, __func__, value, index); ret = usb_control_msg(serial-&gt;dev, usb_sndctrlpipe(serial-&gt;dev, 0), VENDOR_WRITE_REQUEST, VENDOR_WRITE_REQUEST_TYPE, value, index, NULL, 0, 100); if (ret) &#123; dev_err(dev, &quot;%s failed to write [%04x]: %d &quot;, __func__, value, ret); return ret; &#125; return 0;&#125;static int ms3020_update_reg(struct usb_serial *serial, u8 reg, u8 mask, u8 val)&#123; int ret = 0; u8 *buf; buf = kmalloc(1, GFP_KERNEL); if (!buf) return -ENOMEM; ret = ms3020_vendor_read(serial, reg, buf); if (ret) goto out_free; *buf &amp;= ~mask; *buf |= val &amp; mask; ret = ms3020_vendor_write(serial, reg, *buf);out_free: kfree(buf); return ret;&#125;static int ms3020_probe(struct usb_serial *serial, const struct usb_device_id *id)&#123; usb_set_serial_data(serial, (void *)id-&gt;driver_info); return 0;&#125;static int ms3020_startup(struct usb_serial *serial)&#123; struct ms3020_serial_private *spriv; unsigned char num_ports = serial-&gt;num_ports; enum ms3020_type type; if (serial-&gt;num_bulk_in &lt; num_ports || serial-&gt;num_bulk_out &lt; num_ports || serial-&gt;num_interrupt_in &lt; num_ports) &#123; dev_err(&amp;serial-&gt;interface-&gt;dev, &quot; error num_ports&quot;); return -ENODEV; &#125; type = TYPE_DEF; spriv = kzalloc(sizeof(*spriv), GFP_KERNEL); if (!spriv) return -ENOMEM; spriv-&gt;type = &amp;ms3020_type_data[type]; usb_set_serial_data(serial, spriv); return 0;&#125;static void ms3020_release(struct usb_serial *serial)&#123; struct ms3020_serial_private *spriv = usb_get_serial_data(serial); kfree(spriv);&#125;static int ms3020_port_probe(struct usb_serial_port *port)&#123; struct ms3020_private *priv; priv = kzalloc(sizeof(*priv), GFP_KERNEL); if (!priv) return -ENOMEM; spin_lock_init(&amp;priv-&gt;lock); usb_set_serial_port_data(port, priv); port-&gt;port.drain_delay = 256; return 0;&#125;static int ms3020_port_remove(struct usb_serial_port *port)&#123; struct ms3020_private *priv = usb_get_serial_port_data(port); kfree(priv); return 0;&#125;static int ms3020_set_control_lines(struct usb_serial_port *port, u8 value)&#123; struct usb_device *dev = port-&gt;serial-&gt;dev; int retval; dev_dbg(&amp;port-&gt;dev, &quot;%s %02x &quot;, __func__, value); retval = usb_control_msg(dev, usb_sndctrlpipe(dev, 0), SET_CONTROL_REQUEST, SET_CONTROL_REQUEST_TYPE, value, 0, NULL, 0, 100); if (retval) dev_err(&amp;port-&gt;dev, &quot;%s failed: %d &quot;, __func__, retval); return retval;&#125;static speed_t _ms3020_encode_baud_rate(unsigned char buf[4], speed_t baud)&#123; put_unaligned_le32(baud, buf); return baud;&#125;static void ms3020_encode_baud_rate(struct tty_struct *tty, struct usb_serial_port *port, u8 buf[4])&#123; struct usb_serial *serial = port-&gt;serial; struct ms3020_serial_private *spriv = usb_get_serial_data(serial); speed_t baud; baud = tty_get_baud_rate(tty); dev_dbg(&amp;port-&gt;dev, &quot;baud requested = %u &quot;, baud); if (!baud) return; if (spriv-&gt;type-&gt;max_baud_rate) baud = min_t(speed_t, baud, spriv-&gt;type-&gt;max_baud_rate); _ms3020_encode_baud_rate(buf, baud); /* Save resulting baud rate */ tty_encode_baud_rate(tty, baud, baud); dev_dbg(&amp;port-&gt;dev, &quot;baud set = %u &quot;, baud);&#125;static int ms3020_get_line_request(struct usb_serial_port *port, unsigned char buf[7])&#123; struct usb_device *udev = port-&gt;serial-&gt;dev; int ret; ret = usb_control_msg(udev, usb_rcvctrlpipe(udev, 0), GET_LINE_REQUEST, GET_LINE_REQUEST_TYPE, 0, 0, buf, 7, 100); if (ret != 7) &#123; dev_err(&amp;port-&gt;dev, &quot;%s - failed: %d &quot;, __func__, ret); if (ret &gt;= 0) ret = -EIO; return ret; &#125; dev_dbg(&amp;port-&gt;dev, &quot;%s - %7ph &quot;, __func__, buf); return 0;&#125;static int ms3020_set_line_request(struct usb_serial_port *port, unsigned char buf[7])&#123; struct usb_device *udev = port-&gt;serial-&gt;dev; int ret; ret = usb_control_msg(udev, usb_sndctrlpipe(udev, 0), SET_LINE_REQUEST, SET_LINE_REQUEST_TYPE, 0, 0, buf, 7, 100); if (ret &lt; 0) &#123; dev_err(&amp;port-&gt;dev, &quot;%s - failed: %d &quot;, __func__, ret); return ret; &#125; dev_dbg(&amp;port-&gt;dev, &quot;%s - %7ph &quot;, __func__, buf); return 0;&#125;static bool ms3020_termios_change(struct ktermios *a, struct ktermios *b)&#123; bool ixon_change; ixon_change = ((a-&gt;c_iflag ^ b-&gt;c_iflag) &amp; (IXON | IXANY)) || a-&gt;c_cc[VSTART] != b-&gt;c_cc[VSTART] || a-&gt;c_cc[VSTOP] != b-&gt;c_cc[VSTOP]; return tty_termios_hw_change(a, b) || ixon_change;&#125;static bool ms3020_enable_xonxoff(struct tty_struct *tty, const struct ms3020_type_data *type)&#123; if (!I_IXON(tty) || I_IXANY(tty)) return false; return true;&#125;static void ms3020_set_termios(struct tty_struct *tty, struct usb_serial_port *port, struct ktermios *old_termios)&#123; struct usb_serial *serial = port-&gt;serial; struct ms3020_serial_private *spriv = usb_get_serial_data(serial); struct ms3020_private *priv = usb_get_serial_port_data(port); unsigned long flags; unsigned char *buf; int ret; u8 control; if (old_termios &amp;&amp; !ms3020_termios_change(&amp;tty-&gt;termios, old_termios)) return; buf = kzalloc(7, GFP_KERNEL); if (!buf) &#123; if (old_termios) tty-&gt;termios = *old_termios; return; &#125; ms3020_get_line_request(port, buf); switch (C_CSIZE(tty)) &#123; case CS5: buf[6] = 5; break; case CS6: buf[6] = 6; break; case CS7: buf[6] = 7; break; default: case CS8: buf[6] = 8; &#125; dev_dbg(&amp;port-&gt;dev, &quot;data bits = %d &quot;, buf[6]); ms3020_encode_baud_rate(tty, port, &amp;buf[0]); if (C_PARENB(tty)) &#123; if (C_PARODD(tty)) &#123; if (C_CMSPAR(tty)) &#123; buf[5] = 3; dev_dbg(&amp;port-&gt;dev, &quot;parity = mark &quot;); &#125; else &#123; buf[5] = 1; dev_dbg(&amp;port-&gt;dev, &quot;parity = odd &quot;); &#125; &#125; else &#123; if (C_CMSPAR(tty)) &#123; buf[5] = 4; dev_dbg(&amp;port-&gt;dev, &quot;parity = space &quot;); &#125; else &#123; buf[5] = 2; dev_dbg(&amp;port-&gt;dev, &quot;parity = even &quot;); &#125; &#125; &#125; else &#123; buf[5] = 0; dev_dbg(&amp;port-&gt;dev, &quot;parity = none &quot;); &#125; if (C_CSTOPB(tty)) &#123; if (C_CSIZE(tty) == CS5) &#123; buf[4] = 1; dev_dbg(&amp;port-&gt;dev, &quot;stop bits = 1.5 &quot;); &#125; else &#123; buf[4] = 2; dev_dbg(&amp;port-&gt;dev, &quot;stop bits = 2 &quot;); &#125; &#125; else &#123; buf[4] = 0; dev_dbg(&amp;port-&gt;dev, &quot;stop bits = 1 &quot;); &#125; if (!old_termios || memcmp(buf, priv-&gt;line_settings, 7)) &#123; ret = ms3020_set_line_request(port, buf); if (!ret) memcpy(priv-&gt;line_settings, buf, 7); &#125; spin_lock_irqsave(&amp;priv-&gt;lock, flags); control = priv-&gt;line_control; if (C_BAUD(tty) == B0) priv-&gt;line_control &amp;= ~(CONTROL_DTR | CONTROL_RTS); else if (old_termios &amp;&amp; (old_termios-&gt;c_cflag &amp; CBAUD) == B0) priv-&gt;line_control |= (CONTROL_DTR | CONTROL_RTS); if (control != priv-&gt;line_control) &#123; control = priv-&gt;line_control; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); ms3020_set_control_lines(port, control); &#125; else &#123; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); &#125; if (C_CRTSCTS(tty)) &#123; if (spriv-&gt;type == &amp;ms3020_type_data[TYPE_DEF]) &#123; ms3020_update_reg(serial, MS3020_DEF_FLOWCTRL_REG, MS3020_DEF_FLOWCTRL_MASK, MS3020_DEF_FLOWCTRL_RTS_CTS); &#125; &#125; else if (ms3020_enable_xonxoff(tty, spriv-&gt;type)) &#123; if (spriv-&gt;type == &amp;ms3020_type_data[TYPE_DEF]) &#123; ms3020_update_reg(serial, MS3020_DEF_FLOWCTRL_REG, MS3020_DEF_FLOWCTRL_MASK, MS3020_DEF_FLOWCTRL_XON_XOFF); &#125; &#125; else &#123; if (spriv-&gt;type == &amp;ms3020_type_data[TYPE_DEF]) &#123; ms3020_update_reg(serial, MS3020_DEF_FLOWCTRL_REG, MS3020_DEF_FLOWCTRL_MASK, MS3020_DEF_FLOWCTRL_NONE); &#125; &#125; kfree(buf);&#125;static void ms3020_dtr_rts(struct usb_serial_port *port, int on)&#123; struct ms3020_private *priv = usb_get_serial_port_data(port); unsigned long flags; u8 control; spin_lock_irqsave(&amp;priv-&gt;lock, flags); if (on) priv-&gt;line_control |= (CONTROL_DTR | CONTROL_RTS); else priv-&gt;line_control &amp;= ~(CONTROL_DTR | CONTROL_RTS); control = priv-&gt;line_control; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); ms3020_set_control_lines(port, control);&#125;static void ms3020_close(struct usb_serial_port *port)&#123; usb_serial_generic_close(port); usb_kill_urb(port-&gt;interrupt_in_urb); ms3020_set_break(port, false);&#125;static int ms3020_open(struct tty_struct *tty, struct usb_serial_port *port)&#123; int result; /* Setup termios */ if (tty) ms3020_set_termios(tty, port, NULL); result = usb_submit_urb(port-&gt;interrupt_in_urb, GFP_KERNEL); if (result) &#123; dev_err(&amp;port-&gt;dev, &quot;failed to submit interrupt urb: %d &quot;, result); return result; &#125; result = usb_serial_generic_open(tty, port); if (result) &#123; usb_kill_urb(port-&gt;interrupt_in_urb); return result; &#125; return 0;&#125;static int ms3020_tiocmset(struct tty_struct *tty, unsigned int set, unsigned int clear)&#123; struct usb_serial_port *port = tty-&gt;driver_data; struct ms3020_private *priv = usb_get_serial_port_data(port); unsigned long flags; u8 control; int ret; spin_lock_irqsave(&amp;priv-&gt;lock, flags); if (set &amp; TIOCM_RTS) priv-&gt;line_control |= CONTROL_RTS; if (set &amp; TIOCM_DTR) priv-&gt;line_control |= CONTROL_DTR; if (clear &amp; TIOCM_RTS) priv-&gt;line_control &amp;= ~CONTROL_RTS; if (clear &amp; TIOCM_DTR) priv-&gt;line_control &amp;= ~CONTROL_DTR; control = priv-&gt;line_control; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); ret = ms3020_set_control_lines(port, control); if (ret) return usb_translate_errors(ret); return 0;&#125;static int ms3020_tiocmget(struct tty_struct *tty)&#123; struct usb_serial_port *port = tty-&gt;driver_data; struct ms3020_private *priv = usb_get_serial_port_data(port); unsigned long flags; unsigned int mcr; unsigned int status; unsigned int result; spin_lock_irqsave(&amp;priv-&gt;lock, flags); mcr = priv-&gt;line_control; status = priv-&gt;line_status; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); result = ((mcr &amp; CONTROL_DTR) ? TIOCM_DTR : 0) | ((mcr &amp; CONTROL_RTS) ? TIOCM_RTS : 0) | ((status &amp; UART_CTS) ? TIOCM_CTS : 0) | ((status &amp; UART_DSR) ? TIOCM_DSR : 0) | ((status &amp; UART_RING) ? TIOCM_RI : 0) | ((status &amp; UART_DCD) ? TIOCM_CD : 0); dev_dbg(&amp;port-&gt;dev, &quot;%s - result = %x &quot;, __func__, result); return result;&#125;static int ms3020_carrier_raised(struct usb_serial_port *port)&#123; struct ms3020_private *priv = usb_get_serial_port_data(port); if (priv-&gt;line_status &amp; UART_DCD) return 1; return 0;&#125;static int ms3020_ioctl(struct tty_struct *tty, unsigned int cmd, unsigned long arg)&#123; struct serial_struct ser; struct usb_serial_port *port = tty-&gt;driver_data; switch (cmd) &#123; case TIOCGSERIAL: memset(&amp;ser, 0, sizeof ser); ser.type = PORT_16654; ser.line = port-&gt;minor; ser.port = port-&gt;port_number; ser.baud_base = 460800; if (copy_to_user((void __user *)arg, &amp;ser, sizeof ser)) return -EFAULT; return 0; default: break; &#125; return -ENOIOCTLCMD;&#125;static void ms3020_set_break(struct usb_serial_port *port, bool enable)&#123; struct usb_serial *serial = port-&gt;serial; u16 state; int result; if (enable) state = BREAK_ON; else state = BREAK_OFF; dev_dbg(&amp;port-&gt;dev, &quot;%s turning break %s &quot;, __func__, state == BREAK_OFF ? &quot;off&quot; : &quot;on&quot;); result = usb_control_msg(serial-&gt;dev, usb_sndctrlpipe(serial-&gt;dev, 0), BREAK_REQUEST, BREAK_REQUEST_TYPE, state, 0, NULL, 0, 100); if (result) dev_err(&amp;port-&gt;dev, &quot;error sending break = %d &quot;, result);&#125;static void ms3020_break_ctl(struct tty_struct *tty, int state)&#123; struct usb_serial_port *port = tty-&gt;driver_data; ms3020_set_break(port, state);&#125;static void ms3020_update_line_status(struct usb_serial_port *port, unsigned char *data, unsigned int actual_length)&#123; struct ms3020_private *priv = usb_get_serial_port_data(port); struct tty_struct *tty; unsigned long flags; unsigned int status_idx = UART_STATE_INDEX; u8 status; u8 delta; if (actual_length &lt; status_idx + 1) return; status = data[status_idx]; /* Save off the uart status for others to look at */ spin_lock_irqsave(&amp;priv-&gt;lock, flags); delta = priv-&gt;line_status ^ status; priv-&gt;line_status = status; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); if (status &amp; UART_BREAK_ERROR) usb_serial_handle_break(port); if (delta &amp; UART_STATE_MSR_MASK) &#123; if (delta &amp; UART_CTS) port-&gt;icount.cts++; if (delta &amp; UART_DSR) port-&gt;icount.dsr++; if (delta &amp; UART_RING) port-&gt;icount.rng++; if (delta &amp; UART_DCD) &#123; port-&gt;icount.dcd++; tty = tty_port_tty_get(&amp;port-&gt;port); if (tty) &#123; usb_serial_handle_dcd_change(port, tty, status &amp; UART_DCD); tty_kref_put(tty); &#125; &#125; wake_up_interruptible(&amp;port-&gt;port.delta_msr_wait); &#125;&#125;static void ms3020_read_int_callback(struct urb *urb)&#123; struct usb_serial_port *port = urb-&gt;context; unsigned char *data = urb-&gt;transfer_buffer; unsigned int actual_length = urb-&gt;actual_length; int status = urb-&gt;status; int retval; switch (status) &#123; case 0: /* success */ break; case -ECONNRESET: case -ENOENT: case -ESHUTDOWN: /* this urb is terminated, clean up */ dev_dbg(&amp;port-&gt;dev, &quot;%s urb shutting down with status: %d &quot;, __func__, status); return; default: dev_dbg(&amp;port-&gt;dev, &quot;%s nonzero urb status received: %d &quot;, __func__, status); goto exit; &#125; usb_serial_debug_data(&amp;port-&gt;dev, __func__, urb-&gt;actual_length, urb-&gt;transfer_buffer); ms3020_update_line_status(port, data, actual_length);exit: retval = usb_submit_urb(urb, GFP_ATOMIC); if (retval) &#123; dev_err(&amp;port-&gt;dev, &quot;%s usb_submit_urb failed with result %d &quot;, __func__, retval); &#125;&#125;static void ms3020_process_read_urb(struct urb *urb)&#123; struct usb_serial_port *port = urb-&gt;context; struct ms3020_private *priv = usb_get_serial_port_data(port); unsigned char *data = urb-&gt;transfer_buffer; char tty_flag = TTY_NORMAL; unsigned long flags; u8 line_status; int i; /* update line status */ spin_lock_irqsave(&amp;priv-&gt;lock, flags); line_status = priv-&gt;line_status; priv-&gt;line_status &amp;= ~UART_STATE_TRANSIENT_MASK; spin_unlock_irqrestore(&amp;priv-&gt;lock, flags); if (!urb-&gt;actual_length) return; /* * Break takes precedence over parity, which takes precedence over * framing errors. */ if (line_status &amp; UART_BREAK_ERROR) tty_flag = TTY_BREAK; else if (line_status &amp; UART_PARITY_ERROR) tty_flag = TTY_PARITY; else if (line_status &amp; UART_FRAME_ERROR) tty_flag = TTY_FRAME; if (tty_flag != TTY_NORMAL) dev_dbg(&amp;port-&gt;dev, &quot;%s tty_flag = %d &quot;, __func__, tty_flag); /* overrun is special, not associated with a char */ if (line_status &amp; UART_OVERRUN_ERROR) tty_insert_flip_char(&amp;port-&gt;port, 0, TTY_OVERRUN); if (port-&gt;port.console &amp;&amp; port-&gt;sysrq) &#123; for (i = 0; i &lt; urb-&gt;actual_length; ++i) if (!usb_serial_handle_sysrq_char(port, data[i])) tty_insert_flip_char(&amp;port-&gt;port, data[i], tty_flag); &#125; else &#123; tty_insert_flip_string_fixed_flag(&amp;port-&gt;port, data, tty_flag, urb-&gt;actual_length); &#125; tty_flip_buffer_push(&amp;port-&gt;port);&#125;static struct usb_serial_driver ms3020_device = &#123; .driver = &#123; .owner = THIS_MODULE, .name = &quot;ms3020&quot;, &#125;, .id_table = id_table, .num_ports = 1, .bulk_in_size = 256, .bulk_out_size = 256, .open = ms3020_open, .close = ms3020_close, .dtr_rts = ms3020_dtr_rts, .carrier_raised = ms3020_carrier_raised, .ioctl = ms3020_ioctl, .break_ctl = ms3020_break_ctl, .set_termios = ms3020_set_termios, .tiocmget = ms3020_tiocmget, .tiocmset = ms3020_tiocmset, .tiocmiwait = usb_serial_generic_tiocmiwait, .process_read_urb = ms3020_process_read_urb, .read_int_callback = ms3020_read_int_callback, .throttle = usb_serial_generic_throttle, .unthrottle = usb_serial_generic_unthrottle, .probe = ms3020_probe, .attach = ms3020_startup, .release = ms3020_release, .port_probe = ms3020_port_probe, .port_remove = ms3020_port_remove,&#125;;static struct usb_serial_driver * const serial_drivers[] = &#123; &amp;ms3020_device, NULL&#125;;module_usb_serial_driver(serial_drivers, id_table);MODULE_DESCRIPTION(&quot;MS3020 USB to serial adaptor driver&quot;);MODULE_LICENSE(&quot;GPL&quot;); ç°åœ¨è¦ç§»æ¤åˆ°6.Xçš„å†…æ ¸é‡Œè¾¹ï¼Œéœ€è¦ä¿®æ”¹éƒ¨åˆ†é©±åŠ¨æ¥å£ç­¾å è‡ªè¡Œæ·»åŠ Makefileæ–‡ä»¶ï¼Œå†…æ ¸è·¯å¾„ä¸ºï¼š&#x2F;home&#x2F;hywing&#x2F;workspace&#x2F;myir-imx-linuxï¼Œç¼–è¯‘å·¥å…·é“¾ï¼šaarch64-poky-linux-gcc 123456789101112131415161718192021222324252627282930313233343536obj-m += ms3020.o# ARMäº¤å‰ç¼–è¯‘é…ç½®KERNEL_DIR ?= /home/hywing/workspace/myir-imx-linuxPWD := $(shell pwd)# äº¤å‰ç¼–è¯‘å·¥å…·é“¾ (ä»ç¯å¢ƒå˜é‡è·å–)CROSS_COMPILE ?= aarch64-poky-linux-ARCH ?= arm64# è®¾ç½®äº¤å‰ç¼–è¯‘ç¯å¢ƒexport CROSS_COMPILEexport ARCHall: $(MAKE) -C $(KERNEL_DIR) M=$(PWD) modulesclean: $(MAKE) -C $(KERNEL_DIR) M=$(PWD) clean# ARMç›®æ ‡å®‰è£… (å¤åˆ¶åˆ°å½“å‰ç›®å½•)install: @echo &quot;Installing ARM module to current directory...&quot; @cp ms3020.ko ./ms3020-arm.ko @echo &quot;ARM module installed as: ms3020-arm.ko&quot;# æ˜¾ç¤ºç¼–è¯‘ä¿¡æ¯info: @echo &quot;=== ARM Cross Compilation Info ===&quot; @echo &quot;Kernel Directory: $(KERNEL_DIR)&quot; @echo &quot;Cross Compile: $(CROSS_COMPILE)&quot; @echo &quot;Architecture: $(ARCH)&quot; @echo &quot;Current Directory: $(PWD)&quot; @echo &quot;================================&quot;.PHONY: all clean install info makeä¹‹å‰å…ˆå¯¼å…¥äº¤å‰ç¼–è¯‘å·¥å…·é“¾ 1source ~/myd-lmx91-toolchain/environment-setup-armv8a-poky-linux äº¤å‰ç¼–è¯‘åç”Ÿæˆms3020.ko æµ‹è¯•æŠŠé©±åŠ¨æ¨¡å—éƒ¨ç½²åˆ°ARMå¼€å‘æ¿ï¼Œè£…è½½é©±åŠ¨åç”Ÿæˆä¸²å£è®¾å¤‡èŠ‚ç‚¹ttyUSB0 è®¾ç½®æ³¢ç‰¹ç‡9600 1stty -F /dev/ttyUSB0 9600 cs8 -parenb -cstopb raw -echo è¿æ¥ä¸Šä½æœº485æ”¶å‘å™¨ å’Œä¸Šä½æœºè¿›è¡Œæ•°æ®æ”¶å‘æµ‹è¯• å‘ç°Ubuntu22.04è¿è¡Œçš„å†…æ ¸ä¹Ÿæ˜¯6.Xï¼Œå¦‚æœæŠŠé©±åŠ¨ç¼–è¯‘åŠ è½½åˆ°X64 Linuxå·¥æ§æœºé‡Œè¾¹å»ï¼Œé©±åŠ¨å°±ä¼šæŠ¥é”™ æ¥æ”¶çš„æ•°æ®ä¹Ÿæ˜¯ä¹±ç ï¼Œè¿™ä¸ªé—®é¢˜å·²ç»ç»™å®˜æ–¹çš„æŠ€æœ¯åé¦ˆäº† æ€»ç»“å¸‚é¢ä¸Šçš„USB 485æ¨¡å—å¯ä»¥åŒæ—¶è¿›è¡Œæ”¶å‘æµ‹è¯•ï¼Œè¿™æ ·çœ‹èµ·æ¥åƒæ˜¯å…¨åŒå·¥ï¼Œä½†å®åˆ™ä¸ç„¶ï¼Œå› ä¸ºèŠ¯ç‰‡å†…éƒ¨æˆ–è€…æ¨¡å—ç”µè·¯å®ç°äº†è‡ªåŠ¨çš„æµå‘æ§åˆ¶åŠŸèƒ½ï¼Œæœ¬è´¨è¿˜æ˜¯åŠåŒå·¥çš„","tags":["RS232","RS485","linux","ms3020"],"categories":["åµŒå…¥å¼"]},{"title":"ILSpyä½¿ç”¨æ•™ç¨‹","path":"//ilspy-tutorial.html","content":"ä»‹ç»ILSpyæ˜¯ä¸€æ¬¾ä¸“é—¨ç”¨äºC#è½¯ä»¶åç¼–è¯‘çš„é€†å‘å·¥å…·ï¼Œæœ€è¿‘åœ¨ç ”ç©¶C#çš„ä¸€äº›ä¸Šä½æœºæ¡ˆä¾‹ï¼Œä½†ä¸ªäººå¹¶ä¸æ“…é•¿C#å¼€å‘ï¼Œæƒ³å€Ÿç”¨è¿™ä¸ªå·¥å…·çœ‹åˆ°ä¸€äº›é€šä¿¡ã€ç•Œé¢çš„ç»†èŠ‚ åç¼–è¯‘è¿è¡ŒILSpyå‰è¦å®‰è£….netç¯å¢ƒ è²Œä¼¼exeä¸èƒ½ç ´è§£ï¼Œæ‰€ä»¥é€‰æ‹©å¯¼å…¥dllæ–‡ä»¶ ä¿å­˜å·¥ç¨‹ä»£ç  ä¼šç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„C#å·¥ç¨‹ è°ƒè¯•è°ƒè¯•å¯ä»¥é€‰æ‹©ç”Ÿæˆpdbæ–‡ä»¶ï¼Œç„¶åç”¨å¯¹åº”ç‰ˆæœ¬çš„Visual Studioæ‰“å¼€","tags":["ILSpy","pdb","C#"],"categories":["å¼€å‘å·¥å…·"]},{"title":"RA4M1-EKå¼€å‘æ¿ç§»æ¤RT-Thread","path":"//ra4m1-ek-rt-thread-bsp.html","content":"ç§»æ¤ä»‹ç»å‡†å¤‡å¼€å‘RA4M1 MCUç¨‹åºè¯·ç”¨æœ€æ–°çš„6.0.0å¯¹åº”ç‰ˆæœ¬çš„å¼€å‘å¥—ä»¶ï¼Œä»¥ä¸‹ç‰ˆæœ¬ç»è¿‡éªŒè¯æ˜¯æ²¡æœ‰é—®é¢˜çš„ rasc6.0.0 fsp6.0.0 mdk5.31 JLink V860 æµç¨‹ æ–°å»ºRA4M1æ¨¡æ¿å·¥ç¨‹ï¼ˆFSPï¼‰ ä¿®æ”¹MDKå·¥ç¨‹ï¼šèŠ¯ç‰‡ã€è°ƒè¯•ã€å†…å­˜åœ°å€ç­‰é…ç½® é€‚é…sconæ„å»ºè„šæœ¬å’Œé…ç½®ï¼Œä¿®æ”¹èŠ¯ç‰‡é…ç½® ç§»æ¤UARTå’ŒGPIOé©±åŠ¨ è¿è¡Œè°ƒè¯•æµ‹è¯•ç”¨ä¾‹ æ¨¡æ¿å·¥ç¨‹æ–°å»ºra4m1_ekå·¥ç¨‹ å¼€å‘æ¿é€‰EK-RA4M1ï¼ŒèŠ¯ç‰‡å‹å·é€‰R7FA4M1AB3CFPï¼ŒIDEé€‰Keil MDK Version 5 æ¨¡æ¿è¿™é‡Œé€‰Bare Metal - Minimal èŠ¯ç‰‡é…ç½®é¡µé¢ï¼Œè·ŸSTM32CubeMXå·®ä¸å¤šï¼Œå¯ä»¥çœ‹åˆ°é»˜è®¤çš„USER LEDå¯¹åº”çš„GPIOï¼ˆP106ï¼‰å·²ç»è¢«ä½¿èƒ½ æ¥ç€æ·»åŠ ä¸€è·¯ä¸²å£UART UART0ä¸²å£å‚æ•°ã€ä¸­æ–­ã€å¼•è„šé…ç½®å¦‚ä¸‹ å¿«æ·å…¥å£æˆ‘ä»¬å¯ä»¥åœ¨MDK KEILæ·»åŠ rascå·¥å…·çš„å¿«æ·å…¥å£ï¼Œç‚¹å‡»èœå•æ Tools -&gt; Customize Tools Menu è¿›å…¥é…ç½®å¿«æ·å·¥å…·å…¥å£é¡µé¢ï¼Œæ·»åŠ RASCçš„é…ç½®å·¥å…·ï¼Œé…ç½®å‚è€ƒå¦‚ä¸‹ï¼ˆå¡«å†™RASCè·¯å¾„ï¼Œå‚æ•°ç­‰ï¼‰ ä¿®æ”¹æ¨¡æ¿æ‹·è´bsp-templateçš„å·¥ç¨‹æ–‡ä»¶è¿‡æ¥ï¼Œå’Œå‰é¢çš„ra4m1_ekæ–‡ä»¶å¤¹åˆå¹¶ ä»ä¸´è¿‘çš„BSPç›®å½•æ‹·è´ä¸€æ¬¾ç›¸ä¼¼çš„MDKæ¨¡æ¿å·¥ç¨‹è¿‡æ¥ï¼Œè¿™é‡Œä½¿ç”¨äº†ra4m2-ecoçš„æ¨¡æ¿ ä¿®æ”¹æ¨¡æ¿å·¥ç¨‹é‡Œè¾¹çš„Deviceä¸ºR7FA4M1ABï¼Œè¿™æ¬¾èŠ¯ç‰‡ä¸»é¢‘48MHzï¼Œå†…å­˜32Kï¼ŒFLASHæœ‰256K ä¿®æ”¹Misc Controlsä¸º-Wno-license-management -Wuninitialized -Wall -Wmissing-declarations -Wpointer-arith -Waggregate-return -Wfloat-equalï¼Œè¿™é‡Œçš„ç›®çš„æ˜¯å‡å°‘ç¼–è¯‘çš„å‘Šè­¦æç¤ºï¼ŒCç¼–è¯‘æ ‡æ³¨ä¸ºc99 RA4M1-EKæ¿è½½J-Linkï¼Œè°ƒè¯•å·¥å…·è¦æ”¹ çƒ§å½•ç®—æ³•é…ç½®å‚è€ƒ åœ¨Utilitiesé‡Œè¾¹å‹¾é€‰Use External Tool for Flash Programmingï¼Œä»å¤–éƒ¨å¯åŠ¨JFlashä¸‹è½½ ç³»ç»Ÿé€‚é…ä¿®æ”¹renesas\\libraries\\Kconfigï¼Œæ·»åŠ RA4M1ç›¸å…³å®šä¹‰ 12345config SOC_SERIES_R7FA4M1 bool select ARCH_ARM_CORTEX_M4 select SOC_FAMILY_RENESAS_RA default n ä¿®æ”¹board/Kconfigï¼Œä¿è¯èŠ¯ç‰‡å®šä¹‰è·Ÿä¸Šé¢çš„ä¸€è‡´ï¼ŒåŒæ—¶ä¿è¯UART0æ˜¯é»˜è®¤ä½¿èƒ½çŠ¶æ€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448menu &quot;Hardware Drivers Config&quot; config SOC_R7FA4M1AB bool select SOC_SERIES_R7FA4M1 select RT_USING_COMPONENTS_INIT select RT_USING_USER_MAIN default y menu &quot;Onboard Peripheral Drivers&quot; menuconfig BSP_USING_FS bool &quot;Enable filesystem&quot; default n if BSP_USING_FS config BSP_USING_SPICARD_FS bool &quot;Enable SPI FLASH filesystem&quot; select BSP_USING_SCI select BSP_USING_SCI9 select BSP_USING_SCI9_SPI select RT_USING_SPI_MSD select RT_USING_DFS_ELMFAT default n endif endmenu menu &quot;On-chip Peripheral Drivers&quot; rsource &quot;../../libraries/HAL_Drivers/Kconfig&quot; menuconfig BSP_USING_UART bool &quot;Enable UART&quot; default y select RT_USING_SERIAL select RT_USING_SERIAL_V2 if BSP_USING_UART menuconfig BSP_USING_UART0 bool &quot;Enable UART0&quot; default y if BSP_USING_UART0 config BSP_UART0_RX_USING_DMA bool &quot;Enable UART0 RX DMA&quot; depends on BSP_USING_UART0 &amp;&amp; RT_SERIAL_USING_DMA default n config BSP_UART0_TX_USING_DMA bool &quot;Enable UART0 TX DMA&quot; depends on BSP_USING_UART0 &amp;&amp; RT_SERIAL_USING_DMA default n config BSP_UART0_RX_BUFSIZE int &quot;Set UART0 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_UART0_TX_BUFSIZE int &quot;Set UART0 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif menuconfig BSP_USING_UART1 bool &quot;Enable UART1&quot; default n if BSP_USING_UART1 config BSP_UART1_RX_USING_DMA bool &quot;Enable UART1 RX DMA&quot; depends on BSP_USING_UART1 &amp;&amp; RT_SERIAL_USING_DMA default n config BSP_UART1_TX_USING_DMA bool &quot;Enable UART1 TX DMA&quot; depends on BSP_USING_UART1 &amp;&amp; RT_SERIAL_USING_DMA default n config BSP_UART1_RX_BUFSIZE int &quot;Set UART1 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_UART1_TX_BUFSIZE int &quot;Set UART1 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif menuconfig BSP_USING_SPI bool &quot;Enable SPI&quot; default n select RT_USING_SPI if BSP_USING_SPI config BSP_USING_SPI0 bool &quot;Enable SPI0 BUS&quot; default n config BSP_USING_SPI1 bool &quot;Enable SPI1 BUS&quot; default n endif menuconfig BSP_USING_SCI bool &quot;Enable SCI Controller&quot; default n config BSP_USING_SCIn_SPI bool depends on BSP_USING_SCI select RT_USING_SPI default n config BSP_USING_SCIn_I2C bool depends on BSP_USING_SCI select RT_USING_I2C default n config BSP_USING_SCIn_UART bool depends on BSP_USING_SCI select RT_USING_SERIAL select RT_USING_SERIAL_V2 default n if BSP_USING_SCI config BSP_USING_SCI0 bool &quot;Enable SCI0&quot; default n if BSP_USING_SCI0 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI0_SPI config BSP_USING_SCI0_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI0_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI0_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI0_UART config BSP_SCI0_UART_RX_BUFSIZE int &quot;Set UART0 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI0_UART_TX_BUFSIZE int &quot;Set UART0 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI1 bool &quot;Enable SCI1&quot; default n if BSP_USING_SCI1 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI1_SPI config BSP_USING_SCI1_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI1_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI1_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI1_UART config BSP_SCI1_UART_RX_BUFSIZE int &quot;Set UART1 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI1_UART_TX_BUFSIZE int &quot;Set UART1 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI2 bool &quot;Enable SCI2&quot; default n if BSP_USING_SCI2 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI2_SPI config BSP_USING_SCI2_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI2_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI2_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI2_UART config BSP_SCI2_UART_RX_BUFSIZE int &quot;Set UART2 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI2_UART_TX_BUFSIZE int &quot;Set UART2 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI3 bool &quot;Enable SCI3&quot; default n if BSP_USING_SCI3 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI3_SPI config BSP_USING_SCI3_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI3_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI3_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI3_UART config BSP_SCI3_UART_RX_BUFSIZE int &quot;Set UART3 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI3_UART_TX_BUFSIZE int &quot;Set UART3 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI4 bool &quot;Enable SCI4&quot; default n if BSP_USING_SCI4 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI4_SPI config BSP_USING_SCI4_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI4_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI4_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI4_UART config BSP_SCI4_UART_RX_BUFSIZE int &quot;Set UART4 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI4_UART_TX_BUFSIZE int &quot;Set UART4 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI5 bool &quot;Enable SCI5&quot; default n if BSP_USING_SCI5 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI5_SPI config BSP_USING_SCI5_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI5_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI5_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI5_UART config BSP_SCI5_UART_RX_BUFSIZE int &quot;Set UART5 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI5_UART_TX_BUFSIZE int &quot;Set UART5 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI6 bool &quot;Enable SCI6&quot; default n if BSP_USING_SCI6 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI6_SPI config BSP_USING_SCI6_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI6_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI6_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI6_UART config BSP_SCI6_UART_RX_BUFSIZE int &quot;Set UART6 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI6_UART_TX_BUFSIZE int &quot;Set UART6 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI7 bool &quot;Enable SCI7&quot; default n if BSP_USING_SCI7 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI7_SPI config BSP_USING_SCI7_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI7_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI7_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI7_UART config BSP_SCI7_UART_RX_BUFSIZE int &quot;Set UART7 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI7_UART_TX_BUFSIZE int &quot;Set UART7 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI8 bool &quot;Enable SCI8&quot; default n if BSP_USING_SCI8 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI8_SPI config BSP_USING_SCI8_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI8_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI8_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI8_UART config BSP_SCI8_UART_RX_BUFSIZE int &quot;Set UART8 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI8_UART_TX_BUFSIZE int &quot;Set UART8 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif config BSP_USING_SCI9 bool &quot;Enable SCI9&quot; default n if BSP_USING_SCI9 choice prompt &quot;choice sci mode&quot; default BSP_USING_SCI9_SPI config BSP_USING_SCI9_SPI select BSP_USING_SCIn_SPI bool &quot;SPI mode&quot; config BSP_USING_SCI9_I2C select BSP_USING_SCIn_I2C bool &quot;I2C mode&quot; config BSP_USING_SCI9_UART select BSP_USING_SCIn_UART bool &quot;UART mode&quot; endchoice if BSP_USING_SCI9_UART config BSP_SCI9_UART_RX_BUFSIZE int &quot;Set UART9 RX buffer size&quot; range 64 65535 depends on RT_USING_SERIAL_V2 default 256 config BSP_SCI9_UART_TX_BUFSIZE int &quot;Set UART9 TX buffer size&quot; range 0 65535 depends on RT_USING_SERIAL_V2 default 0 endif endif endif endmenu menu &quot;Board extended module Drivers&quot; endmenuendmenu ä¿®æ”¹raç›®å½•ä¸‹çš„æ„å»ºè„šæœ¬ï¼šra\\SConscriptï¼Œä¿è¯è·Ÿç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„ä¸€è‡´ 12345678910111213141516171819202122232425Import(&#x27;RTT_ROOT&#x27;)Import(&#x27;rtconfig&#x27;)from building import *cwd = GetCurrentDir()src = []group = []CPPPATH = []if rtconfig.PLATFORM in [&#x27;iccarm&#x27;]: print(&quot; The current project does not support IAR build &quot;) Return(&#x27;group&#x27;)elif rtconfig.PLATFORM in [&#x27;gcc&#x27;, &#x27;armclang&#x27;]: if GetOption(&#x27;target&#x27;) != &#x27;mdk5&#x27;: src += Glob(cwd + &#x27;/fsp/src/bsp/mcu/all/*.c&#x27;) src += [cwd + &#x27;/fsp/src/bsp/cmsis/Device/RENESAS/Source/system.c&#x27;] src += [cwd + &#x27;/fsp/src/bsp/cmsis/Device/RENESAS/Source/startup.c&#x27;] src += Glob(cwd + &#x27;/fsp/src/r_*/*.c&#x27;) CPPPATH = [ cwd + &#x27;/arm/CMSIS_6/CMSIS/Core/Include&#x27;, cwd + &#x27;/fsp/inc&#x27;, cwd + &#x27;/fsp/inc/api&#x27;, cwd + &#x27;/fsp/inc/instances&#x27;,]group = DefineGroup(&#x27;ra&#x27;, src, depend = [&#x27;&#x27;], CPPPATH = CPPPATH)Return(&#x27;group&#x27;) æ·»åŠ configæ–‡ä»¶å¤¹ï¼Œå‚è€ƒra4m2ï¼Œuart_config.hé‡Œè¾¹çš„é…ç½®å¯ä»¥ç›´æ¥ä½¿ç”¨ ä¿®æ”¹bsp/renesas/libraries/HAL_Drivers/config/drv_config.hï¼Œæ·»åŠ ä»¥ä¸‹é…ç½® 12345678910111213141516171819#ifdef SOC_SERIES_R7FA4M1#include &quot;ra4m1/uart_config.h&quot;#ifdef BSP_USING_ADC#include &quot;ra4m1/adc_config.h&quot;#endif#ifdef BSP_USING_DAC#include &quot;ra4m1/dac_config.h&quot;#endif#ifdef BSP_USING_PWM#include &quot;ra4m1/pwm_config.h&quot;#endif#ifdef BSP_USING_CAN#include &quot;ra4m1/can_config.h&quot;#endif#endif /* SOC_SERIES_R7FA4M1 */ ä¿®æ”¹å¯åŠ¨æ–‡ä»¶startup.cï¼Œmainå‡½æ•°ä¼šè·³è½¬åˆ°RT-Threadç³»ç»Ÿåˆå§‹åŒ–è¿‡ç¨‹ 123456789101112131415161718void Reset_Handler (void)&#123; /* Initialize system using BSP. */ SystemInit(); /* Call user application. */#ifdef __ARMCC_VERSION main();#elif defined(__GNUC__) extern int entry(void); entry();#endif while (1) &#123; /* Infinite Loop. */ &#125;&#125; ä¿®æ”¹ SRAM å¤§å°é…ç½®ï¼šRA4M1è¿™ä¸ªèŠ¯ç‰‡åªæœ‰32Kå†…å­˜ 1234567891011121314151617181920212223242526272829303132333435363738/* * Copyright (c) 2006-2021, RT-Thread Development Team * * SPDX-License-Identifier: Apache-2.0 * * Change Logs: * Date Author Notes * 2021-10-10 Sherman first version */#ifndef __BOARD_H__#define __BOARD_H__#ifdef __cplusplusextern &quot;C&quot; &#123;#endif#define RA_SRAM_SIZE 32 /* The SRAM size of the chip needs to be modified */#define RA_SRAM_END (0x20000000 + RA_SRAM_SIZE * 1024)#ifdef __ARMCC_VERSIONextern int Image$$ARM_LIB_HEAP$$ZI$$Base;#define HEAP_BEGIN ((void *)&amp;Image$$ARM_LIB_HEAP$$ZI$$Base)#elif __ICCARM__#pragma section=&quot;CSTACK&quot;#define HEAP_BEGIN (__segment_end(&quot;CSTACK&quot;))#elseextern int __RAM_segment_used_end__;#define HEAP_BEGIN (&amp;__RAM_segment_used_end__)#endif#define HEAP_END RA_SRAM_END#ifdef __cplusplus&#125;#endif#endif ä¿®æ”¹åº”ç”¨å±‚ä»£ç ï¼Œè·¯å¾„ï¼šsrc/hal_entry.cï¼ŒéªŒè¯ä¸²å£å’ŒGPIOçš„åŠŸèƒ½ 12345678910111213141516171819202122232425262728/* * Copyright (c) 2006-2021, RT-Thread Development Team * * SPDX-License-Identifier: Apache-2.0 * * Change Logs: * Date Author Notes * 2021-10-10 Sherman first version */#include &lt;rtthread.h&gt;#include &quot;hal_data.h&quot;#include &lt;rtdevice.h&gt;#define LED_PIN BSP_IO_PORT_01_PIN_06 /* Onboard LED pins */void hal_entry(void)&#123; rt_kprintf(&quot; Hello RT-Thread! &quot;); while (1) &#123; rt_pin_write(LED_PIN, PIN_HIGH); rt_thread_mdelay(500); rt_pin_write(LED_PIN, PIN_LOW); rt_thread_mdelay(500); &#125;&#125; ä½¿ç”¨envå·¥å…·ï¼Œè¿›å…¥menuconfigèœå•ï¼Œç¡®ä¿UARTå’ŒGPIOå·²ç»å‹¾é€‰ï¼ŒUARTé»˜è®¤UART0ä½¿èƒ½ è¾“å…¥å‘½ä»¤é‡æ–°ç”ŸæˆMDK5å·¥ç¨‹ 1scons --target=mdk5 ç”Ÿæˆçš„rtconfig.hé…ç½®å‚è€ƒï¼šä½¿èƒ½GPIOé©±åŠ¨ï¼ŒMSHæ§åˆ¶å°ä½¿ç”¨UART0ï¼Œæœ€å°ç³»ç»Ÿæµ‹è¯•ç”¨ä¾‹ä¸»è¦å…³æ³¨On-chip Peripheral Driverså’ŒConsoleçš„é…ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398#ifndef RT_CONFIG_H__#define RT_CONFIG_H__/* RT-Thread Kernel *//* klibc options *//* rt_vsnprintf options *//* end of rt_vsnprintf options *//* rt_vsscanf options *//* end of rt_vsscanf options *//* rt_memset options *//* end of rt_memset options *//* rt_memcpy options *//* end of rt_memcpy options *//* rt_memmove options *//* end of rt_memmove options *//* rt_memcmp options *//* end of rt_memcmp options *//* rt_strstr options *//* end of rt_strstr options *//* rt_strcasecmp options *//* end of rt_strcasecmp options *//* rt_strncpy options *//* end of rt_strncpy options *//* rt_strcpy options *//* end of rt_strcpy options *//* rt_strncmp options *//* end of rt_strncmp options *//* rt_strcmp options *//* end of rt_strcmp options *//* rt_strlen options *//* end of rt_strlen options *//* rt_strnlen options *//* end of rt_strnlen options *//* end of klibc options */#define RT_NAME_MAX 8#define RT_CPUS_NR 1#define RT_ALIGN_SIZE 8#define RT_THREAD_PRIORITY_32#define RT_THREAD_PRIORITY_MAX 32#define RT_TICK_PER_SECOND 1000#define RT_USING_OVERFLOW_CHECK#define RT_USING_HOOK#define RT_HOOK_USING_FUNC_PTR#define RT_USING_IDLE_HOOK#define RT_IDLE_HOOK_LIST_SIZE 4#define IDLE_THREAD_STACK_SIZE 256#define RT_USING_TIMER_SOFT#define RT_TIMER_THREAD_PRIO 4#define RT_TIMER_THREAD_STACK_SIZE 512/* kservice options *//* end of kservice options */#define RT_USING_DEBUG#define RT_DEBUGING_ASSERT#define RT_DEBUGING_COLOR#define RT_DEBUGING_CONTEXT/* Inter-Thread communication */#define RT_USING_SEMAPHORE#define RT_USING_MUTEX#define RT_USING_EVENT#define RT_USING_MAILBOX#define RT_USING_MESSAGEQUEUE/* end of Inter-Thread communication *//* Memory Management */#define RT_USING_SMALL_MEM#define RT_USING_SMALL_MEM_AS_HEAP#define RT_USING_HEAP/* end of Memory Management */#define RT_USING_DEVICE#define RT_USING_CONSOLE#define RT_CONSOLEBUF_SIZE 128#define RT_CONSOLE_DEVICE_NAME &quot;uart0&quot;#define RT_VER_NUM 0x50201#define RT_BACKTRACE_LEVEL_MAX_NR 32/* end of RT-Thread Kernel */#define RT_USING_HW_ATOMIC#define RT_USING_CPU_FFS#define ARCH_ARM#define ARCH_ARM_CORTEX_M#define ARCH_ARM_CORTEX_M4/* RT-Thread Components */#define RT_USING_COMPONENTS_INIT#define RT_USING_USER_MAIN#define RT_MAIN_THREAD_STACK_SIZE 2048#define RT_MAIN_THREAD_PRIORITY 10#define RT_USING_MSH#define RT_USING_FINSH#define FINSH_USING_MSH#define FINSH_THREAD_NAME &quot;tshell&quot;#define FINSH_THREAD_PRIORITY 20#define FINSH_THREAD_STACK_SIZE 4096#define FINSH_USING_HISTORY#define FINSH_HISTORY_LINES 5#define FINSH_USING_SYMTAB#define FINSH_CMD_SIZE 80#define MSH_USING_BUILT_IN_COMMANDS#define FINSH_USING_DESCRIPTION#define FINSH_ARG_MAX 10#define FINSH_USING_OPTION_COMPLETION/* DFS: device virtual file system *//* end of DFS: device virtual file system *//* Device Drivers */#define RT_USING_DEVICE_IPC#define RT_UNAMED_PIPE_NUMBER 64#define RT_USING_SERIAL#define RT_USING_SERIAL_V2#define RT_SERIAL_BUF_STRATEGY_OVERWRITE#define RT_SERIAL_USING_DMA#define RT_USING_PIN/* end of Device Drivers *//* C/C++ and POSIX layer *//* ISO-ANSI C layer *//* Timezone and Daylight Saving Time */#define RT_LIBC_USING_LIGHT_TZ_DST#define RT_LIBC_TZ_DEFAULT_HOUR 8#define RT_LIBC_TZ_DEFAULT_MIN 0#define RT_LIBC_TZ_DEFAULT_SEC 0/* end of Timezone and Daylight Saving Time *//* end of ISO-ANSI C layer *//* POSIX (Portable Operating System Interface) layer *//* Interprocess Communication (IPC) *//* Socket is in the &#x27;Network&#x27; category *//* end of Interprocess Communication (IPC) *//* end of POSIX (Portable Operating System Interface) layer *//* end of C/C++ and POSIX layer *//* Network *//* end of Network *//* Memory protection *//* end of Memory protection *//* Utilities *//* end of Utilities *//* Using USB legacy version *//* end of Using USB legacy version *//* end of RT-Thread Components *//* RT-Thread Utestcases *//* end of RT-Thread Utestcases *//* RT-Thread online packages *//* IoT - internet of things *//* Wi-Fi *//* Marvell WiFi *//* end of Marvell WiFi *//* Wiced WiFi *//* end of Wiced WiFi *//* CYW43012 WiFi *//* end of CYW43012 WiFi *//* BL808 WiFi *//* end of BL808 WiFi *//* CYW43439 WiFi *//* end of CYW43439 WiFi *//* end of Wi-Fi *//* IoT Cloud *//* end of IoT Cloud *//* end of IoT - internet of things *//* security packages *//* end of security packages *//* language packages *//* JSON: JavaScript Object Notation, a lightweight data-interchange format *//* end of JSON: JavaScript Object Notation, a lightweight data-interchange format *//* XML: Extensible Markup Language *//* end of XML: Extensible Markup Language *//* end of language packages *//* multimedia packages *//* LVGL: powerful and easy-to-use embedded GUI library *//* end of LVGL: powerful and easy-to-use embedded GUI library *//* u8g2: a monochrome graphic library *//* end of u8g2: a monochrome graphic library *//* end of multimedia packages *//* tools packages *//* end of tools packages *//* system packages *//* enhanced kernel services *//* end of enhanced kernel services *//* acceleration: Assembly language or algorithmic acceleration packages *//* end of acceleration: Assembly language or algorithmic acceleration packages *//* CMSIS: ARM Cortex-M Microcontroller Software Interface Standard *//* end of CMSIS: ARM Cortex-M Microcontroller Software Interface Standard *//* Micrium: Micrium software products porting for RT-Thread *//* end of Micrium: Micrium software products porting for RT-Thread *//* end of system packages *//* peripheral libraries and drivers *//* HAL &amp; SDK Drivers *//* STM32 HAL &amp; SDK Drivers *//* end of STM32 HAL &amp; SDK Drivers *//* Infineon HAL Packages *//* end of Infineon HAL Packages *//* Kendryte SDK *//* end of Kendryte SDK *//* end of HAL &amp; SDK Drivers *//* sensors drivers *//* end of sensors drivers *//* touch drivers *//* end of touch drivers *//* end of peripheral libraries and drivers *//* AI packages *//* end of AI packages *//* Signal Processing and Control Algorithm Packages *//* end of Signal Processing and Control Algorithm Packages *//* miscellaneous packages *//* project laboratory *//* end of project laboratory *//* samples: kernel and components samples *//* end of samples: kernel and components samples *//* entertainment: terminal games and other interesting software packages *//* end of entertainment: terminal games and other interesting software packages *//* end of miscellaneous packages *//* Arduino libraries *//* Projects and Demos *//* end of Projects and Demos *//* Sensors *//* end of Sensors *//* Display *//* end of Display *//* Timing *//* end of Timing *//* Data Processing *//* end of Data Processing *//* Data Storage *//* Communication *//* end of Communication *//* Device Control *//* end of Device Control *//* Other *//* end of Other *//* Signal IO *//* end of Signal IO *//* Uncategorized *//* end of Arduino libraries *//* end of RT-Thread online packages */#define SOC_FAMILY_RENESAS_RA#define SOC_SERIES_R7FA4M1/* Hardware Drivers Config */#define SOC_R7FA4M1AB/* Onboard Peripheral Drivers *//* end of Onboard Peripheral Drivers *//* On-chip Peripheral Drivers */#define BSP_USING_GPIO#define BSP_USING_UART#define BSP_USING_UART0#define BSP_UART0_RX_BUFSIZE 256#define BSP_UART0_TX_BUFSIZE 0/* end of On-chip Peripheral Drivers *//* Board extended module Drivers *//* end of Hardware Drivers Config */#endif è‡³æ­¤MDKå·¥ç¨‹å¯ä»¥ç¼–è¯‘çƒ§å½•åˆ°å¼€å‘æ¿è¿è¡Œäº† è¿è¡Œæ•ˆæœè°ƒè¯•è¿è¡Œé¡ºåˆ©è¿›å…¥mshæ§åˆ¶å°ï¼ˆä¸²å£UART0å·²æ­£å¸¸é©±åŠ¨ï¼‰ è‡ªå®šä¹‰User LEDå¾ªç¯ç‚¹äº®ï¼ˆGPIO PINå·²æ­£å¸¸é©±åŠ¨ï¼‰ æ³¨æ„äº‹é¡¹ è¿™ä¸ªå¼€å‘æ¿çš„ç”µæºLEDæ˜¯æœ‰é—®é¢˜çš„ï¼Œä¸Šç”µè°ƒè¯•çš„æ—¶å€™ä¼šä¸äº®ï¼Œçœ‹äº†å®˜ç½‘çš„ä»‹ç»å¥½åƒè£…åäº† æœ‰ä¸ªå°æ’æ›²ï¼šä¸å°å¿ƒæ”¹äº†è¿™ä¸ªMCUçš„å†…å­˜åœ°å€å¯¼è‡´èŠ¯ç‰‡è«åå…¶å¦™çš„ä¸Šé”äº†ï¼Œè¦æ¢èŠ¯ç‰‡æ‰èƒ½è§£å†³ å¼€æºRA4M1-EKå¼€å‘æ¿BSPä»“åº“ï¼šra4m1-ek","tags":["Renesas","BSP","RT-Thread","RA4M1"],"categories":["åµŒå…¥å¼"]},{"title":"Linuxè®¾å¤‡é©±åŠ¨é»‘åå•æœºåˆ¶æµ…æ","path":"//linux-device-driver-blacklist.html","content":"ä»‹ç»ä»Šå¤©åœ¨Ubuntu22.04ä¸Šæ’å…¥RS485 USBæ¨¡å—ï¼ˆCH341ï¼‰ï¼Œå‘ç°é©±åŠ¨å±…ç„¶æ²¡æœ‰è¯†åˆ«USBè®¾å¤‡ ä½†æ£€ç´¢äº†ä¸€ä¸‹é©±åŠ¨æ¨¡å—çš„ç›®å½•ï¼Œå‘ç°ch341.koå’Œusbserial.koéƒ½æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ 12/lib/modules/6.8.0-78-generic/kernel/drivers/usb/serial/ch341.ko/lib/modules/6.8.0-78-generic/kernel/drivers/usb/serial/usbserial.ko å†…æ ¸æ—¥å¿—è¡¨é¢ï¼šUSB Serialé©±åŠ¨å·²ç»åŠ è½½äº†ï¼Œæ˜¾ç„¶CH341çš„é©±åŠ¨æ²¡æœ‰Probeï¼Œçœ‹æ¥æ˜¯è¢«ç³»ç»Ÿæ•…æ„éš”ç¦»äº†ï¼ˆé»‘åå•ï¼‰ é»‘åå•é…ç½®æ–‡ä»¶ï¼š&#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.confï¼Œå¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°å½“å‰Ubuntuç³»ç»Ÿå“ªäº›è®¾å¤‡é©±åŠ¨æ˜¯åŠ å…¥äº†é»‘åå•çš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859hywing@moore:~$ cat /etc/modprobe.d/blacklist.conf# This file lists those modules which we don&#x27;t want to be loaded by# alias expansion, usually so some other driver will be loaded for the# device instead.# evbug is a debug tool that should be loaded explicitlyblacklist evbug# these drivers are very simple, the HID drivers are usually preferredblacklist usbmouseblacklist usbkbd# replaced by e100blacklist eepro100# replaced by tulipblacklist de4x5# causes no end of confusion by creating unexpected network interfacesblacklist eth1394# snd_intel8x0m can interfere with snd_intel8x0, doesn&#x27;t seem to support much# hardware on its own (Ubuntu bug #2011, #6810)blacklist snd_intel8x0m# Conflicts with dvb driver (which is better for handling this device)blacklist snd_aw2# replaced by p54pciblacklist prism54# replaced by b43 and ssb.blacklist bcm43xx# most apps now use garmin usb driver directly (Ubuntu: #114565)blacklist garmin_gps# replaced by asus-laptop (Ubuntu: #184721)blacklist asus_acpi# low-quality, just noise when being used for sound playback, causes# hangs at desktop session start (Ubuntu: #246969)blacklist snd_pcsp# ugly and loud noise, getting on everyone&#x27;s nerves; this should be done by a# nice pulseaudio bing (Ubuntu: #77010)blacklist pcspkr# EDAC driver for amd76x clashes with the agp driver preventing the aperture# from being initialised (Ubuntu: #297750). Blacklist so that the driver# continues to build and is installable for the few cases where its# really needed.blacklist amd76x_edacblacklist pl2303blacklist ch341blacklist ftdi_sioinstall pl2303 /bin/trueinstall ch341 /bin/trueinstall ftdi_sio /bin/true ä½ å¯ä»¥é€‰æ‹©æ³¨é‡Šæ‰ç›¸å…³çš„é»‘åå•åˆ—è¡¨ï¼ˆä½†ä¸æ¨èè¿™ä¹ˆåšï¼ŒUbuntuå®˜æ–¹è¿™ä¹ˆåšè‚¯å®šæœ‰å®ƒçš„ç†ç”±ï¼‰ 1234# blacklist pl2303# blacklist ch341# install pl2303 /bin/true# install ch341 /bin/true blacklistå…³é”®å­—ï¼šé˜»æ­¢é©±åŠ¨è‡ªåŠ¨åŠ è½½ installå…³é”®å­—ï¼šé˜»æ­¢è®¾å¤‡probeå¯¹åº”çš„é©±åŠ¨ æ˜¾å¼åŠ è½½å½“é»‘åå•æœ‰å±è”½ä½ çš„è®¾å¤‡æ—¶ï¼Œå‘ç°/lib/modules/$(uname -r)/kernelç›®å½•åˆæœ‰å¯¹åº”é©±åŠ¨ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åŠ è½½ 12345# æ¨èsudo modprobe ch341# æˆ–è€…insmod /lib/modules/6.8.0-78-generic/kernel/drivers/usb/serial/usbserial.koinsmod /lib/modules/6.8.0-78-generic/kernel/drivers/usb/serial/ch341.ko","tags":["Linux","driver","blacklist"],"categories":["åµŒå…¥å¼"]},{"title":"DSPä¸²å£é€šä¿¡åè®®ç¤ºä¾‹","path":"//dsp-sci-communication-protocol.html","content":"åè®®åŸºæœ¬çš„åè®®éœ€æ±‚å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤å¤§ç±»ï¼š æ•°æ®åˆ†å‘åŠŸèƒ½ï¼Œä»AèŠ‚ç‚¹å¹¿æ’­æ•°æ®ç»™BèŠ‚ç‚¹ï¼Œæ— éœ€åº”ç­”ï¼Œä½†ä¿ç•™æ•°æ®æ ¡éªŒ è¯·æ±‚åº”ç­”åŠŸèƒ½ï¼Œè¯·æ±‚å†…å®¹æ”¯æŒã€æ•°æ®æ”¯æŒ å‘½ä»¤åº”ç­”åŠŸèƒ½ï¼Œè¯·æ±‚æ‰§è¡ŒæŸä¸ªåŠ¨ä½œã€åšæŸä»¶äº‹ å†…å®¹å¸§å¤´ï¼š0xAA55 å¸§ç±»å‹ï¼š0x0000 ~ 0xFFFFï¼Œä¸åŒç±»å‹èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ é•¿åº¦ï¼š0x0000 ~ 0x00FF æ•°æ®ç±»å‹ï¼š0x0000 ~ 0x00FFï¼Œè¿™ä¸ªä»£è¡¨æ˜¯æ•°æ®ï¼Œè¿˜æ˜¯è¯·æ±‚ï¼Œè¿˜æ˜¯å‘½ä»¤ï¼Œè¿˜æ˜¯åº”ç­” æ•°æ®åŸŸï¼šå¯å˜ï¼ŒN * 2 æ ¡éªŒï¼šCRC16ç®—æ³•ï¼Œä¸¤ä¸ªå­—èŠ‚ï¼Œè®¡ç®—çš„æ˜¯ä»å¸§å·åˆ°æ•°æ®åŸŸçš„æ‰€æœ‰å­—æ®µçš„æ•°æ®æ ¡éªŒå€¼ï¼ˆé™¤äº†å¸§å¤´å’Œå¸§å°¾ï¼‰ å¸§å°¾ï¼š0x0D0A æ•°æ®ç±»å‹DSPé€šä¿¡ä¸­å¸¸è§çš„æ•°æ®ç±»å‹ï¼Œæ€»çš„æ¥è¯´ï¼Œå¯ä»¥æŠ½è±¡ä¸ºä»¥ä¸‹å‡ ç§ï¼š â‘  æ•°æ®ï¼šå¹¿æ’­æ–¹å¼ä¼ æ’­ï¼Œæ¯”å¦‚å£°éŸ³ã€å›¾åƒç­‰æ•°æ®ï¼Œè®¢é˜…è€…æ”¶åˆ°å³å¯ï¼Œæ— éœ€åº”ç­”æˆ–è€…å“åº” â‘¡ è¯·æ±‚ï¼šå‘æŸäººç´¢å–æŸäº›èµ„æºï¼Œä¸€èˆ¬åœ¨åº”ç­”é‡Œè¾¹éœ€è¦å‘ŠçŸ¥ï¼Œä¹Ÿå°±æ˜¯åœ¨åº”ç­”é‡Œè¾¹éœ€è¦é™„å¸¦æ•°æ®ï¼ˆæ•°æ®åšåº”ç­”ï¼‰ â‘¢ å‘½ä»¤ï¼šå«æŸäººåšæŸäº‹ï¼Œäº‹æƒ…&#x2F;åŠ¨ä½œå®Œæ¯•è¿˜è¦æŠŠæ‰§è¡Œä¹‹åçš„ç»“æœå‘Šè¯‰å‘èµ·è€… â‘£ åº”ç­”ï¼šå‘Šè¯‰å¯¹æ–¹äº‹æƒ…ã€åŠ¨ä½œã€è¯¢é—®çš„æ‰§è¡Œç»“æœï¼Œåº”ç­”å¯ä»¥æ˜¯æ•°æ®ï¼Œå¯ä»¥æ˜¯çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥æ˜¯äº‹æƒ…çš„ç»“æœ æ€»ç»“ å› ä¸ºDSPé‡Œè¾¹æœ€å°çš„æ•°æ®å•å…ƒä¸º2ä¸ªbyteï¼Œæ‰€ä»¥éƒ½è¦æŒ‰2ä¸ªå­—èŠ‚å¯¹é½ï¼Œæ— è®ºæ˜¯è·ŸARMè¿˜æ˜¯X64é€šä¿¡ DSPå»ºè®®å¼€å¯ä¸­æ–­+FIFOæ¨¡å¼å¤„ç†SCIæ•°æ®ï¼ˆå‡å°‘ä¸­æ–­æ¬¡æ•°ï¼‰ï¼Œå¦‚æœSCIé€šä¿¡æ¯”è¾ƒé¢‘ç¹ï¼Œå»ºè®®å¯ç”¨DMA å¦‚æœæ˜¯å•å­—èŠ‚ä¸­æ–­æ¥æ”¶ï¼Œé‚£ARMåªèƒ½å¤„ç†å•å­—èŠ‚çš„å¸§å¤´ï¼ˆè¿™æ˜¯ä¸å¥½çš„ï¼‰","tags":["DSP","ä¸²å£","SCI","Protocol","é€šä¿¡"],"categories":["åµŒå…¥å¼"]},{"title":"F28M35 M3æ ¸å¿ƒPB7å¼•è„šé…ç½®","path":"//f28m35-m3-pb7-uart1.html","content":"ä»‹ç»åœ¨åšRS485é€šä¿¡çš„æ—¶å€™ï¼Œä½¿ç”¨UART1ï¼ˆGPIO_PB6_U1TXå’ŒGPIO_PB7_U1RXï¼‰å’Œ485æ”¶å‘å™¨è¿æ¥ï¼Œå‘ç°485æ”¶å‘å™¨åªèƒ½ç»™ä¸Šä½æœºå‘æ•°æ®ï¼Œæ¥æ”¶æ¨¡å¼ä¸‹å´æ— æ³•æ¥æ”¶æ•°æ®ï¼Œå°½ç®¡å·²ç»æŒ‰ç…§æ­£å¸¸çš„æµç¨‹é…ç½®ä¸²å£é€šä¿¡å‚æ•° 1234567891011121314151617181920212223242526272829// é…ç½®UART1å¼•è„šGPIOPinConfigure(GPIO_PB6_U1TX);GPIOPinConfigure(GPIO_PB7_U1RX);GPIOPinTypeUART(UART1_PORT, UART1_TX_PIN | UART1_RX_PIN);// ç­‰å¾…å¼•è„šé…ç½®ç”Ÿæ•ˆfor(i = 0; i &lt; 1000; i++) &#123;&#125;// é…ç½®UARTå‚æ•° - Modbusæ ‡å‡†æ³¢ç‰¹ç‡ï¼Œ8-N-1æ¨¡å¼UARTConfigSetExpClk(UART1_BASE, SysCtlClockGet(SYSTEM_CLOCK_SPEED), MODBUS_BAUD_RATE, (UART_CONFIG_WLEN_8 | UART_CONFIG_STOP_ONE | UART_CONFIG_PAR_NONE));// ç­‰å¾…é…ç½®ç”Ÿæ•ˆfor(i = 0; i &lt; 1000; i++) &#123;&#125;// ä½¿èƒ½UARTUARTEnable(UART1_BASE);// ç­‰å¾…UARTä½¿èƒ½ç”Ÿæ•ˆfor(i = 0; i &lt; 1000; i++) &#123;&#125;// ä½¿èƒ½å¤„ç†å™¨ä¸­æ–­IntMasterEnable();// æ³¨å†ŒUARTä¸­æ–­å¤„ç†å‡½æ•°IntRegister(INT_UART1, UART1IntHandler);IntEnable(INT_UART1);UARTIntEnable(UART1_BASE, UART_INT_RX | UART_INT_RT); åˆ†ææŸ¥çœ‹F28M35 Datasheetï¼Œå‘ç°ä»¥ä¸‹æè¿°ï¼šPB7_GPIO15é»˜è®¤å†™ä¿æŠ¤ï¼Œéœ€è¦ç‰¹æ®Šçš„å¤„ç†æ–¹å¼è¿˜åŸä¸ºæ™®é€šGPIO è§£å†³éœ€è¦åœ¨é…ç½®UART1å‰å…ˆ è§£é™¤å¼•è„šNMIä¸­æ–­çŠ¶æ€ï¼Œç„¶åæ¥æ”¶ä¸­æ–­å°±å¯ä»¥æ¥æ”¶æ•°æ®äº† 1GPIOPinUnlock(GPIO_PORTB_BASE, GPIO_PIN_7);","tags":["GPIO","F28M35","M3"],"categories":["åµŒå…¥å¼"]},{"title":"æ­¥è¿›ç”µæœºABç›¸æµ‹é‡è½¬é€Ÿ","path":"//step-motor-ab-measure.html","content":"æ³¢å½¢æ­¥è¿›ç”µæœºç¼–ç å™¨æ³¢ABç›¸æ³¢å½¢å¦‚ä¸‹ï¼šé³„é±¼å¤¹åˆ†åˆ«æ¥EA+ã€EB+ã€EGNDï¼ˆå…±åœ°ç«¯ï¼‰ åŸºæœ¬æ¦‚å¿µç¼–ç å™¨ç²¾åº¦ &#x3D; ç¼–ç å™¨ä¸€åœˆå¯¹åº”çš„è„‰å†²æ•°ï¼ˆå¤šå°‘çº¿ï¼‰ è½¬é€Ÿ &#x3D; å•ä½æ—¶é—´å¯¹åº”æ—‹è½¬åœˆæ•° å€é¢‘æ•° &#x3D; æŠŠABç›¸çš„ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿éƒ½è®¡ç®— é¢‘ç‡ &#x3D; 1ç§’é’Ÿå¯¹åº”çš„è„‰å†²è®¡æ•° æ²¡æœ‰å€é¢‘è½¬é€Ÿ &#x3D; å•ä½æ—¶é—´å¯¹åº”çš„è„‰å†²æ•° &#x2F; ä¸€åœˆå¯¹åº”çš„è„‰å†²æ•° å€é¢‘è½¬é€Ÿ &#x3D; å•ä½æ—¶é—´å¯¹åº”çš„è„‰å†²æ•° &#x2F; ï¼ˆä¸€åœˆå¯¹åº”çš„è„‰å†²æ•° x å€é¢‘æ•°ï¼‰ å…¬å¼ä¸‹é¢æ˜¯æ€»ç»“çš„å…¬å¼ï¼šé¢‘ç‡éœ€è¦é€šè¿‡ABç›¸å¼•è„šå®šæ—¶å™¨è„‰å†²æ•è·æ¥è®¡ç®—å¾—åˆ°ï¼Œç¼–ç å™¨ç²¾åº¦å’Œå€é¢‘æ•°ä¸€èˆ¬æ˜¯å·²çŸ¥é‡$$w &#x3D; \\frac{freq \\times 60}{encoder \\times rate}$$â‘  å€é¢‘åŠé¢‘ç‡è®¡ç®—æ–¹æ³•ï¼šGPIOè®¾ç½®è¾“å…¥æ•è·æ¨¡å¼ï¼Œæ¡ä»¶åˆ¤æ–­ä¸Šå‡æ²¿â†‘ä»¥åŠä¸‹é™æ²¿â†“å¹¶åœ¨æŒ‡å®šæ—¶é—´æ®µé‡Œè¾¹è®¡æ•° â‘¡ è½¬å‘ ï¼šé¡ºæ—¶é’ˆï¼Œè¿˜æ˜¯é€†æ—¶é’ˆï¼Œå¯ä»¥é€šè¿‡ABç›¸è°é¢†å…ˆ90Â°æ¥åˆ¤æ–­ï¼Œæ¯”å¦‚Aé¢†å…ˆï¼Œé¡ºæ—¶é’ˆï¼›åä¹‹é€†æ—¶é’ˆ â‘¢ ä¸Šé¢ç¤ºæ³¢å™¨æµ‹å¾—çš„è½¬é€Ÿ â‰ˆ 60 RPMï¼Œè½¯ä»¶4å€é¢‘ freq &#x3D; 4000Hzï¼Œç¼–ç å™¨ encoder &#x3D; 1000","tags":["motor","AB","encoder"],"categories":["åµŒå…¥å¼"]},{"title":"ç‘è¨MCUå¼€å‘å…¨å®¶æ¡¶","path":"//renesas-mcu-kit.html","content":"e2 studioeclipse IDEç±»ä¼¼ç‰©ï¼Œè·Ÿstm32çš„CubeIDEã€TI DSPçš„Code Composer Studioç­‰æ˜¯ä¸€æ ·çš„ä¸œè¥¿ï¼Œä¸‹è½½é“¾æ¥ï¼šfsp_v6_0_0_e2s_v2025-04.1.exe RASCå…¨ç§°Renesas RA Smart Configuratorï¼Œæ˜¯ç”¨æ¥ä¸“é—¨ç”ŸæˆMCUèŠ¯ç‰‡å¤–è®¾ã€èµ„æºé…ç½®çš„å·¥å…·ï¼Œè·Ÿstm32çš„CubeMXç±»ä¼¼ï¼Œä¸‹è½½é“¾æ¥ï¼šsetup_fsp_v6_0_0_rasc_v2025-04.1.exe RA_DFPRenesas.RA_DFP.6.0.0.packæ˜¯ä¸“é—¨ç”¨æ¥é…ç½®MDK KEILç¯å¢ƒçš„å¼€å‘åŒ…ï¼Œä¸‹è½½é“¾æ¥ï¼šRenesas.RA_DFP.6.0.0.pack RDPMå…¨ç§°Renesas Device Partition Managerï¼Œè¨€å¤–ä¹‹æ„å°±æ˜¯ä¸€ä¸ªåœ¨PCç«¯ç®¡ç†FLASHåˆ†åŒºçš„å·¥å…·ï¼Œç”¨äºä½å±‚æ¬¡çš„å¼•å¯¼ã€å†…å­˜ç®¡ç†å’Œæ ¼å¼åŒ– toolchainç‘è¨MCUæ”¯æŒgccå’ŒClangä¸¤ç§ç¼–è¯‘å™¨ï¼Œåœ¨e2 studioé»˜è®¤ARM Compilerï¼šARMCLangï¼Œä½†æˆ‘ä»¬åœ¨å¼€å‘ä¸­å¯èƒ½ä¼šæƒ³è¦ç”¨GNU ARMç¼–è¯‘å™¨æ¥ç¼–è¯‘MCUå·¥ç¨‹ï¼Œæ¯”å¦‚æˆ‘è£…çš„è¿™ä¸ªï¼šD:\\software\\arm-gcc-toolchain\\10 2021.10\\bin\\arm-none-eabi-gcc.exeï¼›MDK KEILé‚£è¾¹çš„å¥—ä»¶ä½¿ç”¨çš„åŒæ ·æ˜¯ARMCLang J-LinkRA4M1èŠ¯ç‰‡æ”¯æŒSEGGER J-Linkè°ƒè¯•æ–¹å¼ï¼Œä¸‹è½½æ–¹å¼ä¸ºç«¯å£ä¸ºï¼šSWï¼Œè¿™ä¸ªè·ŸST-Linkæœ‰ç‚¹åƒï¼Œä½†MDK KEILä½¿ç”¨J-Linkè¦åœ¨Utilitiesé‡Œè¾¹é…ç½®Use Extemal Tool for Fash Programming RFPå…¨ç§°Renesas Flash Programmerï¼Œæ˜¯ä¸€ç§ä½å±‚æ¬¡çš„è£¸ç‰‡çƒ§å½•å·¥å…·ï¼Œæ”¯æŒJ-Linkã€SCIå’ŒUSBï¼›è¨€å¤–ä¹‹æ„ï¼Œå¦‚æœè¿™ä¸ªå·¥å…·éƒ½æ¢å¤ä¸äº†èŠ¯ç‰‡ä¸Šçš„ç¨‹åºï¼Œé‚£ä½ çš„æ¿å­å·²ç»å½»åº•å˜ç –ï¼Œç­‰ç€æ¢èŠ¯ç‰‡å§","tags":["Renesas","MCU"],"categories":["åµŒå…¥å¼"]},{"title":"GitHub Releaseæ–‡ä»¶å¿«é€Ÿä¸‹è½½æŠ€å·§","path":"//github-release-quick-download.html","content":"ä»‹ç»å› ä¸ºæŸäº›é—®é¢˜ï¼Œå›½å†…ä¸‹è½½GitHubçš„æ–‡ä»¶æ€»æ˜¯ç‰¹åˆ«æ…¢ï¼Œç‘è¨çš„MCUå·¥å…·é“¾ä¹Ÿéƒ½æ”¾åœ¨GitHub Releaseé¡µé¢ï¼Œå¦‚ä¸‹é¢é“¾æ¥çš„setup_fsp_v6_0_0_rasc_v2025-04.1.exeå·¥å…·ï¼Œå¹³æ—¶æ‹‰å–å¼€æºä»“åº“å¯ä»¥ä½¿ç”¨GitHubé•œåƒæºbgithub.xyzï¼Œä½†Releaseæ–‡ä»¶æ˜æ˜¾ä¸è¡Œäº† ç®€æ˜“è´­ä¹°å¤–ç½‘çš„å¯è§†åŒ–æœåŠ¡å™¨ï¼ˆä½ ä¼šå‘ç°å¤–ç½‘è®¿é—®GitHubå¹¶æ²¡æœ‰é€Ÿåº¦é™åˆ¶ï¼‰ï¼Œè¿œç¨‹è¿›å»ï¼Œç›´æ¥ç”¨æµè§ˆå™¨ä¸‹è½½å¥½ï¼Œå†ç”¨FileZillaå–å›æ¥ï¼ˆåˆ©ç”¨VSFTPä¸‹è½½æ–‡ä»¶æˆ–è€…æŒ‚ä¸ªNFSéƒ½å¯ä»¥ï¼‰ 1https://release-assets.githubusercontent.com/github-production-release-asset/211325117/618ff624-08be-4b6e-bbd6-2747201882ce?sp=r&amp;sv=2018-11-09&amp;sr=b&amp;spr=https&amp;se=2025-08-17T05%3A21%3A57Z&amp;rscd=attachment%3B+filename%3Dsetup_fsp_v6_0_0_rasc_v2025-04.1.exe&amp;rsct=application%2Foctet-stream&amp;skoid=96c2d410-5711-43a1-aedd-ab1947aa7ab0&amp;sktid=398a6654-997b-47e9-b12b-9515b896b4de&amp;skt=2025-08-17T04%3A21%3A18Z&amp;ske=2025-08-17T05%3A21%3A57Z&amp;sks=b&amp;skv=2018-11-09&amp;sig=QcDD%2BRKsZ%2BbWzaCfHUMie4bGQ1oMH1DuIrAbph2%2BEyc%3D&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmVsZWFzZS1hc3NldHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwia2V5Ijoia2V5MSIsImV4cCI6MTc1NTQwNDkxNiwibmJmIjoxNzU1NDA0NjE2LCJwYXRoIjoicmVsZWFzZWFzc2V0cHJvZHVjdGlvbi5ibG9iLmNvcmUud2luZG93cy5uZXQifQ.xPRqjsSH6gRvMKkoO86Zxv6ATYZAQmeu4h2u-XqMD9E&amp;response-content-disposition=attachment%3B%20filename%3Dsetup_fsp_v6_0_0_rasc_v2025-04.1.exe&amp;response-content-type=application%2Foctet-stream è¿›é˜¶å·§ç”¨wgetå‘½ä»¤ä¸‹è½½ï¼Œæ–­ç‚¹ä¸‹è½½ç”¨wget -cï¼Œå°½é‡ä¸è¦æ‰¾å¸¦JWT Tokençš„ä¸´æ—¶ä¸‹è½½é“¾æ¥ 1wget &quot;https://release-assets.githubusercontent.com/github-production-release-asset/211325117/618ff624-08be-4b6e-bbd6-2747201882ce?sp=r&amp;sv=2018-11-09&amp;sr=b&amp;spr=https&amp;se=2025-08-17T05%3A21%3A57Z&amp;rscd=attachment%3B+filename%3Dsetup_fsp_v6_0_0_rasc_v2025-04.1.exe&amp;rsct=application%2Foctet-stream&amp;skoid=96c2d410-5711-43a1-aedd-ab1947aa7ab0&amp;sktid=398a6654-997b-47e9-b12b-9515b896b4de&amp;skt=2025-08-17T04%3A21%3A18Z&amp;ske=2025-08-17T05%3A21%3A57Z&amp;sks=b&amp;skv=2018-11-09&amp;sig=QcDD%2BRKsZ%2BbWzaCfHUMie4bGQ1oMH1DuIrAbph2%2BEyc%3D&amp;jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmVsZWFzZS1hc3NldHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tIiwia2V5Ijoia2V5MSIsImV4cCI6MTc1NTQwNDkxNiwibmJmIjoxNzU1NDA0NjE2LCJwYXRoIjoicmVsZWFzZWFzc2V0cHJvZHVjdGlvbi5ibG9iLmNvcmUud2luZG93cy5uZXQifQ.xPRqjsSH6gRvMKkoO86Zxv6ATYZAQmeu4h2u-XqMD9E&amp;response-content-disposition=attachment%3B%20filename%3Dsetup_fsp_v6_0_0_rasc_v2025-04.1.exe&amp;response-content-type=application%2Foctet-stream&quot; -O setup_fsp_v6_0_0_rasc_v2025-04.1.exe å†ä»å¤–ç½‘çš„æœåŠ¡å™¨scpå›æ¥ï¼ˆæ˜¯ä¸æ˜¯ç‰¹åˆ«ç¥ï¼Ÿï¼‰ 1scp root@xxx.xxx.xxx.xxx/root/setup_fsp_v6_0_0_rasc_v2025-04.1.exe .","tags":["Github","å¤–ç½‘","Release","scp"],"categories":["åµŒå…¥å¼"]},{"title":"æ•°å­—ç”µè·¯é‡Œçš„ç”µå¹³æ ‡å‡†","path":"//digital-circuit-voltage-level.html","content":"ç”µå¹³æ ‡å‡†TTLã€CMOSã€RS232ã€RS485 ç±»å‹ ç”µå¹³å€¼ é€šä¿¡è·ç¦» é€šä¿¡é€Ÿç‡ æŠ—å¹²æ‰° æ¥çº¿å¼•è„š å•åŒå·¥ èŠ‚ç‚¹ TTL çœŸï¼šâ‰¥ 2.4Vï¼Œå‡ï¼šâ‰¤ 0.4V &lt; 1m å¾ˆå¿« å¼± rxd &#x2F; txd åŒå·¥ ç‚¹å¯¹ç‚¹ CMOS çœŸï¼šâ‰¥ 3.5Vï¼Œå‡ï¼šâ‰¤ 1.5V &lt; 1m å¾ˆå¿« æ¬¡å¼± rxd &#x2F; txd åŒå·¥ ç‚¹å¯¹ç‚¹ RS232 -3V &gt; çœŸ &gt; -15Vï¼Œ3V &lt; å‡ &lt; 15V åå‡ ç±³ æ…¢ï¼ˆè¿œè·ç¦»ï¼‰ å¼º rxd &#x2F; txd åŒå·¥ ç‚¹å¯¹ç‚¹ RS485 çœŸï¼šA &lt; Bï¼Œå‡ï¼šA &gt; B &lt; 1.2 km è¾ƒæ…¢ï¼ˆè¿œè·ç¦»ï¼‰ å¾ˆå¼º A &#x2F; B åŠåŒå·¥ &#x2F; åŒå·¥ å¤šç‚¹é€šä¿¡ æ³¨æ„â‘  è¿‘è·ç¦»é€šä¿¡RS232ã€RS485ä¹Ÿæ˜¯å¾ˆå¿«çš„ï¼Œä½†è¿‘è·ç¦»é€šä¿¡ä¸å¦‚ç›´æ¥ç”¨TTLå’ŒCMOSï¼Œé™¤éæ˜¯ä¸ºäº†æŠ—å¹²æ‰°ï¼Œæ¯”å¦‚è·¨æ¿å­çš„UARTé€šä¿¡ï¼ˆæŒ‰é”®æ¿å’Œæ§åˆ¶æ¿ï¼‰ â‘¡ RS422é€šä¿¡æ¥çº¿RXDå’ŒTXDéƒ½é‡‡ç”¨ä¸¤æ ¹çº¿è¿›è¡Œå·®åˆ†ä¼ è¾“ï¼ˆ4æ ¹çº¿ï¼šRXD+ã€RXD-ã€TXD+ã€TXD-ï¼‰ â‘¢ æ— çº¿ç”µä¸²å£é€šä¿¡ï¼šHC-13æ•°ä¼ æ¨¡å—ä¹Ÿèƒ½å®ç°è¶…é•¿è·ç¦»æ•°æ®ä¼ è¾“ï¼ˆåŠåŒå·¥ï¼‰","tags":["RS232","RS485","TTL","CMOS"],"categories":["åµŒå…¥å¼"]},{"title":"EtherCATå¿…çŸ¥å¿…ä¼š","path":"//ethercat-stuff.html","content":"ä»‹ç»EtherCATï¼Œè‹±æ–‡å…¨ç§°Ethernet Control Automation Technologyï¼Œè¨€å¤–ä¹‹æ„ï¼Œå°±æ˜¯åˆ©ç”¨ä»¥å¤ªç½‘æ€»çº¿çš„è‡ªåŠ¨åŒ–æ§åˆ¶æŠ€æœ¯ï¼›å®ƒæ˜¯ä¸€ç§ç”¨åœ¨é«˜é€Ÿã€è¦æ±‚å®æ—¶æ€§çš„å·¥ä¸šåœºæ™¯çš„é€šä¿¡æ€»çº¿ï¼Œæ¯”å¦‚å·¥ä¸šæœºå™¨è‡‚æ§åˆ¶ã€åŠå¯¼ä½“é˜€é—¨å’Œä¼ æ„Ÿå™¨ã€ä¼ºæœç”µæœºåº”ç”¨ç­‰ï¼›EtherCATä½¿ç”¨æ ‡å‡†ä»¥å¤ªç½‘çš„ç‰©ç†å±‚ï¼ˆPHYï¼‰å’ŒMACå±‚ï¼ˆå¸§ç»“æ„ï¼‰ï¼Œé€šä¿¡ä»‹è´¨è·Ÿæ ‡å‡†ä»¥å¤ªç½‘æ— å¼‚ï¼Œä½†å®ƒåœ¨æ•°æ®é“¾è·¯å±‚ï¼ˆLayer 2ï¼‰å®ç°äº†ç‹¬ç‰¹çš„å®æ—¶å¸§å¤„ç†æœºåˆ¶ï¼Œæ„å»ºäº†ä¸€å¥—ä¸“ç”¨äºå·¥ä¸šæ§åˆ¶çš„å®æ—¶é€šä¿¡å­å±‚å’Œæ•°æ®æŠ¥æ–‡ EtherNet VS EtherCAT å±‚çº§ EtherNet EtherCAT ç‰©ç†å±‚ ç›¸åŒ ç›¸åŒ æ•°æ®é“¾è·¯å±‚ MACå¸§ï¼ˆå¦‚IPv4: 0x0800ï¼‰ ä¸“å±MACå¸§ï¼ˆ0x88A4ï¼‰+ å®æ—¶å¸§å¤„ç†é€»è¾‘ ç½‘ç»œå±‚ IPè·¯ç”±ï¼ˆå¦‚IPv4&#x2F;IPv6ï¼‰ï¼ŒIMGPï¼ŒRAP æ—  ä¼ è¾“å±‚ TCP&#x2F;UDP æ—  åº”ç”¨å±‚ HTTP&#x2F;FTP CoEã€FoEã€EoE EtherCATæ•°æ®å¸§ç»“æ„ ä¸»ç«™æ§åˆ¶ç«¯ï¼ˆmasterï¼‰ï¼Œåº”ç”¨åœºæ™¯ä¸‹ä¸€èˆ¬æ˜¯PLCå±…å¤šï¼Œä½†PC Windowsä¹Ÿèƒ½å¤Ÿåšä¸»ç«™ï¼Œä½†æ˜¯å®æ—¶æ€§ä¸å¼ºï¼Œéœ€è¦ä¾èµ–TwinCATç¯å¢ƒï¼›Linuxç³»ç»Ÿæ‰“è¡¥ä¸å¯ä»¥åšä¸»ç«™ï¼Œå¦‚IGH EtherCATä¸»ç«™ ä»ç«™EtherCATç½‘ç»œæ‹“æ‰‘çš„ä»èŠ‚ç‚¹ï¼Œslaveè´Ÿè´£æ¥æ”¶æŒ‡ä»¤ã€åé¦ˆè®¾å¤‡çŠ¶æ€ï¼Œåº”ç”¨åœºæ™¯ä¸‹æœ‰ï¼šå·¥ä¸šè¶é˜€ã€æœºå™¨è‡‚ã€ä¼ºæœç”µæœºç­‰ï¼Œè¿™äº›å‡å¯ä»¥ç”¨ä½œä»ç«™ç‚¹ ç½‘å£EtherCATä»ç«™ç‚¹ä¸€èˆ¬éƒ½ä¼šæœ‰IN &amp;&amp; OUTä¸¤ä¸ªç«¯å£ï¼ˆç›¸å½“äºæ ‡é…ï¼‰ï¼ŒINè¡¨ç¤ºæ•°æ®æµå…¥ã€OUTè¡¨ç¤ºæ•°æ®æµå‡ºï¼Œä»ä¸»ç«™å‡ºå‘ï¼Œæ¯ä¸ªä»ç«™ç‚¹çš„IN &amp;&amp; OUTä¾æ¬¡è¿æ¥æˆä¸€ä¸ªé—­åˆç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼ˆç±»ä¼¼æ‰‹æ‹‰æ‰‹ï¼‰ï¼›ä½†å®é™…æƒ…å½¢ä¼šæœ‰3ä¸ªç½‘å£ï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯æ™®é€šä»¥å¤ªç½‘ï¼Œå¯ä»¥ç”¨ä½œwebã€otaç­‰åŠŸèƒ½ ç­”ç–‘é—®é¢˜ä¸€é—®ï¼šEtherCATéœ€è¦é…ç½®IPåœ°å€å—ï¼Ÿ ç­”ï¼šEtherCATä½¿ç”¨MACåœ°å€è¿›è¡Œé€šä¿¡ï¼Œä¸éœ€è¦é…ç½®IPåœ°å€è¿›è¡Œ é—®é¢˜äºŒé—®ï¼šä»è®¾å¤‡åªæœ‰ä¸€ä¸ªEtherCATç½‘å£æ€ä¹ˆåŠï¼Ÿ ç­”ï¼šEtherCATä»è®¾å¤‡åŸåˆ™ä¸Šåªè¦æœ‰ä¸€ä¸ªOUTå£å°±å¤Ÿäº†ï¼ŒOUTå£ä¹Ÿèƒ½åŒå‘é€šä¿¡ï¼ŒIN &amp;&amp; OUTé€šå¸¸æ˜¯å·¥ä¸šè®¾è®¡ä¸­çš„ç¡¬ä»¶å†—ä½™ é—®é¢˜ä¸‰é—®ï¼šCOEæ˜¯è¿è¡Œåœ¨CANæ¥å£åè®®ä¹‹ä¸Šçš„EtherCATé€šä¿¡æ ‡å‡†å—ï¼Ÿ ç­”ï¼šä¸æ˜¯çš„ï¼Œå®ƒçš„ç‰©ç†æ¥å£è¿˜æ˜¯EtherCATç½‘å£ï¼Œåªä¸è¿‡é‡‡ç”¨äº†CANOpenåè®®ï¼Œè·ŸEtherCATé€šä¿¡æ ‡å‡†å¾ˆåƒï¼ˆSDOã€PDOï¼‰ é—®é¢˜å››é—®ï¼šå¯ä»¥ç”¨WireSharkæŠ“å–EtherCATæ•°æ®åŒ…å—ï¼Ÿ ç­”ï¼šä¸å»ºè®®ï¼ŒEtherCATæ•°æ®å¸§çš„ä»¥å¤ªç½‘ç±»å‹ä¸º 0x88A4ï¼Œä½†Windowsä¸‹å¤§æ¦‚ç‡æŠ“ä¸åˆ°å‡†ç¡®çš„æ•°æ®åŒ…ï¼ˆéœ€è¦ä¸¥è‹›çš„æ¡ä»¶ï¼‰ é—®é¢˜äº”é—®ï¼šä»è®¾å¤‡å¯ä»¥ä¸»åŠ¨å‘èµ·é€šä¿¡å—ï¼Ÿ ç­”ï¼šä¸èƒ½ï¼Œä»è®¾å¤‡ä¹‹é—´æ²¡æœ‰é€šä¿¡çš„èƒ½åŠ›ï¼Œä»è®¾å¤‡ä¹Ÿæ²¡æœ‰ä¸»åŠ¨å’Œä¸»ç«™é€šä¿¡çš„èƒ½åŠ›ï¼Œéœ€è¦ä¸»ç«™å‘èµ·ï¼ˆä¸»ä»è®¾è®¡ï¼‰ é—®é¢˜å…­é—®ï¼šEtherCATèŠ¯ç‰‡çš„é€šä¿¡åè®®æ ˆæ˜¯å¼€æºçš„å—ï¼Ÿæ¯”å¦‚ä»ç«™ç‚¹çš„åè®®æ ˆã€ä¸»ç«™åè®®æ ˆ ç­”ï¼šå€ç¦å®˜ç½‘æä¾›äº†ä¸€ä¸ªSSC Toolçš„å·¥å…·ï¼Œå¯ä»¥ç”¨äºç”ŸæˆSlaveçš„åè®®æ ˆï¼Œä¸»ç«™æœ‰IGH EtherCATä¸»ç«™ï¼ˆLinuxï¼‰ é—®é¢˜ä¸ƒé—®ï¼šEtherCATå¯ä»¥å…è´¹ä½¿ç”¨å—ï¼Ÿ ç­”ï¼šç›®å‰çœ‹æ¥å®˜æ–¹æœ‰ç»™ç¡¬ä»¶é€šä¿¡demoï¼ˆä½¿ç”¨ä¸“ç”¨èŠ¯ç‰‡ï¼‰ï¼Œå¯ä»¥å€Ÿé‰´å‚è€ƒä½¿ç”¨ï¼Œä»ç«™åè®®æ ˆå·¥å…·è¦åŠ å…¥ä¼šå‘˜æ‰èƒ½ä¸‹è½½ä½¿ç”¨ï¼Œä¸»ç«™ä»£ç æ˜¯å¼€æºçš„ æœ¯è¯­å‡ ç§EtherCATæ¨¡å¼ï¼š ecat_cia402ï¼šCANOpen over EtherCATï¼ŒåŸºäºEtherCATçš„CANOpenåè®® ecat_eoeï¼šEthernet over EtherNetï¼ŒåŸºäºEtherNetçš„EtherCATåè®®ï¼Œä¹Ÿå°±æ˜¯å°†ä»¥å¤ªç½‘å¸§æ‹†åˆ†æˆEhterCATé€šä¿¡æ•°æ®åŒ… ecat_foeï¼šFile over EtherCATï¼ŒåŸºäºEtherCATçš„æ–‡ä»¶ä¼ è¾“åè®® ecat_ioï¼šIO over EtherCAtï¼ŒåŸºäºEtherCATçš„IOè®¿é—®åè®® æ•°æ®ç»“æ„ï¼š PDOï¼šProcess Data Objectï¼Œé€šè¿‡å¹¿æ’­æœºåˆ¶åˆ†å‘æ•°æ®ï¼Œç”¨äºå®æ—¶æ€§åœºåˆï¼Œæ¯”å¦‚Senorçš„å§¿æ€è¯»å–ã€Motorçš„è¿åŠ¨æ•°æ®è¯»å– SDOï¼šService Data Objectï¼Œé€šè¿‡è¯·æ±‚-åº”ç­”æœºåˆ¶é€šä¿¡ï¼Œç”¨äºéå®æ—¶æ€§ã€å¯é æ€§åœºæ™¯ï¼Œå¦‚é…ç½®Slaveè®¾å¤‡çš„å†…éƒ¨å‚æ•°","tags":["EtherCAT","bus","è‡ªåŠ¨åŒ–"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Linux CANé€šä¿¡è°ƒè¯•æŠ€å·§","path":"//linux-can-test-technique.html","content":"æ€ä¹ˆçŸ¥é“å±€åŸŸç½‘ä¸­æœ‰é€šä¿¡èŠ‚ç‚¹æŸ¥çœ‹ç½‘ç»œæ•°æ®ç»Ÿè®¡ 1ip -details link show can0 æŸ¥çœ‹dumpæ•°æ®ï¼ˆå¹¿æ’­æ•°æ®ï¼‰ 1candump can0 æ€ä¹ˆçŸ¥é“æ”¶å‘å™¨æ”¯ä¸æ”¯æŒCANFDè¿™ä¸ªæ˜¯æœ€å¯é çš„æ–¹æ³•ï¼Œæ˜¯éª¡å­æ˜¯é©¬ï¼Œç‰µå‡ºæ¥é›ä¸€é› 1ip link set can0 up type can bitrate 1000000 dbitrate 4000000 fd on å¸§çš„ç­›é€‰CANé€šä¿¡æ˜¯æŒ‰ç´§æ€¥ç¨‹åº¦ï¼ˆä¼˜å…ˆçº§ï¼‰æ¥ä¼ è¾“çš„ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼Œé”™è¯¯å¸§çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¯ä»¥é€šè¿‡æ©ç ç­›é€‰CANå¸§ 12345candump can0,100:700|-- &gt; (received_id &amp; 0x700) == (0x100 &amp; 0x700)|-- &gt; (received_id &amp; 011100000000) == 000100000000 è‡ªå‘è‡ªæ”¶è½¯ä»¶å±‚é¢çš„è‡ªå‘è‡ªæ”¶æ˜¯å¤„äºloopbackæ¨¡å¼ï¼Œè¿™ä¸ªå¯ä»¥ç”¨ä½œå¼€å‘é˜¶æ®µçš„æ•°æ®æ¨¡æ‹Ÿå’Œé©±åŠ¨é“¾è·¯çš„æ£€æŸ¥ 123ip link set can0 type can bitrate 500000ip link set can0 type can loopback onip link set up can0","tags":["Linux","CAN"],"categories":["å¼€å‘å·¥å…·","æ“ä½œç³»ç»Ÿ"]},{"title":"ç¦æ˜•é˜…è¯»å™¨å¿«æ·é”®","path":"//forxit-reader.html","content":"ä»‹ç»ç¦æ˜•é˜…è¯»å™¨ä¸€èˆ¬ç”¨æ¥çœ‹ç”µè·¯åŸç†å›¾ã€äº§å“æ‰‹å†Œæˆ–è€…æŠ€æœ¯èµ„æ–™ï¼Œç°åœ¨éƒ½æµè¡Œç”¨PDFæ¥ä½œä¸ºæ–‡æ¡£çš„ç»ˆç¨¿ï¼Œæ— è®ºæ˜¯è®ºæ–‡ã€æ‰‹å†Œã€è¿˜æ˜¯åˆåŒï¼Œåœ¨Windowsä¸‹ç”¨ç¦æ˜•PDFé˜…è¯»å™¨æœ‰ç§ç®€æ´æ¸…çˆ½çš„æ„Ÿè§‰ å¿«æ·é”®å¸¸ç”¨çš„ä¾¿æ·çš„å¿«æ·é”®åˆé›†ï¼š è·³è½¬ä¸Šä¸€æ¬¡é˜…è¯»ä½ç½®ï¼šAlt + â† è·³è½¬ä¸‹ä¸€æ¬¡é˜…è¯»ä½ç½®ï¼šAlt + â†’ æ‰“å¼€å¯¼èˆªé¢æ¿ï¼šF4 å®é™…å¤§å°ï¼šCTRL + 1 é€‚åº”é¡µé¢ï¼šCTRL + 0 é€‚åº”å®½åº¦ï¼šCTRL + 2 æ·»åŠ ä¹¦ç­¾ï¼šCTRL + B æ”¾å¤§ï¼šCTRL + + æ”¾å°ï¼šCTRL + - æ ‡å°ºï¼šCTRL + R é˜…è¯»æ¨¡å¼ï¼šCTRL + H å‘å³æ—‹è½¬ï¼šCTRL + Shift + + æ‰“å°æ–‡æ¡£ï¼šCTRL + P","tags":["å¿«æ·é”®","shortcut"],"categories":["å¼€å‘å·¥å…·"]},{"title":"modbusé€šä¿¡æµ‹è¯•ä¹‹modpollå·¥å…·","path":"//modbus-modpoll.html","content":"ä»‹ç»modpollæ˜¯ä¸€æ¬¾å°å·§çš„æ”¯æŒä¸²å£ä»¥åŠç½‘å£çš„modbusé€šä¿¡æµ‹è¯•å·¥å…·ï¼Œæ— ç¼è¡”æ¥Linux &amp;&amp; Windowsç³»ç»Ÿï¼Œéå¸¸é€‚åˆå‘½ä»¤è¡Œè°ƒè¯•ä½¿ç”¨ï¼Œåœ¨å·¥ä¸šæ§åˆ¶ã€è‡ªåŠ¨åŒ–ã€ç‰©è”ç½‘é¢†åŸŸå¾ˆå—æ¬¢è¿ï¼ åº”ç”¨ä»¥åœ¨Linuxä¸‹æµ‹è¯•modbus tcp slaveä¸ºä¾‹ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæµ‹è¯•è·Ÿä»æœºçš„é€šä¿¡æ˜¯å¦æ­£å¸¸ 1telnet 192.168.55.10 502 å‘½ä»¤å‚æ•°ç”¨æ³• -m tcpï¼šTCP æ¨¡å¼ -a 1ï¼šä»ç«™åœ°å€ä¸º1 -r 11ï¼šèµ·å§‹å¯„å­˜å™¨ï¼ˆmodpoll é»˜è®¤ 1-basedï¼Œä»£ç é‡Œ 10 è¦å†™ 11ï¼‰ -c 1ï¼šå¯„å­˜å™¨çš„æ•°é‡æ˜¯1 -t 4ï¼šä¿æŒå¯„å­˜å™¨ï¼ˆHolding Registerï¼‰ -p 502ï¼šæŒ‡å®šslaveçš„ç«¯å£ï¼Œé»˜è®¤æ˜¯502 192.168.55.142ï¼šç›®æ ‡IPåœ°å€ 1 æˆ– 0ï¼šè¦å†™å…¥çš„å€¼ å¯„å­˜å™¨ç±»å‹ï¼ˆé€šè¿‡-tå‚æ•°æŒ‡å®šï¼‰ -t å¯„å­˜å™¨ç±»å‹ ç”¨æ³•ç¤ºä¾‹ 0 çº¿åœˆ modpoll -m tcp -a 1 -r 1 -c 10 -t 0 192.168.55.142 1 ç¦»æ•£è¾“å…¥ modpoll -m tcp -a 1 -r 1 -c 10 -t 1 192.168.55.142 3 è¾“å…¥å¯„å­˜å™¨ modpoll -m tcp -a 1 -r 1 -c 10 -t 3 192.168.55.142 4 ä¿æŒå¯„å­˜å™¨ modpoll -m tcp -a 1 -r 11 -c 1 -t 4 192.168.55.142 è®¾å¤‡ä¿¡æ¯æ€»çº¿ä¸ŠæŒ‚è½½çš„ä»ç«™Nçš„è®¾å¤‡ä¿¡æ¯ 1modpoll -m tcp -a N -t id xx.xx.xx.xx å†™å…¥å†™ä¿æŒå¯„å­˜å™¨ï¼Œæ€ä¹ˆè¯»å–å¯„å­˜å™¨çš„å€¼ï¼Œvalueä¸€èˆ¬æ”¾åœ¨IPåœ°å€åé¢ 1modpoll -m tcp -a 1 -r 11 -c 1 -t 4 xx.xx.xx.xx value è¯»å–è¯»ä¿æŒå¯„å­˜å™¨ï¼ˆIPåœ°å€ä¹‹åä¸è·Ÿå‚æ•°è¯´æ˜éœ€è¦è¯»å–ï¼‰ 12345# è¯»å–å•ä¸ªå¯„å­˜å™¨modpoll -m tcp -a 1 -r 21 -c 1 -t 4 xx.xx.xx.xx# è¯»å–ä¸¤ä¸ªå¯„å­˜å™¨modpoll -m tcp -a 1 -r 31 -c 2 -t 4 xx.xx.xx.xx æŒ‡å®šè¯»å–çš„æ•°æ®æ ¼å¼ï¼šhexï¼ˆåå…­è¿›åˆ¶ï¼‰ã€i32ï¼ˆ4å­—èŠ‚æ•´å‹ï¼‰ã€f32ï¼ˆå•ç²¾åº¦æµ®ç‚¹æ•°ï¼‰ã€f64ï¼ˆåŒç²¾åº¦æµ®ç‚¹æ•°ï¼‰ 1234modpoll -m tcp -a 1 -r 31 -c 2 -t 4:hex xx.xx.xx.xxmodpoll -m tcp -a 1 -r 31 -c 2 -t 4:i32 xx.xx.xx.xxmodpoll -m tcp -a 1 -r 31 -c 2 -t 4:f32 xx.xx.xx.xxmodpoll -m tcp -a 1 -r 31 -c 4 -t 4:f64 xx.xx.xx.xx ä¸²å£è¯»å†™ä¸ä»¥å¤ªç½‘é€šä¿¡ä¸åŒçš„æ˜¯ï¼ŒLinuxä¸‹ä¸²å£è¯»å†™æ“ä½œä¸€èˆ¬éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ŒåŒæ—¶æŒ‡å®šRTUåè®®å’ŒBaudRateï¼Œä¸‹é¢æ˜¯10åœ°å€ï¼ˆHold Registerï¼‰çš„è¯»å†™ç¤ºä¾‹ 1234# è¯»å–å¯„å­˜å™¨å€¼sudo ./modpoll -m rtu -a 1 -r 10 -c 1 -t 4 -1 -b 9600 -p none /dev/ttyUSB0# å†™å…¥1sudo ./modpoll -m rtu -a 1 -r 10 -c 1 -t 4 -1 -b 9600 -p none /dev/ttyUSB0 1","tags":["Linux","modbus","modpoll","å‘½ä»¤è¡Œ"],"categories":["å¼€å‘å·¥å…·"]},{"title":"Linux RS485é€šä¿¡æµ‹è¯•","path":"//linux-rs485-communication.html","content":"ç¡¬ä»¶ç½‘ç»œæ‹“æ‰‘ RS485ä¸»ä»æœºé€šä¿¡ç½‘ç»œæ‹“æ‰‘å›¾å¦‚ä¸‹ æ§åˆ¶å™¨ SOC MPUæˆ–è€…MCUç«¯å¿…é¡»é›†æˆUARTæ§åˆ¶å™¨ï¼šUART_RXD &amp;&amp; UART_TXDæˆ–è€…SCI_RXD &amp;&amp; SCI_TXD æ”¶å‘å™¨ LTC2859è®¾è®¡å‚è€ƒ NSI83085Aè®¾è®¡å‚è€ƒï¼ŒSOCä¾§å¼•è„šï¼šTXDã€RXDã€DE&#x2F;REï¼ˆåŠåŒå·¥æ¥æ³•ï¼‰ï¼Œé€šä¿¡å¼•è„šï¼šAã€B å¼•è„šæ¥çº¿ å®é™…æ¥æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€æ¥Aå’ŒBä¸¤æ ¹çº¿å°±å¯ä»¥äº† æ“ä½œé…ç½®ä¸²å£è®¾å¤‡æ³¢ç‰¹ç‡ï¼š9600 1stty -F /dev/ttyLP2 9600 cs8 -parenb -cstopb raw -echo ä½¿èƒ½å¼•è„šxxxï¼Œè¿™ä¸ªå¼•è„šç¼–å·å¯¹åº”485æ”¶å‘å™¨çš„DE/REå¼•è„š 12echo xxx &gt; /sys/class/gpio/exportecho out &gt; /sys/class/gpio/gpioxxx/direction åŠåŒå·¥å·¥ä½œæ¨¡å¼åˆ‡æ¢ï¼šç½®é«˜ç”µå¹³æ„å‘³ç€ç»™RS485å‘é€æ•°æ®ï¼Œä½ç”µå¹³æ„å‘³ç€ä»RS485æ¥æ”¶æ•°æ® 12echo 1 &gt; /sys/class/gpio/gpioxxx/value # å‘é€æ¨¡å¼echo 0 &gt; /sys/class/gpio/gpioxxx/value # æ¥æ”¶æ¨¡å¼ æŸ¥çœ‹æ¥æ”¶æ•°æ®ï¼ˆæ¥æ”¶æ¨¡å¼ï¼‰ 1cat /dev/ttyLP2 å‘é€æ•°æ®ï¼ˆå‘é€æ¨¡å¼ï¼‰ 1while true; do echo &quot;Hello RS485!\\\\r\\ &quot; &gt; /dev/ttyLP2; sleep 1; done; ç¼–ç æ‰“å¼€ä¸²å£è®¾å¤‡ 123456// open ttyLP2int fd = open(&quot;/dev/ttyLP2&quot;, O_RDONLY); if (fd == -1) &#123; printf(&quot;Unable to open dev! &quot;); return -1; &#125; é…ç½®å‚æ•°ï¼š9600 8N1 123456789101112131415161718192021222324252627// uart configstruct termios ts; memset(&amp;ts, 0, sizeof ts); if(tcgetattr(fd, &amp;ts) != 0) &#123; perror(&quot;Error from tcgetattr&quot;); return -1; &#125; // cfsetospeed(&amp;ts, B9600); cfsetispeed(&amp;ts, B9600); ts.c_cflag &amp;= ~PARENB; // æ¸…é™¤æ ¡éªŒä½ ts.c_cflag &amp;= ~CSTOPB; // åœæ­¢ä½ä¸º1 ts.c_cflag &amp;= ~CSIZE; ts.c_cflag |= CS8; // 8ä½æ•°æ®ä½ ts.c_cflag &amp;= ~CRTSCTS; // æ— ç¡¬ä»¶æµæ§ ts.c_cflag |= CREAD | CLOCAL; // æ‰“å¼€æ¥æ”¶å™¨ï¼Œå¿½ç•¥modemæ§åˆ¶çº¿ ts.c_lflag &amp;= ~(ICANON | ECHO | ECHOE | ISIG); // åŸå§‹è¾“å…¥ ts.c_iflag &amp;= ~(IXON | IXOFF | IXANY); // ç¦ç”¨è½¯ä»¶æµæ§ ts.c_oflag &amp;= ~OPOST; // åŸå§‹è¾“å‡º ts.c_cc[VMIN] = 0; // è¯»å–æ—¶ä¸ç­‰å¾… ts.c_cc[VTIME] = 5; // 0.5ç§’è¶…æ—¶ if (tcsetattr(fd, TCSANOW, &amp;ts) != 0) &#123; perror(&quot;Error from tcsetattr&quot;); return -1; &#125; é…ç½®æ”¶å‘æ¨¡å¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253int configure_rs485_gpio(void) &#123; int fd; // å¯¼å‡º GPIO fd = open(&quot;/sys/class/gpio/export&quot;, O_WRONLY); if (fd == -1) &#123; perror(&quot;æ— æ³•å¯¼å‡º GPIO&quot;); return -1; &#125; write(fd, &quot;142&quot;, 3); close(fd); // è®¾ç½®ä¸ºè¾“å‡ºæ¨¡å¼ fd = open(&quot;/sys/class/gpio/gpio142/direction&quot;, O_WRONLY); if (fd == -1) &#123; perror(&quot;æ— æ³•è®¾ç½® GPIO æ–¹å‘&quot;); return -1; &#125; write(fd, &quot;out&quot;, 3); close(fd); // æ‰“å¼€å€¼æ–‡ä»¶ç”¨äºè¯»å†™ gpio_fd = open(&quot;/sys/class/gpio/gpio142/value&quot;, O_RDWR); if (gpio_fd == -1) &#123; perror(&quot;æ— æ³•æ‰“å¼€ GPIO å€¼æ–‡ä»¶&quot;); return -1; &#125; // åˆå§‹è®¾ç½®ä¸ºæ¥æ”¶æ¨¡å¼ set_rs485_receive_mode(); return 0;&#125;// è®¾ç½®ä¸ºå‘é€æ¨¡å¼void set_rs485_transmit_mode(void) &#123; if (gpio_fd != -1) &#123; lseek(gpio_fd, 0, SEEK_SET); write(gpio_fd, &quot;1&quot;, 1); // å»¶æ—¶ç¡®ä¿ç¡¬ä»¶åˆ‡æ¢å®Œæˆï¼ˆæ ¹æ®å®é™…ç¡¬ä»¶è°ƒæ•´ï¼‰ usleep(500); // 500 å¾®ç§’ï¼Œå¯æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ &#125;&#125;// è®¾ç½®ä¸ºæ¥æ”¶æ¨¡å¼void set_rs485_receive_mode(void) &#123; if (gpio_fd != -1) &#123; lseek(gpio_fd, 0, SEEK_SET); write(gpio_fd, &quot;0&quot;, 1); // å»¶æ—¶ç¡®ä¿ç¡¬ä»¶åˆ‡æ¢å®Œæˆ usleep(500); &#125;&#125; è¯»å–UARTæ•°æ® 1234567891011121314// receive data from PCset_rs485_receive_mode();while(1) &#123; char buf[256]; int ret = read(fd, buf, sizeof(buf)); if (ret &lt; 0) &#123; printf(&quot;Reading error! &quot;); return -1; &#125; buf[ret] = &#x27;\\0&#x27;; printf(&quot;Receive %d bytes : %s &quot;, ret, buf); sleep(1);&#125;","tags":["Linux","RS485"],"categories":["åµŒå…¥å¼","æ“ä½œç³»ç»Ÿ"]},{"title":"çƒ­æ•ç”µé˜»ä¼°ç®—æ¸©åº¦å€¼","path":"//thermistor-calculate-temperature.html","content":"ä»‹ç»ç”¨é˜»å€¼10kã€Bå€¼3950çš„NTCçƒ­æ•ç”µé˜»ï¼Œç”¨ä¸‡ç”¨è¡¨æµ‹åˆ°å®¤æ¸©ä¸‹çš„ç”µé˜»å€¼ä¸º9.66kÎ© è®¡ç®—æ ¹æ®Steinhart-Hartæ–¹ç¨‹ï¼ŒTï¼ˆå½“å‰æ¸©åº¦å€¼ï¼‰å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ±‚å¾—ï¼š $$\\frac{1}{T} &#x3D; \\frac{1}{T_0} + \\frac{1}{B} \\ln\\left(\\frac{R}{R_0}\\right)$$å·²çŸ¥æ¡ä»¶ï¼š T0 &#x3D; 298.15K B &#x3D; 3950 R0 &#x3D; 10 R &#x3D; 9.66 ä»£å…¥å·²çŸ¥æ¡ä»¶å¾—ï¼š $$\\frac{1}{T} &#x3D; \\frac{1}{298.15} + \\frac{1}{3950} \\ln\\left(\\frac{9.66}{10}\\right)$$å¯ä»¥æ±‚å¾—ï¼ŒT â‰ˆ 1 &#x2F; 0.0033451 â‰ˆ 298.96K â‰ˆ 25.8Â°Cï¼Œç©ºè°ƒæˆ¿çš„æ¸©åº¦æ­£åœ¨è¿™ä¸ªèŒƒå›´é™„è¿‘ï¼è¯´æ˜è®¡ç®—è¿˜æ˜¯å‡†ç¡®çš„ æ€»ç»“ å¦‚æœæ˜¯åµŒå…¥å¼å¹³å°ä¸å»ºè®®è®¡ç®—è¿™ä¸ªæ–¹ç¨‹å¼ï¼Œè¿˜æ˜¯ç”¨æŸ¥è¡¨æ³•æ¯”è¾ƒåˆé€‚ï¼Œæ¯”å¦‚å®ç°å¾—å‡ºADCæµ‹é‡å€¼å’Œæ¸©åº¦å€¼çš„å…³ç³»è¡¨æ ¼ å®é™…å¼€å‘ä¸­ï¼Œä¸²è”ä¸€ä¸ª10kÎ©çš„ç”µé˜»åˆ†å‹ï¼Œå†ç”¨ADCæµ‹é‡NTCä¸¤ç«¯çš„ç”µå‹ï¼Œå°±å¯ä»¥ä¼°ç®—çƒ­æ•ç”µé˜»çš„é˜»å€¼å¤§å°","tags":["NTC","çƒ­æ•ç”µé˜»","Steinhart-Hart"],"categories":["åµŒå…¥å¼"]},{"title":"Linuxå¸¸ç”¨å¤–è®¾æ¥å£æ“ä½œè¯¦è§£","path":"//linux-device-interface.html","content":"ä»‹ç»æ€»ç»“äº†ä¸€ç³»åˆ—å¸¸ç”¨çš„Linuxå¤–è®¾çš„å‘½ä»¤è¡Œæ“ä½œæ–¹æ³• ThermalæŸ¥çœ‹èŠ¯ç‰‡æ¸©åº¦ 1cat /sys/class/thermal/thermal_zone0/temp GPIOæŸ¥çœ‹GPIOä½¿ç”¨æƒ…å†µ 1cat /sys/kernel/debug/gpio å¯¼å‡ºGPIOï¼Œè¿™é‡Œxxxä¸ºGPIOç¼–å· 1echo xxx &gt; /sys/class/gpio/export è®¾ç½®è¾“å…¥è¾“å‡ºæ¨¡å¼ï¼šin ã€out 12echo in &gt; /sys/class/gpio/gpioxxx/directionecho out &gt; /sys/class/gpio/gpioxxx/direction è®¾ç½®è¾“å‡ºé«˜ä½ç”µå¹³ï¼ˆä»…åœ¨outæ¨¡å¼ä¸‹æœ‰æ•ˆï¼‰ 12echo 0 &gt; /sys/class/gpio/gpioxxx/valueecho 1 &gt; /sys/class/gpio/gpioxxx/value æŸ¥çœ‹å½“å‰çš„ç”µå¹³å€¼ 1cat /sys/class/gpio/gpioxxx/value RTCæŸ¥çœ‹RTCç¡¬ä»¶è®¾å¤‡ï¼Œé»˜è®¤çš„æ—¶é’Ÿè®¾å¤‡ä¸ºrtc0 1ls /dev/rtc* æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´ 1date è®¾ç½®ç³»ç»Ÿæ—¶é—´ 1date -s &quot;2025-7-15 10:39:05&quot; å’Œç¡¬ä»¶RTCåŒæ­¥ 12hwclock -w -f /dev/rtc0 # å†™å…¥rtc0hwclock -f /dev/rtc0 -r # è¯»å–rtc0 ADCè®¡ç®—ADCæµ‹é‡ç”µå‹å€¼ 12345raw=$(cat /sys/bus/iio/devices/iio:device0/in_voltage2_raw)scale=$(cat /sys/bus/iio/devices/iio:device0/in_voltage_scale)voltage=$(echo &quot;$raw * $scale&quot; | bc)echo &quot;adc value : $voltage mV&quot; UARTæŸ¥çœ‹ä¸²å£è®¾å¤‡ï¼Œä¸€èˆ¬ä»¥ttyä¸ºå‰ç¼€ï¼Œå¦‚PCç«¯çš„USBè½¬ä¸²å£ttyUSB0ï¼ŒARMç«¯ttyLP2 1ls /dev/tty* è®¾ç½®ä¸²å£é€šä¿¡å‚æ•°ï¼š115200 8N1 1stty -F /dev/ttyLP2 115200 cs8 -parenb -cstopb raw -echo æŸ¥çœ‹ä¸²å£æ¥æ”¶æ•°æ® 1cat /dev/ttyLP2 ç»™ä¸²å£å‘é€æ•°æ® 1echo &quot;Hello RS485!\\\\r\\ &quot; &gt; /dev/ttyLP2; CANåˆå§‹åŒ– CAN ç½‘ç»œæ¥å£ 1234# å…³é—­ip link set can0 down# å¼€å¯ip link set up can0 é…ç½®CANé€šä¿¡å‚æ•° 1234# ä»²è£æ³¢ç‰¹ç‡è®¾ç½®ä¸º1Mï¼Œ æ•°æ®æ³¢ç‰¹ç‡è®¾å¤‡ä¸º4Mï¼Œ å¹¶å¼€å¯canfdåŠŸèƒ½ ip link set can0 up type can bitrate 1000000 dbitrate 4000000 fd on# can2.0é€šä¿¡é…ç½®æ³¢ç‰¹ç‡ä¸º500kip link set can0 type can bitrate 500000 æŸ¥çœ‹canå¸§ 1candump can0 å‘é€canå¸§æ•°æ® 1234cansend can0 010##0.a1.a2.a3.a4.a5.a6.a7.a8.a9.10.\\11.12.13.14.15.16.17.18.19.20.21.23.24.25.26.27.28.29.30.31.32.33.34.\\35.36.37.38.39.40.41.42.43.44.45.46.47.48.49.50.51.52.53.54.55.56.57.\\58.59.60.61.62.63.64 CANè®¾å¤‡çš„è¯¦æƒ…å’Œæ”¶å‘ç»Ÿè®¡ä¿¡æ¯ 12ip -details -statistics link show can0ifconfig can0 EthernetæŸ¥çœ‹æ‰€æœ‰ç½‘ç»œè®¾å¤‡ï¼ˆåŒ…æ‹¬ç½‘å¡ã€CANã€WIFIç­‰ï¼‰ 1ifconfig -a é…ç½®ç½‘å¡ã€WIFIç½‘ç»œIPåœ°å€ 1ifconfig eth1 192.168.55.142 netmask 255.255.255.0 æ·»åŠ è·¯ç”± 1ip route add default via 192.168.55.1 dev eth1 æŸ¥çœ‹æ‰€æœ‰ç½‘å£çš„è·¯ç”±ä¿¡æ¯ 1route -n è‡ªåŠ¨åˆ†é…IPåœ°å€ 1udhcpc eth1","tags":["Linux","GPIO"],"categories":["åµŒå…¥å¼"]},{"title":"repoå·¥å…·ä½¿ç”¨ç¤ºä¾‹","path":"//repo-tool-usage.html","content":"ä»‹ç»repoæ˜¯ä¸€æ¬¾åŸºäº Git æ„å»ºçš„å·¥å…·ï¼Œå®ƒèƒ½æ›´ä¾¿æ·åœ°ç®¡ç†è®¸å¤šGitå­˜å‚¨åº“é¡¹ç›®ï¼Œå¸®æˆ‘ä»¬å®Œæˆç‰ˆæœ¬åº“ä¸Šçš„å‡çº§æµç¨‹ï¼›è¯¥å·¥å…·ä¸ Yocto é¡¹ç›®çš„åˆ†å±‚ç‰¹æ€§å®Œç¾å¥‘åˆï¼Œå¯å¸®åŠ©ç”¨æˆ·æ›´è½»æ¾åœ°å°†è‡ªå®šä¹‰å±‚æ·»åŠ åˆ° BSP ä¸­ å®‰è£…å®‰è£… repo å·¥å…· 123mkdir ~/bincurl https://mirrors.tuna.tsinghua.edu.cn/git/git-repo ~/bin/repochmod a+x ~/bin/repo å¯¼å…¥PATHç¯å¢ƒå˜é‡ä¸­ 1export PATH=~/bin:$PATH è®¾ç½® REPO_URL ç¯å¢ƒå˜é‡ï¼Œ ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒç«™ä½œä¸º repo å·¥å…·çš„ä¸‹è½½æº 1export REPO_URL=&#x27;https://mirrors.tuna.tsinghua.edu.cn/git/git-repo/&#x27; æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç¡®ä¿ä¸»æœºç¯å¢ƒä¸­ git è®¾ç½®æ­£ç¡® 12git config --global user.name &quot;hywing&quot;git config --global user.email &quot;hywing.sir@qq.com&quot; è·å–é…ç½®å®Œæˆåï¼Œ åˆ›å»ºå¹¶è¿›å…¥ Yocto å·¥ä½œç›®å½•ï¼Œ ä½¿ç”¨ repo æ‹‰å–æºç ï¼Œ ç¡®ä¿ç½‘ç»œé€šç•… 123mkdir MYD-LMX91-Yoctocd MYD-LMX91-Yoctorepo init -u https://github.com/MYiR-Dev/myir-imx-manifest -b i.MX91-6.6.36-scarthgap -m myir-6.6.36-1.0.0.xml ç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹åŒæ­¥æºç  1repo sync ä¸‹è½½ä¸ç•…çš„è¯ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°† github æ›¿æ¢ä¸ºé•œåƒç«™ 1sed -i &#x27;s/github.com/bgithub.xyz/g&#x27; .repo/manifests/myir-6.6.36-1.0.0.xml","tags":["Git","repo","å¼€æº","Yocto"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"LidarViewä¹‹è‡ªå®šä¹‰è§£æå™¨","path":"//lidarview-custom-interpreter.html","content":"ä»‹ç»LidarViewæ˜¯ç”±Kitwareå¼€å‘çš„é’ˆå¯¹æ¿€å…‰é›·è¾¾ç‚¹äº‘å±•ç¤ºã€æ•°æ®åˆ†æå¤„ç†çš„3Dè½¯ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€æºçš„é¡¹ç›®ï¼Œç›®å‰é€‚é…çš„é›·è¾¾å‚å•†æœ‰Velodyneã€Ousterã€HeSaiã€é€Ÿè…¾èšåˆ›ç­‰ï¼›è¿™ä¸ªè½¯ä»¶çš„å‰èº«æ˜¯paraviewï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼›LidarViewé€šè¿‡å¤ç”¨paraviewçš„æ ¸å¿ƒç»„ä»¶æ¥å®ç°è·å–ã€è§£æã€å¤„ç†ã€æ¸²æŸ“ã€å±•ç¤º3Dç‚¹äº‘æ•°æ®ï¼Œå…¶å®å®ƒæœ¬èº«çš„ä»£ç é‡å¹¶ä¸å¤šï¼Œæ•´ä¸ªæ¡†æ¶æœ‰ç‚¹ç±»ä¼¼äºå‰åç«¯å®ç°ï¼šå‰ç«¯æ˜¯ç”¨pythonå†™çš„ï¼Œåç«¯æ˜¯è°ƒç”¨C++æ¥å®Œæˆæ•°æ®è·å–ã€å¤„ç†ã€æ¸²æŸ“ã€å±•ç¤ºï¼›æƒ³è¦å®šåˆ¶å¼€å‘LidarViewè½¯ä»¶ï¼Œé¦–å…ˆè¦è§£å†³è§£æå™¨çš„é—®é¢˜ï¼Œæ ¹æ®é›·è¾¾å‚å•†çš„ç‚¹äº‘åè®®å¼€å‘å¯¹åº”çš„è§£æå™¨ï¼Œè§£æå™¨çš„è·¯å¾„ï¼šPlugins\\XxxPlugin\\Plugin\\XxxLidar\\XxxPacketInterpreter è™šå‡½æ•°å…³é”®çš„å‡ ä¸ªè™šå‡½æ•°ï¼š 1234567891011void LoadCalibration(const std::string&amp; filename) override;bool PreProcessPacket(unsigned char const * data, unsigned int dataLength, fpos_t filePosition = fpos_t(), double packetNetworkTime = 0, std::vector&lt;FrameInformation&gt;* frameCatalog = nullptr) override;bool IsLidarPacket(unsigned char const * data, unsigned int dataLength) override;void ProcessPacket(unsigned char const * data, unsigned int dataLength) override;std::string GetSensorInformation(bool shortVersion = false) override;vtkSmartPointer&lt;vtkPolyData&gt; CreateNewEmptyFrame(vtkIdType numberOfPoints, vtkIdType prereservedNumberOfPoints = 60000) override; åŠ è½½åŸå§‹çš„æ ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯LiDARåˆå§‹æ ¡æ­£æ–‡ä»¶ï¼Œè·Ÿç®—æ³•å¯†åˆ‡ç›¸å…³ï¼Œé»˜è®¤æ˜¯ç”¨JSONæ ¼å¼çš„æ•°æ®æ–‡ä»¶ 1void LoadCalibration(const std::string&amp; filename) override; åŒ…æ•°æ®é¢„å¤„ç†ï¼Œå°†bufferè½¬åŒ–æˆæ•°æ®åŒ…ï¼Œè·å–åˆ†å¸§ä¿¡æ¯ 1bool PreProcessPacket(unsigned char const *data, unsigned int dataLength, fpos_t filePosition = fpos_t(), double packetNetworkTime = 0, std::vector&lt;FrameInformation&gt; *frameCatalog = nullptr) override; åŒ…æ•°æ®æ ¡éªŒï¼ˆè·Ÿç‚¹äº‘åè®®å¯†åˆ‡ç›¸å…³ï¼‰ 1bool IsLidarPacket(unsigned char const * data, unsigned int dataLength) override; packetè§£åŒ…ï¼Œè§£ææˆå¯è§†åŒ–çš„VTKä¸‰ä½æ•°æ® 1void ProcessPacket(unsigned char const * data, unsigned int dataLength) override; è‡ªå®šä¹‰è§£æå™¨åç§° 1std::string GetSensorInformation(bool shortVersion = false) override; ç»™æ–°çš„ä¸€å¸§æ•°æ®åˆ’å®šç¼“å†² 1vtkSmartPointer&lt;vtkPolyData&gt; CreateNewEmptyFrame(vtkIdType numberOfPoints, vtkIdType prereservedNumberOfPoints = 60000) override; æ•°æ®ç»“æ„åŸå§‹ç‚¹äº‘å¸§çš„æ•°æ®ç»“æ„åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šheaderã€blocksã€tail 12345678#pragma pack(push, 1)//! @brief class representing the Xxx Packetstruct XxxPacket &#123; XxxHeader header; XxxBlock blocks[Xxx_BLOCK_NUM]; XxxTail tail;&#125;;#pragma pack(pop) ç‚¹äº‘3Dæ•°æ®å®¹å™¨ï¼š 1234567891011vtkSmartPointer&lt;vtkPoints&gt; Points;vtkSmartPointer&lt;vtkDoubleArray&gt; PointsX;vtkSmartPointer&lt;vtkDoubleArray&gt; PointsY;vtkSmartPointer&lt;vtkDoubleArray&gt; PointsZ;vtkSmartPointer&lt;vtkDoubleArray&gt; Azimuth;vtkSmartPointer&lt;vtkDoubleArray&gt; Elevation;vtkSmartPointer&lt;vtkUnsignedIntArray&gt; PointID;vtkSmartPointer&lt;vtkUnsignedCharArray&gt; LaserID;vtkSmartPointer&lt;vtkUnsignedCharArray&gt; Intensities;vtkSmartPointer&lt;vtkDoubleArray&gt; Timestamps;vtkSmartPointer&lt;vtkDoubleArray&gt; Distances; ç‚¹äº‘æ•°æ®ç±»å‹è¯¦è§£ å˜é‡å ç±»å‹ å¤‡æ³¨ Points vtkPoints ä¸‰ç»´ç‚¹é›†åˆ PointsX vtkDoubleArray Xè½´åæ ‡ï¼ˆç¬›å¡å°”ï¼‰ PointsY vtkDoubleArray Yè½´åæ ‡ï¼ˆç¬›å¡å°”ï¼‰ PointsZ vtkDoubleArray Zè½´åæ ‡ï¼ˆç¬›å¡å°”ï¼‰ Azimuth vtkDoubleArray æ–¹ä½è§’ Elevation vtkDoubleArray ä¿¯ä»°è§’ PointID vtkUnsignedIntArray ç‚¹åºå· LaserID vtkUnsignedIntArray æ¿€å…‰æ¨¡ç»„åºå· Intensities vtkUnsignedIntArray ç‚¹çš„åå°„å¼ºåº¦ Timestamps vtkDoubleArray å¸§æ—¶é—´æˆ³ Distances vtkDoubleArray ç‚¹çš„è·ç¦» æµç¨‹åˆ†ææ•´ä¸ªè§£æå™¨çš„æ•°æ®å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š unsigned char const * data è‡ªå®šä¹‰packet è§£ææ—¶é—´æˆ³ä¿¡æ¯ è§£æåˆ†å¸§ä¿¡æ¯ æåæ ‡æ•°æ®è½¬åŒ–ä½ç¬›å¡å°”åæ ‡ç³»æ•°æ® è§£æè‡ªå®šä¹‰ç‚¹äº‘æ•°æ®ï¼ˆlaserIDã€intensityã€å¸§IDç­‰ï¼‰ å¾€vtkPolyDataç±»å‹é‡Œè¾¹å¡«å……ä¸‰ç»´åæ ‡ä¿¡æ¯ æµç¨‹å›¾å¦‚ä¸‹ï¼š graph TD A[å¼€å§‹] --&gt; B[1. è¾“å…¥åŸå§‹æ•°æ®&lt;br/&gt;unsigned char const * data]; B --&gt; C[2. è§£æè‡ªå®šä¹‰packet&lt;br/&gt;è¯†åˆ«æ•°æ®åŒ…ç»“æ„]; C --&gt; D[3. è§£ææ—¶é—´æˆ³ä¿¡æ¯&lt;br/&gt;æå–æ—¶é—´æ•°æ®]; D --&gt; E[4. è§£æåˆ†å¸§ä¿¡æ¯&lt;br/&gt;ç¡®å®šæ•°æ®å¸§è¾¹ç•Œ]; E --&gt; F[5. æåæ ‡è½¬ç¬›å¡å°”åæ ‡&lt;br/&gt;è½¬æ¢è®¡ç®—]; F --&gt; G[6. è§£æè‡ªå®šä¹‰ç‚¹äº‘æ•°æ®&lt;br/&gt;æå–laserID, intensity, å¸§ID]; G --&gt; H[7. å¡«å……vtkPolyData&lt;br/&gt;æ„å»ºå¯è§†åŒ–æ•°æ®ç»“æ„]; H --&gt; I[ç»“æŸ]; %% å¤„ç†ç»†èŠ‚è¯´æ˜ subgraph &quot;æ•°æ®è§£æé˜¶æ®µ&quot; C D E G end subgraph &quot;åæ ‡è½¬æ¢é˜¶æ®µ&quot; F end subgraph &quot;å¯è§†åŒ–æ„å»ºé˜¶æ®µ&quot; H end %% æŠ€æœ¯ç»†èŠ‚æ³¨é‡Š B -.-&gt;|&quot;åŸå§‹äºŒè¿›åˆ¶æ•°æ®æµ&quot;| C; F -.-&gt;|&quot;x=rÂ·sinÎ¸Â·cosÏ†&lt;br/&gt;y=rÂ·sinÎ¸Â·sinÏ†&lt;br/&gt;z=rÂ·cosÎ¸&quot;| G; G -.-&gt;|&quot;åŒ…å«:&lt;br/&gt;- ä¸‰ç»´åæ ‡(x,y,z)&lt;br/&gt;- laserID&lt;br/&gt;- å¼ºåº¦å€¼&lt;br/&gt;- å¸§ID&lt;br/&gt;- æ—¶é—´æˆ³&quot;| H;","tags":["LiDAR","ä¸Šä½æœº","è§£æå™¨"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"DB9ä¸²å£å¼•è„šåˆ†å¸ƒ","path":"//db9-serial-pins.html","content":"DB9å…¬å¤´ DB9æ¯å¤´ DB9å¼•è„šåŠŸèƒ½ å¼•è„š åç§° æ–¹å‘ åŠŸèƒ½æè¿° 1 CD (Carrier Detect) è¾“å…¥ è½½æ³¢æ£€æµ‹ï¼ˆæ¥è‡ªè°ƒåˆ¶è§£è°ƒå™¨ï¼‰ 2 RXD (Receive Data) è¾“å…¥ æ¥æ”¶æ•°æ® 3 TXD (Transmit Data) è¾“å‡º å‘é€æ•°æ® 4 DTR (Data Terminal Ready) è¾“å‡º æ•°æ®ç»ˆç«¯å°±ç»ªï¼ˆè®¡ç®—æœºå‡†å¤‡å¥½ï¼‰ 5 GND (Ground) - ä¿¡å·åœ°çº¿ 6 DSR (Data Set Ready) è¾“å…¥ æ•°æ®è®¾å¤‡å°±ç»ªï¼ˆè°ƒåˆ¶è§£è°ƒå™¨å‡†å¤‡å¥½ï¼‰ 7 RTS (Request To Send) è¾“å‡º è¯·æ±‚å‘é€ï¼ˆè®¡ç®—æœºè¯·æ±‚å‘é€æ•°æ®ï¼‰ 8 CTS (Clear To Send) è¾“å…¥ æ¸…é™¤å‘é€ï¼ˆè°ƒåˆ¶è§£è°ƒå™¨å…è®¸å‘é€ï¼‰ 9 RI (Ring Indicator) è¾“å…¥ æŒ¯é“ƒæŒ‡ç¤ºï¼ˆè°ƒåˆ¶è§£è°ƒå™¨æ£€æµ‹åˆ°æŒ¯é“ƒï¼‰ ä¸‰çº¿åˆ¶RS232åªéœ€è¦æ¥RXDã€TXDã€GNDå³å¯","tags":["ä¸²å£","RS232","DB9"],"categories":["åµŒå…¥å¼"]},{"title":"MC304ä»¥å¤ªç½‘è¿åŠ¨æ§åˆ¶å¡","path":"//mc304-ethernet-motion-control-card.html","content":"æœç´¢ç½‘å¡æ¥å£ï¼šIMC_FindNetCard å‚æ•°1ï¼šç½‘å¡ä¿¡æ¯ç»“æ„ä½“ å‚æ•°2ï¼šç½‘å¡æ•°é‡ è¿”å›å€¼ï¼šæ¥å£çŠ¶æ€ç  ç¤ºä¾‹ä»£ç  1234567891011NIC_INFO info;int num;IMC_STATUS Status = IMC_FindNetCard(&amp;info, &amp;num);if(Status == IMC_OK) &#123;\tfor(int i = 0; i &lt; num; i++) &#123; ui-&gt;netid-&gt;addItem(info.description[i]);\t&#125;&#125;else &#123; qDebug() &lt;&lt; &quot;Find net card error : &quot; &lt;&lt; Status;&#125; æ‰“å¼€è®¾å¤‡æ¥å£ï¼šIMC_Open å‚æ•°1ï¼šIMCè®¾å¤‡å¥æŸ„ å‚æ•°2ï¼šIMCè®¾å¤‡ç¼–å· è¿”å›å€¼ï¼šæ¥å£çŠ¶æ€ç  ç¤ºä¾‹ä»£ç  12345IMC_STATUS st;st = IMC_Open(&amp;m_Handle, m_netid, m_imcid);if(Status != IMC_OK) &#123; qDebug() &lt;&lt; &quot;IMC dev open failed!&quot;;&#125; å…³é—­è®¾å¤‡æ¥å£ï¼šIMC_Close å‚æ•°1ï¼šIMCè®¾å¤‡å¥æŸ„ è¿”å›å€¼ï¼šæ¥å£çŠ¶æ€ç  ç¤ºä¾‹ä»£ç  1IMC_Close(m_Handle); å‚æ•°å’ŒæŒ‡ä»¤16ä½æŒ‡ä»¤è®¾ç½® 1IMC_API IMC_STATUS WINAPI IMC_SetParam16(IMC_HANDLE Handle, IMC16 paramloc, IMC16 thedata,IMC32 axis,int Sel); 32ä½æŒ‡ä»¤è®¾ç½® 1IMC_API IMC_STATUS WINAPI IMC_SetParam32(IMC_HANDLE Handle, IMC16 paramloc, IMC32 thedata,IMC32 axis,int Sel); 48ä½æŒ‡ä»¤è®¾ç½® 1IMC_API IMC_STATUS WINAPI IMC_SetParam48(IMC_HANDLE Handle, IMC16 paramloc, __int64 thedata,IMC32 axis,int Sel); å‚æ•°1ï¼šIMCè®¾å¤‡å¥æŸ„ å‚æ•°2ï¼šå‚æ•°åœ°å€ å‚æ•°3ï¼šå‚æ•°æŒ‡ä»¤ï¼Œæœ‰16ä½æŒ‡ä»¤ã€32ä½æŒ‡ä»¤ã€48ä½æŒ‡ä»¤ å‚æ•°4ï¼šå½“å‰æ§åˆ¶è½´ç¼–å· å‚æ•°5ï¼š**fifoæ¨¡å¼ï¼ŒæŒ‡å®šè¯¥æŒ‡ä»¤å‘å¾€é‚£ä¸ª FIFO ** è¿”å›å€¼ï¼šæ¥å£çŠ¶æ€ç  ç¤ºä¾‹ä»£ç  12345IMC_STATUS status;status = IMC_SetParam16(m_Handle, smoothLoc, 0, axis, SEL_IFIFO);status = IMC_SetParam16(m_Handle, mcsgoLoc, 0, axis, SEL_IFIFO);status = IMC_SetParam32(m_Handle, mcsvelLoc, 0, axis, SEL_IFIFO);status = IMC_SetParam32(m_Handle, mcstgvelLoc, 0, axis, SEL_IFIFO); æ§åˆ¶å¡é…ç½®æ§åˆ¶å¡ä¸Šç”µæ—¶éœ€è¦é’ˆå¯¹æ§åˆ¶è½´è¿›è¡Œä¸€äº›é…ç½® 12345678910111213141516171819202122void MainWindow::initAxis(int axis)&#123; IMC_STATUS status; if(m_Handle==NULL) return; status = IMC_SetParam16(m_Handle, clearLoc, -1, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, accellimLoc, 50000, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, vellimLoc, 5000000, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, mcsmaxvelLoc, this-&gt;m_velocity, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, mcsaccelLoc, 1000, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, mcsdecelLoc, 1000, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, steptimeLoc, 300, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, enaLoc, -1, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, aioctrLoc, 0x0000, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, homeseqLoc, 0x0014, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, lowvelLoc, 83646, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam32(m_Handle, highvelLoc, 83646, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, exitfiltLoc, 0, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, stopfiltLoc, -1, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, gout1Loc, -1, axis, FIFO_SEL::SEL_IFIFO); status = IMC_SetParam16(m_Handle, runLoc, -1, axis, FIFO_SEL::SEL_IFIFO); g_naxis = PKG_IMC_GetNaxis(m_Handle);&#125; clearLocï¼šå†™å…¥éé›¶å€¼å¯¹è¯¥è½´å®æ–½æ¸…é›¶æ“ä½œã€‚æ¸…é›¶è¯¥è½´çš„ç¼–ç å™¨è®¡æ•°ã€æŒ‡ä»¤ä½ç½®ã€ç›®æ ‡ä½ç½®ç­‰å„ç§ä½ç½®å‚æ•° accellimLocï¼šè®¾ç½®è¯¥è½´çš„åŠ é€Ÿåº¦æé™å€¼ vellimLocï¼šè®¾ç½®è¯¥è½´çš„é€Ÿåº¦æé™å€¼ mcsmaxvelLocï¼šç‚¹åˆ°ç‚¹è¿åŠ¨çš„æœ€å¤§é€Ÿåº¦ï¼ˆä¸»åæ ‡ç³»ï¼‰ mcsaccelLocï¼šåŠ é€Ÿåº¦ï¼ˆä¸»åæ ‡ç³»ï¼‰ mcsdecelLocï¼šå‡é€Ÿåº¦ï¼ˆä¸»åæ ‡ç³»ï¼‰ steptimeLocï¼šè®¾å®šè„‰å†²æœ‰æ•ˆç”µå¹³å®½åº¦ï¼Œå•ä½æ˜¯ç³»ç»Ÿçš„æ—¶é’Ÿå‘¨æœŸ enaLocï¼šè„‰å†²è¾“å‡ºåŠé©±åŠ¨å™¨ä½¿èƒ½ï¼Œå†™å…¥FFFFhåˆ™ä½¿èƒ½è„‰å†²è¾“å‡ºåŠä½¿èƒ½é©±åŠ¨å™¨ aioctrLocï¼šè½´I&#x2F;Oæ•°æ®å¯„å­˜å™¨ï¼ŒæŸI&#x2F;Oè®¾ä¸ºè¾“å…¥æ—¶ï¼Œè¯»å‡ºçš„æ˜¯å¯¹åº”ç®¡è„šçš„å®æ—¶ä¿¡å·å€¼ï¼Œå†™å…¥0æˆ–1å¯ä½¿è¯¥ç®¡è„šè¾“å‡ºä½æˆ–é«˜ç”µå¹³ï¼Œè¯»åˆ™å¾—åˆ°å†™å…¥åˆ°è¯¥å¯„å­˜å™¨çš„å€¼ homeseqLocï¼šè®¾ç½®æœå¯»åŸç‚¹è¿‡ç¨‹çš„è¿åŠ¨åºåˆ—å’Œæ“ä½œæ–¹å¼ lowvelLocï¼šæœå¯»åŸç‚¹æ—¶ï¼Œä½é€Ÿæ®µçš„é€Ÿåº¦é¢„è®¾å€¼ highvelLocï¼šæœå¯»åŸç‚¹æ—¶ï¼Œé«˜é€Ÿæ®µçš„é€Ÿåº¦é¢„è®¾å€¼ exitfiltLocï¼šæŒ‡å®šå‘ç”Ÿä½•ç§é”™è¯¯æ—¶åœæ­¢è¯¥è½´è¿è¡Œï¼Œexitfiltä¸­ç½®ä½çš„ä½åŸŸå°†è‡´ä½¿ï¼šè‹¥é”™è¯¯å¯„å­˜å™¨errorä¸­å¯¹åº”çš„ä½åŸŸç½®ä½åˆ™åœæ­¢è¿è¡Œ(æ¸…é›¶run) stopfiltLocï¼šæŒ‡å®šå‘ç”Ÿä½•ç§é”™è¯¯æ—¶åœæ­¢è§„åˆ’è¿åŠ¨ï¼Œstopfiltä¸­ç½®ä½çš„ä½åŸŸå°†è‡´ä½¿ï¼šè‹¥é”™è¯¯å¯„å­˜å™¨errorä¸­å¯¹åº”çš„ä½åŸŸç½®ä½åˆ™åœæ­¢è¿åŠ¨ gout1Locï¼šå…¨å±€å¼€å…³é‡è¾“å‡ºgout1 runLocï¼šè¿è¡Œè¯¥è½´ï¼Œåªæœ‰è¿è¡Œè¯¥è½´æ‰èƒ½è¿›è¡Œè¿åŠ¨è§„åˆ’ï¼Œè‹¥è¯¥è½´å› é”™è¯¯é€€å‡ºè¿è¡Œï¼Œrunæ¸…é›¶ï¼Œè¯¥è½´å¤„äºåœæ­¢è¿è¡ŒçŠ¶æ€ è®¾ç½®å’Œæœç´¢åŸç‚¹è®¾ç½®åŸç‚¹ 1.åŸç‚¹çš„åç§»ä½ç½®å€¼ï¼Œè®¾ç½®æœºæ¢°åŸç‚¹æ—¶ï¼Œè¯¥å€¼è¢«æ‹·è´åˆ°æŒ‡ä»¤ä½ç½®å¯„å­˜å™¨curposå’Œç¼–ç å™¨å¯„å­˜å™¨encpä¸­ 2.è®¾ç½®æœç´¢é€Ÿåº¦ 3.è¿›è¡Œæœç´¢ 123456IMC16 direction, RiseEdge, stop, useI;direction = ui-&gt;direction-&gt;currentIndex();RiseEdge = stop = useI = 0;IMC_SetParam32(m_Handle, homeposLoc, 0, m_axis, SEL_IFIFO);SetHomeVel(2000000, 1000000, SEL_IFIFO);FindHome(direction, RiseEdge, stop, useI, m_axis); æœç´¢é€Ÿåº¦ 1.è®¾ç½®æœå¯»åŸç‚¹æ—¶ï¼Œä½é€Ÿæ®µçš„é€Ÿåº¦é¢„è®¾å€¼ 2.æœå¯»åŸç‚¹æ—¶ï¼Œé«˜é€Ÿæ®µçš„é€Ÿåº¦é¢„è®¾å€¼ 1234567bool MainWindow::SetHomeVel(int highvel, int lowvel, FIFO_SEL fifo)&#123; IMC_STATUS status = IMC_OK; status = IMC_SetParam32(m_Handle, highvelLoc, highvel, 0, fifo); status = IMC_SetParam32(m_Handle, lowvelLoc, lowvel, 0, fifo); return status == IMC_OK;&#125; æœç´¢åŸç‚¹ æ ¹æ®æŒ‡å®šæ–¹å‘ï¼ˆæ­£è´Ÿï¼‰ï¼Œè¾¹æ²¿ï¼Œåœæ­¢æ ‡è®°ï¼Œç´¢å¼•ï¼Œè½´ç¼–å·é…ç½®æœç´¢è¿‡ç¨‹ 1234567891011121314151617IMC_STATUS MainWindow::FindHome(IMC16 direction, IMC16 RiseEdge, IMC16 stop, IMC16 useindex, IMC32 axis)&#123; IMC_STATUS status = IMC_OK; if (!isOpen()) return IMC_DEVICE_NOT_OPEN; do &#123; if(!useindex)&#123; status = IMC_HomeSwitch1(m_Handle, direction, RiseEdge, stop, axis, SEL_IFIFO); &#125;else&#123; status = IMC_HomeSwitchIndex1(m_Handle, direction, RiseEdge, stop, axis, SEL_IFIFO); &#125; if (status != IMC_OK) IsError(status); &#125; while (status != IMC_OK); return status;&#125; ç‚¹å¯¹ç‚¹è¿åŠ¨ä»¥ç»å¯¹ä½ç½®è¿åŠ¨ä¸ºä¾‹ï¼šéœ€è¦é…ç½®IMCè®¾å¤‡å¥æŸ„ã€è¿åŠ¨ä½ç½®ã€è¿åŠ¨è½´ã€fifoæ¨¡å¼ï¼Œè°ƒç”¨ä½¿ç”µæœºç§»åŠ¨åˆ°ç»å¯¹ä½ç½®çš„å‡½æ•°,è¿è¡Œè¿‡ç¨‹ä¸­çš„æŒ‡ä»¤æ˜¯å‘é€åˆ°QFIFOçš„ 123456789101112131415bool MainWindow::MoveAbs(int pos, int axis)&#123; IMC_STATUS status; if (!isOpen()) return false; do &#123; status = IMC_MoveAbsolute(m_Handle, pos, axis, SEL_QFIFO); if (status != IMC_OK)&#123; IsError(status); QThread::sleep(1); &#125; &#125; while (status != IMC_OK); return status == IMC_OK;&#125; ç­‰å¾…è¿åŠ¨ç»“æŸ 123456789101112131415bool MainWindow::WaitMoved(int axis)&#123; IMC_STATUS status; if (!isOpen()) return false; do &#123; status = IMC_WaitParam(m_Handle, movingLoc, 0, 0, axis, SEL_QFIFO); if (status != IMC_OK)&#123; IsError(status); QThread::sleep(1); &#125; &#125; while (status != IMC_OK); return status == IMC_OK;&#125; movingLocï¼šæ ‡å¿—æ˜¯å¦è§„åˆ’è¿åŠ¨ï¼ˆåŒ…æ‹¬ä¸»åæ ‡ç³»å’Œè¾…åæ ‡ç³»ï¼‰ä»¥åŠè¿åŠ¨å¹³æ»‘å¤„ç†ä¸­ï¼Œ0ï¼šåœæ­¢è§„åˆ’è¿åŠ¨ä¸”åœæ­¢å¹³æ»‘å¤„ç†ï¼ŒFFFFhï¼šè§„åˆ’è¿åŠ¨æœªå®Œæˆæˆ–è¿åŠ¨å¹³æ»‘å¤„ç†è¿›è¡Œä¸­ æ€¥åœå’Œåœæ­¢åœæ­¢ç‚¹å¯¹ç‚¹ï¼šå¾€åœ°å€mcsgoLocå†™å…¥FFFFhå¯åŠ¨ç‚¹åˆ°ç‚¹è¿åŠ¨ï¼Œå†™å…¥0ï¼Œåœæ­¢å½“å‰çš„ç‚¹åˆ°ç‚¹è¿åŠ¨ï¼ˆä¸»åæ ‡ç³»ï¼‰ 1234567bool MainWindow::StopPos2Pos(int axis)&#123; IMC_STATUS status; status = IMC_SetParam16(m_Handle, mcsgoLoc, 0, axis, SEL_IFIFO); status = IMC_ClearFIFO(m_Handle, SEL_QFIFO); return status == IMC_OK;&#125; ç‚¹å¯¹ç‚¹æ€¥åœï¼šæš‚åœè¯¥è½´çš„è¿åŠ¨ 123456789bool MainWindow::PosEmstop(int axis)&#123; IMC_STATUS status; status = IMC_SetParam16(m_Handle, smoothLoc, 0, axis, SEL_IFIFO); status = IMC_SetParam16(m_Handle, mcsgoLoc, 0, axis, SEL_IFIFO); status = IMC_SetParam32(m_Handle, mcsvelLoc, 0, axis, SEL_IFIFO); status = IMC_SetParam32(m_Handle, mcstgvelLoc, 0, axis, SEL_IFIFO); return status == IMC_OK;&#125; smoothLocï¼šè¿åŠ¨å¹³æ»‘å› å­ mcsgoLocï¼šå†™å…¥FFFFhå¯åŠ¨ç‚¹åˆ°ç‚¹è¿åŠ¨ï¼Œå†™å…¥é›¶ï¼Œåœæ­¢å½“å‰çš„ç‚¹åˆ°ç‚¹è¿åŠ¨ï¼ˆä¸»åæ ‡ç³»ï¼‰ mcsvelLocï¼šå½“å‰è§„åˆ’é€Ÿåº¦ï¼ˆä¸»åæ ‡ç³»ï¼‰ mcstgvelLocï¼šè¿ç»­é€Ÿåº¦è¿åŠ¨çš„ç›®æ ‡é€Ÿåº¦ï¼ˆä¸»åæ ‡ç³»ï¼‰ ä»¥ä¸Šåœ°å€é…ç½®ä¸º0å³å¯æ€¥åœè¯¥è½´è¿åŠ¨ å¤šçº¿ç¨‹IMCç³»åˆ—æ¥å£åœ¨è¿›è¡Œç‚¹å¯¹ç‚¹è¿åŠ¨æ—¶éœ€è¦å¼€è¾Ÿä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œï¼ˆä¸ç„¶ä¼šå µå¡ä¸»çº¿ç¨‹ï¼‰ï¼Œä»¥Qtä¸ºä¾‹turnToAnglesåŠ¨ä½œéœ€è¦æ”¾åˆ°å­çº¿ç¨‹å»æ‰§è¡Œ 1QFuture&lt;void&gt; future = QtConcurrent::run(this, &amp;MainWindow::turnToAngles); ä½ç½®åé¦ˆæ•°æ®åŸå› å£°æ˜ 1234567891011121314// å‚æ•°ç±»å‹åŸå‹typedef struct _WR_MUL_DES_&#123;\tWORD addr;\t//å‚æ•°åœ°å€ WORD axis;\t//è½´å· WORD len;\t//å‚æ•°é•¿åº¦ï¼ˆå•ä½ï¼šå­—ï¼ˆ16ä½å®½ï¼‰, å…¶å€¼ä¸º1ã€2ã€3ï¼› 1:è¡¨ç¤ºä¸€ä¸ªå­—ï¼ˆshortï¼‰ 2:è¡¨ç¤º2ä¸ªå­—ï¼ˆlong) 3:è¡¨ç¤º3ä¸ªå­—ï¼ˆï¼‰ï¼‰ WORD data[4];//å†™æˆ–è¯»å›çš„æ•°æ®&#125;WR_MUL_DES, *pWR_MUL_DES;....... #define m_Naxis 4WR_MUL_DES m_encpDes[m_Naxis];WR_MUL_DES m_curposDes[m_Naxis];WR_MUL_DES m_errorDes[m_Naxis]; é…ç½®æœºæ¢°ä½ç½®ã€æŒ‡ä»¤ä½ç½®ã€é”™è¯¯å¯„å­˜å™¨åœ°å€ä¿¡æ¯ 123456789101112131415161718for (int axis = 0; axis &lt; m_Naxis; axis++)&#123; m_encp[axis] = 0; m_curpos[axis] = 0; m_error[axis] = 0; m_encpDes[axis].addr = encpLoc; m_encpDes[axis].axis = axis; m_encpDes[axis].len = 2; m_curposDes[axis].addr =curposLoc; m_curposDes[axis].axis = axis; m_curposDes[axis].len = 2; m_errorDes[axis].addr = errorLoc; m_errorDes[axis].axis = axis; m_errorDes[axis].len = 1;&#125; å¼€è¾Ÿå®šæ—¶å™¨è½®è¯¢æœºæ¢°ä½ç½®ã€æŒ‡ä»¤ä½ç½®ã€é”™è¯¯ä¿¡æ¯ 12345678910111213141516171819202122232425262728293031323334void MainWindow::timerEvent(QTimerEvent *event)&#123; if(event-&gt;timerId() == m_timeID) &#123; if (!isOpen()) return ; IMC_STATUS st; int i; st = IMC_GetMulParam(m_Handle, m_encpDes, (short)m_Naxis); if (st == IMC_OK) &#123; for (i = 0; i &lt; m_Naxis; i++) &#123; m_encp[i] = m_encpDes[i].data[0] + (m_encpDes[i].data[1] &lt;&lt; 16); if(i == m_axis) &#123; ui-&gt;machinePos-&gt;setText(QString::number(m_encp[i])); &#125; &#125; &#125; st = IMC_GetMulParam(m_Handle, m_curposDes, (short)m_Naxis); if (st == IMC_OK) &#123; for (i = 0; i &lt; m_Naxis; i++) &#123; m_curpos[i] = m_curposDes[i].data[0] + (m_curposDes[i].data[1] &lt;&lt; 16); if(i == m_axis) &#123; ui-&gt;commandPos-&gt;setText(QString::number(m_curpos[i])); &#125; &#125; &#125; &#125;&#125; æ¥å£ï¼šIMC_GetMulParam å‚æ•°1ï¼šIMCè®¾å¤‡å¥æŸ„ å‚æ•°2ï¼šå¤šè½´å‚æ•°ç»“æ„ä½“ï¼ŒåŒ…æ‹¬å‚æ•°åœ°å€ã€è½´å·ã€å‚æ•°é•¿åº¦ã€å†™æˆ–è¯»å›çš„æ•°æ® å‚æ•°3ï¼šæ€»è½´æ•° è¿”å›å€¼ï¼šæ¥å£çŠ¶æ€ç ","tags":["ä»¥å¤ªç½‘","è¿åŠ¨æ§åˆ¶"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"DSPå¼€å‘è§£ç–‘ç­”éš¾ä¸“é¢˜","path":"//dsp-development-issue.html","content":"C&#x2F;C++ç¼–è¯‘å™¨æ ‡å‡†é—®é¢˜ç°åœ¨å¾ˆå¤šDSPä»£ç éƒ½å–œæ¬¢åœ¨å¾ªç¯åˆå§‹åŒ–éƒ¨åˆ†å®šä¹‰å˜é‡ï¼Œä½†æ˜¯Code Compose Studioé‡Œè¾¹é»˜è®¤C89ï¼Œè¿™ä¸ªæ˜¯æ˜æ˜¾ä¸æ”¯æŒè¿™ç§ç”¨æ³•çš„ 1234for(int i = 0; i &lt; 100; i++)&#123;&#125; è§£å†³Code Compose Studioé‡Œè¾¹ç¼–è¯‘å™¨è¯­è¨€é€‰é¡¹éšè—çš„æ¯”è¾ƒæ·±ï¼Œéœ€è¦æ‰¾åˆ° Properties -&gt; Build -&gt; 2000 Compiler -&gt; Advanced Options -&gt; Language Options -&gt; C Dialetï¼Œå°†Cè¯­è¨€æ ‡å‡†æ”¹ä¸ºc99 XDAISç»„ä»¶é—®é¢˜ç¼–è¯‘å·¥ç¨‹æ—¶æç¤ºæ²¡æœ‰XDAISè¿™ä¸ªç»„ä»¶ï¼ˆç°åœ¨æ–°çš„å·¥ç¨‹éƒ½æ²¡æœ‰XDIASï¼Œåªæœ‰è€æ—§çš„æ‰æœ‰ï¼‰ è§£å†³åœ¨General -&gt; Productsä¸‹æŠŠXDAISç»„ä»¶Removeæ‰ å·¥ç¨‹makeå¤±è´¥é—®é¢˜å¯¼å…¥controlSUITEé‡Œè¾¹çš„exampleå‘ç°makeæ²¡æœ‰æ‰¾åˆ°ï¼ è§£å†³åœ¨builderå¤„å‹¾é€‰Use default build command ä¿®æ”¹Sysconfigçš„èŠ¯ç‰‡å‹å·åœ¨Sysconfigå·¥å…·çš„å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹æŒ‰é”®é‚£é‡Œï¼Œç‚¹å‡»Preferences &amp;&amp; Actionsï¼Œç‚¹å‡»SWITCHæŒ‰é’® åœ¨å¼¹å‡ºçš„Migrate Settingså¯¹è¯æ¡†é‡Œè¾¹é…ç½®æ–°çš„èŠ¯ç‰‡å‹å·ï¼Œå¦‚æœä¸æ˜¯å®˜æ–¹å®šåˆ¶çš„å¼€å‘æ¿Boardä¸€æ é€‰None åˆ‡æ¢å®Œæˆåè¿˜è¦æ£€æŸ¥sysconfigå·¥å…·æŒ‡å®šç”Ÿæˆçš„èŠ¯ç‰‡é…ç½®ï¼Œç„¶åæ•´ä¸ªå·¥ç¨‹rebuildå³å¯ ç¼–è¯‘é—®é¢˜ ç¬¬ä¸€ååº”æ˜¯æ£€æŸ¥å¤´æ–‡ä»¶ï¼Œçœ‹çœ‹åŒ…å«çš„è·¯å¾„å¯¹ä¸å¯¹ï¼Œå¤šå»C2000 Compileré‡Œè¾¹è®¾ç½®ã€æ’æŸ¥ çœ‹çœ‹ç¨‹åºè¯­æ³•é—®é¢˜ï¼Œåº“æ˜¯ä¸æ˜¯å¤ªè€äº† é“¾æ¥é—®é¢˜ å…ˆçœ‹æ˜¯ä¸æ˜¯cmdçš„é—®é¢˜ï¼Œæ’é™¤æ˜¯ä¸æ˜¯RAMæˆ–è€…FLASHç©ºé—´åˆ†é…ä¸åˆç† å†çœ‹æ˜¯ä¸æ˜¯åº“çš„é—®é¢˜ï¼Œlegacyå’ŒEFIæ ¼å¼çš„åº“éƒ½ä¸ä¸€æ ·ï¼Œå¤šå»C2000 Linkeré‡Œè¾¹è®¾ç½®ã€æ’æŸ¥ XDSè°ƒè¯•å™¨é—®é¢˜ç”¨çš„æ˜¯ç¬¬ä¸‰æ–¹å“ç‰Œç ”æ—­çš„è°ƒè¯•å™¨XDS200ï¼Œå„ç§å„æ ·çš„é—®é¢˜éƒ½æœ‰å¯èƒ½å‡ºç°ï¼Œè¦æœ‰è€å¿ƒï¼ ä¸‹è½½å´©æºƒ è§è¯è¿‡å¥½å‡ æ¬¡ï¼Œè¿™ä¸ªCMDå†…å­˜åˆ†é…ä¸åˆç†ï¼Œä¼šå¯¼è‡´Code Compose Studioä¸‹è½½çƒ§å½•çš„æ—¶å€™è‡ªåŠ¨é€€å‡º è°ƒè¯•å¤±æ•ˆ é‡åˆ°è°ƒè¯•å¤±æ•ˆçš„æƒ…å†µé‡æ–°ä¸Šç”µä¹Ÿå°±å¯ä»¥äº†ï¼Œä¹Ÿå¯èƒ½æ˜¯æ–­ç‚¹å¤ªå¤šäº† Builderè®¾ç½®ä¸äº†ç°è±¡code composer studioè®¾ç½®ä¸äº†builderï¼Œbuilderçš„å‹¾é€‰æ¡†ä¹Ÿç‚¹å‡»ä¸äº† 123**** Build of configuration Flash for project internal_loopback_serial_c28 ****Nothing to build for project internal_loopback_serial_c28 è§£å†³è¿™ä¸ªå¤§æ¦‚ç‡æ˜¯CCSå·¥ç¨‹ç‰ˆæœ¬ä¸å…¼å®¹å¯¼è‡´çš„ï¼Œéœ€è¦å†General -&gt; Projectä¸‹æ›´æ”¹ä¸€ä¸‹Compiler versionæˆ–è€…Linker command fileå°±å¯ä»¥äº†","tags":["DSP"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Qt6ä¸²å£é€šä¿¡","path":"//qt6-serial-communication.html","content":"å‰è¨€ä¸²å£ç¡®å®æ˜¯è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œå»åˆ°çš„å‡ ä¹æ¯å®¶å…¬å¸éƒ½æœ‰å®šåˆ¶åŒ–ä¸²å£å·¥å…·çš„éœ€æ±‚ï¼ˆæµ‹è¯•ã€ç¡¬ä»¶ã€ç®—æ³•ã€æŠ€æœ¯æ”¯æŒæ–¹é¢ï¼‰ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ä¸Šä½æœºå’Œä¸‹ä½æœºçš„é€šä¿¡æ¥å£ï¼Œé€šå¸¸ä¸å¤–ä¹åšè¿™å‡ ç§åŠŸèƒ½ï¼šå‡çº§ã€æ•°æ®é‡‡é›†ã€å‘½ä»¤æ§åˆ¶ ä»‹ç»ä¸²å£æ˜¯ä¸€ç§å¸¸è§çš„ä¸²è¡Œé€šä¿¡æ€»çº¿ï¼Œæœ‰åŒå·¥ã€åŠåŒå·¥ç­‰å·¥ä½œæ¨¡å¼ï¼Œå¸¸è§çš„ä¸²å£é€šä¿¡è®¾å¤‡æœ‰ï¼š HMIå± GNSSæ¨¡å— RTKæ¨¡å— çƒ§å½•&#x2F;è°ƒè¯•å·¥å…·ï¼Œå‡ ä¹æ¯ä¸ªåµŒå…¥å¼è®¾å¤‡éƒ½ä¼šé¢„ç•™ä¸€ä¸ªä¸²å£ä¾›çƒ§å½•ã€è°ƒè¯•ä½¿ç”¨ PCé€šä¿¡å·¥å…·ï¼ˆ232ã€485ã€422ï¼‰ï¼Œå·¥æ§åœºåˆç”¨å¾—æœ€å¤šï¼Œä¹Ÿå°±æ˜¯ä¸Šä½æœºé‡Œè¾¹åº”ç”¨æ¯”è¾ƒå¤š è¿åŠ¨æ§åˆ¶å™¨ã€æœºå™¨è‡‚ æ•°æ®ç±»å‹QSerialPortInfoè·å–ç³»ç»Ÿä¸Šæ‰€æœ‰ä¸²å£è®¾å¤‡ç«¯å£ 123456789// å‡½æ•°åŸå‹static QList&lt;QSerialPortInfo&gt; QSerialPortInfo::availablePorts();// ç”¨æ³•ç¤ºä¾‹auto &amp;&amp;ports = QSerialPortInfo::availablePorts();for(auto &amp; iter : ports)&#123; qDebug() &lt;&lt; &quot;port : &quot; &lt;&lt; iter.portName();&#125; è·å–ä¸²å£è®¾å¤‡åç§° 123456// å‡½æ•°åŸå‹QString portName() const;// ç”¨æ³•ç¤ºä¾‹QSerialPortInfo info = ports.last();qDebug() &lt;&lt; &quot;name : &quot; &lt;&lt; info.portName(); è·å–ç³»ç»Ÿæ”¯æŒå“ªäº›ä¸²å£æ³¢ç‰¹ç‡å‚æ•° 123456789// å‡½æ•°åŸå‹static QList&lt;qint32&gt; QSerialPortInfo::standardBaudRates();// ç”¨æ³•ç¤ºä¾‹auto &amp;&amp;rates = QSerialPortInfo::availableRates();for(auto &amp; iter : rates)&#123; qDebug() &lt;&lt; &quot;rate : &quot; &lt;&lt; iter;&#125; å½“å‰ä¸²å£è®¾å¤‡æ˜¯å¦æ˜¯ç©ºçš„ 1bool isNull() const; ä¸²å£è®¾å¤‡å‚å•†ä¿¡æ¯ 1QString manufacturer() const; QSerialPortæˆå‘˜å‡½æ•° æ¥å£ ç”¨æ³• å‡½æ•°åŸå‹ portName è·å–ç«¯å£å·åç§° QString portName() const setPortName è®¾ç½®ç«¯å£å· void setPortName(const QString &amp;name) open æ‰“å¼€ä¸²å£è®¾å¤‡ï¼ˆå¯ä»¥é…ç½®è¯»å†™æ¨¡å¼ï¼‰ bool open(OpenMode mode) read è¯»å–ä¸²å£æ•°æ® qint64 read(char *data, qint64 maxlen) write å†™å…¥ä¸²å£æ•°æ® qint64 write(const QByteArray &amp;data) close å…³é—­ä¸²å£è®¾å¤‡ void close() baudRate è·å–ä¸²å£é€šä¿¡æ³¢ç‰¹ç‡ qint32 baudRate(Directions directions &#x3D; AllDirections) setBaudRate è®¾ç½®ä¸²å£é€šä¿¡æ³¢ç‰¹ç‡ bool setBaudRate(qint32 baudRate, Directions directions &#x3D; AllDirections) dataBits è·å–å½“å‰æ•°æ®ä½è®¾ç½® DataBits dataBits() const setDataBits è®¾ç½®å½“å‰æ•°æ®ä½ bool setDataBits(DataBits dataBits) parity è·å–å½“å‰å¥‡å¶æ ¡éªŒä½è®¾ç½® Parity parity() const setParity è®¾ç½®å¥‡å¶æ ¡éªŒä½ bool setParity(Parity parity) stopBits è·å–å½“å‰åœæ­¢ä½è®¾ç½® StopBits stopBits() const setStopBits è®¾ç½®åœæ­¢ä½ bool setStopBits(StopBits stopBits) flowControl ç¡¬ä»¶æµæ§è®¾ç½® FlowControl flowControl() const setFlowControl è®¾ç½®ç¡¬ä»¶æµæ§åŠŸèƒ½ bool setFlowControl(FlowControl flowControl) ä¸€èˆ¬å¤„ç†ä»¥ä¸‹ä¸¤ä¸ªä¿¡å·å°±å¤Ÿäº† readyReadï¼šè¡¨ç¤ºå·²ç»æ¥æ”¶åˆ°ä¸²å£æ•°æ® errorOccurredï¼šè¡¨ç¤ºä¸²å£é€šä¿¡å·²ç»å‘ç”Ÿå¼‚å¸¸ï¼ŒQSerialPort::SerialPortErroræ˜¯é”™è¯¯ä¿¡æ¯æç¤º å·¥ç¨‹æ„å»ºcmake12find_package(Qt6 REQURED COMPONENTS SerialPort)target_link_libraries($&#123;PROJECT_NAME&#125; PRIAVTE Qt6::SerialPort) qmake1QT += serialport å¤´æ–‡ä»¶12#include &lt;QSerialPortInfo&gt;#include &lt;QSerialPort&gt; GUIå¸¸è§çš„ä¸²å£é…ç½®ç•Œé¢å¦‚ä¸‹ï¼ˆè¿™æ˜¯Windowsè‡ªå¸¦çš„ï¼Œä»…ä½œå‚è€ƒä½¿ç”¨ï¼‰ï¼Œä¸²å£çš„å¸¸è§å‚æ•°é…ç½®ï¼šç«¯å£å·ã€æ³¢ç‰¹ç‡ã€æ•°æ®ä½ã€å¥‡å¶æ ¡éªŒä½ã€åœæ­¢ä½ã€ç¡¬ä»¶æµæ§ å·¥ä½œæµç¨‹Qtä¸²å£ç¼–ç æµç¨‹ é…ç½®ä¸²å£å‚æ•°ï¼šç«¯å£å·ã€æ³¢ç‰¹ç‡ã€æ•°æ®ä½ã€å¥‡å¶æ ¡éªŒä½ã€åœæ­¢ä½ã€ç¡¬ä»¶æµæ§ æ‰“å¼€ä¸²å£è®¾å¤‡ï¼šéœ€è¦é…ç½®è¯»å†™æ¨¡å¼ ç»‘å®šreadyReadä¿¡å·è¿›è¡Œæ•°æ®è¯»å–æ“ä½œ ç»‘å®šerrorOccurredä¿¡å·å¯ä»¥æŸ¥çœ‹ä¸²å£é€šä¿¡å¼‚å¸¸ä¿¡æ¯ é€šè¿‡writeå‡½æ•°è¿›è¡Œæ•°æ®å‘é€æ“ä½œ é€šè¿‡closeæ¥å£å…³é—­ä¸²å£è®¾å¤‡ æ³¨æ„äº‹é¡¹ç¼–ç¨‹è®¾è®¡å»ºè®®ç”¨å•ä¾‹æ¨¡å¼ç¼–å†™ä¸²å£é€šä¿¡åº”ç”¨ï¼Œå¥½å¤„æ˜¯å…¨å±€å”¯ä¸€å¯è®¿é—®ã€å¤šçº¿ç¨‹åœºåˆä¹Ÿèƒ½å…¼é¡¾çº¿ç¨‹å®‰å…¨ï¼Œåœ¨ç±»é”€æ¯çš„æ—¶å€™è¦åŠæ—¶å…³é—­ä¸²å£å·ï¼Œé˜²æ­¢ç¬¬äºŒæ¬¡è®¿é—®èµ„æºè¢«å ç”¨ï¼›ä¹Ÿå¯ä»¥è®©è¿›ç¨‹å”¯ä¸€ï¼Œä¸è®©ç¨‹åºå¤šå¼€å®ä¾‹ 123456789101112131415161718192021class SerialManager : public QObject&#123; Q_OBJECTprotected: explicit SerialManager(QObject *parent = nullptr) &#123; m_serial = new QSerialPort(this); &#125; ~SerialManager() &#123; &#125;public: static SerialManager *getInstance() &#123; static SerialManager instance; return &amp;instance; &#125;private: QSerialPort *m_serial;&#125;; çƒ­æ‹”æ’QAbstractNactiveEventFilterå¯ä»¥å®ç°ä¸²å£è®¾å¤‡çƒ­æ‹”æ’çš„åŠ¨æ€è¯†åˆ« 12345678910111213141516171819202122232425262728293031323334353637#include &lt;windows.h&gt;#include &lt;winuser.h&gt;#include &lt;Dbt.h&gt;#include &lt;QAbstractNativeEventFilter&gt;static QList&lt;QSerialPortInfo&gt; g_availablePorts = QSerialPortInfo::availablePorts();class WindowsNativeEventFilter : public QAbstractNativeEventFilter&#123;public: bool nativeEventFilter(const QByteArray &amp;eventType, void *message, qintptr *) override &#123; if (eventType == &quot;windows_generic_MSG&quot;) &#123; MSG *msg = static_cast&lt;MSG *&gt;(message); if(msg-&gt;message == WM_DEVICECHANGE) &#123; // æ€»çš„æ¥è¯´ï¼Œéœ€è¦è¯†åˆ«DBT_DEVICEARRIVAL DBT_DEVICEREMOVECOMPLETEä¸¤ä¸ªæ¶ˆæ¯ if(msg-&gt;wParam == DBT_DEVICEARRIVAL) &#123; // æ£€æŸ¥ä¸€ä¸‹QSerialPortInfo::availablePortsæœ‰æ²¡æœ‰å˜åŠ¨ if(g_availablePorts.size() != QSerialPortInfo::availablePorts().size()) &#123; &#125; &#125; else if(msg-&gt;wParam == DBT_DEVICEREMOVECOMPLETE) &#123; // æ£€æŸ¥ä¸€ä¸‹QSerialPortInfo::availablePortsæœ‰æ²¡æœ‰å˜åŠ¨ if(g_availablePorts.size() != QSerialPortInfo::availablePorts().size()) &#123; &#125; &#125; &#125; &#125; return false; &#125;&#125;;WindowsNativeEventFilter filter;QApplication::instance()-&gt;installNativeEventFilter(&amp;filter); å‚è€ƒã€1ã€‘è®¾å¤‡ç®¡ç† - Win32 apps ã€2ã€‘QAbstractNativeEventFilter Class ã€3ã€‘Qt Serial Bus","tags":["Qt","ä¸²å£"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"GDBç®€æ˜“æ•™ç¨‹","path":"//gdb-simple-tutorial.html","content":"è°ƒè¯•é€‰é¡¹CMakeLists.txtæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œ-gè¡¨ç¤ºgccç¼–è¯‘çš„æ—¶å€™åŠ ä¸Šè°ƒè¯•ä¿¡æ¯ï¼ŒDebugç‰ˆæœ¬è¡¨ç¤ºå¸¦è°ƒè¯•ç¬¦å·çš„è½¯ä»¶ç‰ˆæœ¬ 12set(CMAKE_CXX_FLAGS &quot;-g&quot;)set(CMAKE_BUILD_TYPE Debug) å¯åŠ¨è°ƒè¯•ç¼–è¯‘å¥½çš„ç¨‹åºä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤è¿è¡Œèµ·æ¥ 1gdb ç¨‹åºå è¿è¡Œç¨‹åºä½¿ç”¨runå‘½ä»¤è¿è¡Œç¨‹åºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¼©å†™r 12(gdb) run(gdb) r ä»£ç ç‰‡æ®µä½¿ç”¨listå‘½ä»¤æŸ¥çœ‹ä»£ç ç‰‡æ®µï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¼©å†™l 12(gdb) list(gdb) l è¿è¡Œ&#x2F;ç»§ç»­ä½¿ç”¨continueå‘½ä»¤è¿è¡Œæˆ–è€…ç»§ç»­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¼©å†™c 12(gdb) continue(gdb) c æ‰§è¡Œä¸€è¡Œä»£ç ä½¿ç”¨nextå‘½ä»¤æ‰§è¡Œä¸€è¡Œä»£ç ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¼©å†™nï¼Œé‡åˆ°å‡½æ•°è°ƒç”¨ä¸ä¼šè¿›å…¥å‡½æ•° 12(gdb) next(gdb) n è®¾ç½®æ–­ç‚¹ä½¿ç”¨breakæˆ–è€…ç¼©å†™bå‘½ä»¤è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ 123456(gdb) break è¡Œå·(gdb) break æ–­ç‚¹ç¼–å· if æ¡ä»¶åˆ¤æ–­(gdb) b è¡Œå·(gdb) b æ–­ç‚¹ç¼–å· if æ¡ä»¶åˆ¤æ–­(gdb) b æ–‡ä»¶å:è¡Œå·(gdb) b å‡½æ•°å åˆ é™¤æ–­ç‚¹ä½¿ç”¨deleteã€delã€då¯ä»¥åˆ é™¤æŒ‡å®šç¼–å·çš„æ–­ç‚¹ 123(gdb) delete æ–­ç‚¹ç¼–å·(gdb) del æ–­ç‚¹ç¼–å·(gdb) d æ–­ç‚¹ç¼–å· è®¾ç½®æ–­ç‚¹æ— æ•ˆæš‚æ—¶ä¸æƒ³ç”¨æ–­ç‚¹å¯ä»¥ç”¨disableã€diså‘½ä»¤æš‚æ—¶ä½¿å…¶æ— æ•ˆ 12(gdb) disable æ–­ç‚¹ç¼–å·(gdb) dis æ–­ç‚¹ç¼–å· è®¾ç½®æ–­ç‚¹ç”Ÿæ•ˆenaã€enableå‘½ä»¤ä½¿èƒ½æ–­ç‚¹ 12(gdb) ena æ–­ç‚¹ç¼–å·(gdb) enable æ–­ç‚¹ç¼–å· å•æ­¥è°ƒè¯•stepå‘½ä»¤é‡åˆ°å‡½æ•°ä¼šè¿›å…¥è·Ÿnextå‘½ä»¤ä¸ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç”¨ç¼©å†™s 12(gdb) step(gdb) s å½“å‰å †æ ˆä½¿ç”¨btå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ‰§è¡Œçš„å †æ ˆåˆ—è¡¨ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°ç”¨æ•°å­—ç¼–ç çš„å †æ ˆåˆ—è¡¨ 1(gdb) bt æŸ¥çœ‹å½“å‰å¸§ä½¿ç”¨frameå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ‰§è¡Œçš„å †æ ˆå¸§æ‰€åœ¨ä½ç½®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¼©å†™f 12(gdb) frame(gdb) f å›æº¯åˆ‡æ¢å †æ ˆå¸§é€šè¿‡å¸§å·è®¾ç½®å¯ä»¥å›æº¯ï¼ˆè·³è½¬ï¼‰å½“å‰æ‰§è¡Œçš„å †æ ˆä½ç½®ï¼Œupã€downå‘½ä»¤å¯ä»¥è®¾ç½®å¸§å·å¢å‡ 123(gdb) frame å¸§å·(gdb) up (gdb) down æ‰“å°å˜é‡printå‘½ä»¤ç”¨äºæŸ¥çœ‹å˜é‡çš„å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨ç¼©å†™p 12(gdb) print å˜é‡å(gdb) p å˜é‡å å˜é‡ç±»å‹ptypeå‘½ä»¤ç”¨äºæŸ¥çœ‹æŒ‡å®šå˜é‡çš„ç±»å‹ 1(gdb) ptype å˜é‡å æŸ¥çœ‹æ‰€æœ‰çº¿ç¨‹å¦‚æœæƒ³æŸ¥çœ‹å½“å‰ç¨‹åºå®ä¾‹æœ‰å¤šå°‘ä¸ªçº¿ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ 1(gdb) info threads æŸ¥çœ‹å±€éƒ¨å˜é‡å¦‚æœæƒ³æŸ¥çœ‹å½“å‰æ‰§è¡Œä½ç½®çš„æ‰€ä»¥å±€éƒ¨å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ 1(gdb) info locals æŸ¥çœ‹ä¼ å…¥å‚æ•°å¦‚æœæƒ³æŸ¥çœ‹å½“å‰å‡½æ•°æ‰€æœ‰å…¥å‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ 1(gdb) info args æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯å¦‚æœæƒ³æŸ¥çœ‹å½“å‰å½“å‰ç¨‹åºçš„å¼‚å¸¸ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ 1(gdb) info catch ä¸æ‡‚å°±é—®ä½¿ç”¨helpå‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¸€äº›å‘½ä»¤çš„ç”¨æ³• 1(gdb) help è¿œç¨‹è°ƒè¯•è¿æ¥gdbserverä½¿ç”¨ä»¥ä¸‹æ ¼å¼æŒ‡ä»¤ 1(gdb) target remote IPåœ°å€:ç«¯å£å· å›¾å½¢åŒ–ç•Œé¢è°ƒè¯•æºä»£ç æ¯”è¾ƒå¤šçš„æ—¶å€™ä½¿ç”¨ç‰¹åˆ«æ˜¯cppä»£ç  1gdb -tui","tags":["GDB"],"categories":["å¼€å‘å·¥å…·"]},{"title":"å¼€å‘ç±»ä¹¦ç±æ¨è","path":"//development-books.html","content":"æŠ€æœ¯ç±»Cã€ŠC Primer Plusã€‹ç¬¬äº”ç‰ˆ ã€ŠCå’ŒæŒ‡é’ˆã€‹ã€ŠCé™·é˜±ä¸ç¼ºé™·ã€‹ã€ŠCä¸“å®¶ç¼–ç¨‹ã€‹ C++ã€ŠC++ primerã€‹ç¬¬äº”ç‰ˆ ã€ŠC++ primer plusã€‹ã€ŠEffective C++ã€‹ã€ŠEffective STLã€‹ Shellã€ŠLinux shellç¼–ç¨‹ã€‹ Pythonã€ŠPython3ç¨‹åºå¼€å‘æŒ‡å—ã€‹ç¬¬äºŒç‰ˆ Linuxã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœã€‹ ã€ŠLinuxè¿ç»´ä¹‹é“ã€‹ã€ŠLinuxå†…æ ¸è®¾è®¡ä¸å®ç°ã€‹ç¬¬ä¸‰ç‰ˆã€Šä¸€ä¸ª64ä½æ“ä½œç³»ç»Ÿçš„è®¾è®¡å’Œå®ç°ã€‹ Qtã€Šqt5å¼€å‘åŠå®ä¾‹ã€‹ã€Špyqt5å¿«é€Ÿå¼€å‘ä¸å®æˆ˜ã€‹ é©±åŠ¨ã€ŠLinuxé©±åŠ¨ç¨‹åºå¼€å‘å®ä¾‹ã€‹ç¬¬äºŒç‰ˆ ç½‘ç»œã€ŠLinuxé«˜æ€§èƒ½æœåŠ¡å™¨ç¼–ç¨‹ã€‹ è®¾è®¡æ¨¡å¼ã€Šå¤§è¯è®¾è®¡æ¨¡å¼ã€‹ æ•°å­¦ã€Šé«˜ç­‰æ•°å­¦ã€‹ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹ã€Šå¤å˜å‡½æ•°ã€‹ã€Šç¦»æ•£æ•°å­¦ã€‹ã€Šç¨‹åºå‘˜çš„æ•°å­¦ã€‹ ä¿®å…»ã€Šç¼–è¯‘åŸç†ã€‹ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ã€Šæ•°æ®ç»“æ„ï¼ˆCè¯­è¨€ç‰ˆï¼‰ã€‹ ç”µå­ç”µæ°”ã€Šæ¨¡æ‹Ÿç”µå­æŠ€æœ¯ã€‹ã€Šæ•°å­—ç”µå­æŠ€æœ¯ã€‹ã€ŠAltium Designer 6.0åŸç†å›¾ä¸PCBè®¾è®¡ã€‹ã€Šé›¶åŸºç¡€å­¦å•ç‰‡æœºCè¯­è¨€ç¨‹åºè®¾è®¡ã€‹ äº§å“ç±»ã€Šäººäººéƒ½æ˜¯äº§å“ç»ç†ã€‹ã€Šäº§å“ç»ç†æ–¹æ³•è®ºã€‹ ç®¡ç†ç±»ã€Šç³»ç»Ÿé›†æˆé¡¹ç›®ç®¡ç†å·¥ç¨‹å¸ˆæ•™ç¨‹ã€‹ã€Šä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å·¥ç¨‹å¸ˆæ•™ç¨‹ã€‹","tags":["ä¹¦ç±"],"categories":["æ–¹æ³•è®º"]},{"title":"markdowné«˜çº§æŠ€å·§ï¼šç»˜åˆ¶å›¾ä¾‹å’Œå…¬å¼","path":"//markdown-advanced-technique.html","content":"å‰è¨€åšå·¥ç¨‹çš„äººç»å¸¸ä¼šæœ‰ç»˜åˆ¶å›¾ä¾‹å’Œæ•°å­¦å…¬å¼çš„éœ€æ±‚ï¼Œç°åœ¨æ˜¯æ•°å­—åŒ–åŠå…¬çš„æ—¶ä»£ï¼Œç”¨ç¬”å’Œçº¸ä¹¦å†™å·²ç»ä¸æ˜¯æ½®æµï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰å¥½çš„å·¥å…·æ–¹ä¾¿æˆ‘ä»¬åœ¨ç”µè„‘æ’°å†™æ–‡æ¡£æ—¶æŠŠå›¾ä¾‹å’Œå…¬å¼åˆå¿«åˆå¥½çš„ä¹¦å†™å‘¢ï¼Ÿ ä»‹ç»ç­”æ¡ˆæ—¶æœ‰çš„ï¼Œmermaidè¿™ä¸ªå·¥å…·å¯ä»¥ç”¨æ¥ç»˜åˆ¶æµç¨‹å›¾ã€æ—¶åºå›¾ï¼Œååˆ†ç®€å•ã€é«˜æ•ˆï¼è€Œmathjaxå¯ä»¥ç”¨æ¥ä¹¦å†™å„ç§å„æ ·çš„çš„æ•°å­¦å…¬å¼ï¼Œåœ¨ç½‘é¡µç«¯é€šè¿‡ç®€å•æ–‡æœ¬çš„æ–¹æ³•æŠŠå›¾ä¾‹å’Œå…¬å¼æ¸²æŸ“å‡ºæ¥ï¼Œæ˜¯å¹¿å¤§è½¯ä»¶å·¥ç¨‹å¸ˆçš„å¿…ä¼šç¥å™¨ğŸ‘ğŸ‘ğŸ‘ å®‰è£…mermaidå®‰è£…hexo-filter-mermaidæ’ä»¶ï¼Œå®‰è£…å‰åˆ‡æ¢æºä¸‹è½½æ›´å¿«ä¸€äº› 12npm config set registry https://registry.npmmirror.comnpm install hexo-filter-mermaid --save æ›¿æ¢markdownæ¸²æŸ“å™¨ï¼Œé»˜è®¤çš„ä¸èƒ½æ­£å¸¸æ¸²æŸ“ 12npm uninstall hexo-renderer-marked --savenpm install hexo-renderer-markdown-it markdown-it-mermaid --save mathjaxå®‰è£…hexo-filter-mathjaxæ’ä»¶ 1npm install hexo-filter-mathjax --save é…ç½®mermaidé…ç½®_config.ymlæ–‡ä»¶ 123456789101112mermaid: enable: true theme: default cdn: https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.jsmarkdown: plugins: - markdown-it-mermaid # å¯ç”¨ Mermaid æ”¯æŒ anchors: level: 2 permalink: true separator: &#x27;-&#x27; ç¦æ­¢mermaidé«˜äº®ï¼Œå¦åˆ™æ¸²æŸ“ä¸å‡ºæ¥ 1234567highlight: line_number: true auto_detect: false tab_replace: &#x27;&#x27; wrap: true hljs: false exclude_languages: [mermaid] # ç¦æ­¢é«˜äº®å¤„ç† Mermaid ä»£ç å— åœ¨node_modules\\ä¸»é¢˜å\\layout\\_partial\\head.ejsæ–‡ä»¶ä¸‹åŠ å…¥ä»¥ä¸‹å†…å®¹ 1234567&lt;script src=&quot;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; mermaid.initialize(&#123; startOnLoad: true, theme: &#x27;default&#x27; // å¯é€‰ï¼šdefault / dark / forest / neutral &#125;);&lt;/script&gt; mathjaxé…ç½®_config.ymlæ–‡ä»¶ 123mathjax: enable: true cdn: https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js åœ¨node_modules\\ä¸»é¢˜å\\layout\\_partial\\head.ejsæ–‡ä»¶ä¸‹åŠ å…¥ä»¥ä¸‹å†…å®¹ 123456789101112131415&lt;script&gt;MathJax = &#123; tex: &#123; inlineMath: [[&#x27;$&#x27;, &#x27;$&#x27;], [&#x27;\\\\(&#x27;, &#x27;\\\\)&#x27;]], displayMath: [[&#x27;$$&#x27;, &#x27;$$&#x27;], [&#x27;\\\\[&#x27;, &#x27;\\\\]&#x27;]] &#125;, chtml: &#123; scale: 1.2 // æ”¾å¤§ 1.2 å€ï¼ˆé»˜è®¤ 1.0ï¼‰ &#125;, svg: &#123; fontCache: &#x27;global&#x27; &#125;&#125;;&lt;/script&gt;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&quot; async&gt;&lt;/script&gt; ä¸»é¢˜é…ç½® 123mathjax: enable: true per_page: false # æˆ– trueï¼ˆæŒ‰éœ€åŠ è½½ï¼‰ å›¾ä¾‹æµç¨‹å›¾ç®€å•çš„æµç¨‹å›¾ç¤ºèŒƒï¼ˆæ¨ªå‘ï¼‰ä»£ç  123flowchart LRA[hexo] --&gt; B[mermaid]A --&gt; C[latex] ç®€å•çš„æµç¨‹å›¾ç¤ºèŒƒï¼ˆæ¨ªå‘ï¼‰æ•ˆæœ flowchart LR A[hexo] --&gt; B[mermaid] A --&gt; C[latex] å¤æ‚çš„æµç¨‹å›¾ï¼ˆçºµå‘ï¼‰ä»£ç  1234567graph TD A[å¯åŠ¨å¯¼èˆª] --&gt; B[è·å–RTKå®šä½æ•°æ®] B --&gt; C&#123;ç²¾åº¦æ˜¯å¦è¾¾æ ‡?&#125; C --&gt;|æ˜¯| D[ç”Ÿæˆä½œä¸šè·¯å¾„] C --&gt;|å¦| E[ç­‰å¾…ä¿¡å·æ”¹å–„] D --&gt; F[æ˜¾ç¤º2D/3Dè§†å›¾] F --&gt; G[æŒç»­æ›´æ–°ä½ç½®] å¤æ‚çš„æµç¨‹å›¾ï¼ˆçºµå‘ï¼‰æ•ˆæœ graph TD A[å¯åŠ¨å¯¼èˆª] --&gt; B[è·å–RTKå®šä½æ•°æ®] B --&gt; C&#123;ç²¾åº¦æ˜¯å¦è¾¾æ ‡?&#125; C --&gt;|æ˜¯| D[ç”Ÿæˆä½œä¸šè·¯å¾„] C --&gt;|å¦| E[ç­‰å¾…ä¿¡å·æ”¹å–„] D --&gt; F[æ˜¾ç¤º2D/3Dè§†å›¾] F --&gt; G[æŒç»­æ›´æ–°ä½ç½®] æ—¶åºå›¾æ—¶åºå›¾ç¤ºèŒƒä»£ç  123456789101112131415161718192021sequenceDiagram participant ç”¨æˆ· participant ç³»ç»Ÿ participant å®šä½æ¨¡å— participant ä½œä¸šè§„åˆ’æ¨¡å— participant æ˜¾ç¤ºæ¨¡å— ç”¨æˆ·-&gt;&gt;ç³»ç»Ÿ: å¯åŠ¨å†œæœºå¯¼èˆª ç³»ç»Ÿ-&gt;&gt;å®šä½æ¨¡å—: è¯·æ±‚å®šä½æ•°æ® å®šä½æ¨¡å—-&gt;&gt;ç³»ç»Ÿ: è¿”å›å¤šæ¨¡å®šä½æ•°æ® ç³»ç»Ÿ-&gt;&gt;ç³»ç»Ÿ: å¡å°”æ›¼æ»¤æ³¢å¤„ç†å®šä½æ•°æ® ç³»ç»Ÿ-&gt;&gt;ä½œä¸šè§„åˆ’æ¨¡å—: è¾“å…¥å®šä½æ•°æ®å’Œä½œä¸šæ¨¡å¼ ä½œä¸šè§„åˆ’æ¨¡å—-&gt;&gt;ç³»ç»Ÿ: ç”Ÿæˆä½œä¸šè·¯å¾„ ç³»ç»Ÿ-&gt;&gt;æ˜¾ç¤ºæ¨¡å—: æ¸²æŸ“2D/3Dä½œä¸šå›¾ æ˜¾ç¤ºæ¨¡å—-&gt;&gt;ç”¨æˆ·: æ˜¾ç¤ºä½œä¸šè·¯å¾„å’Œå†œæœºä½ç½® loop å®æ—¶æ›´æ–° å®šä½æ¨¡å—-&gt;&gt;ç³»ç»Ÿ: å®æ—¶å®šä½æ•°æ® ç³»ç»Ÿ-&gt;&gt;æ˜¾ç¤ºæ¨¡å—: æ›´æ–°ä½œä¸šå›¾ end ç”¨æˆ·-&gt;&gt;ç³»ç»Ÿ: é€‰æ‹©æ™ºèƒ½è¾…åŠ©åŠŸèƒ½ ç³»ç»Ÿ-&gt;&gt;ç³»ç»Ÿ: æ‰§è¡Œé¿éšœ/æ–­ç‚¹ç»­èˆªç­‰åŠŸèƒ½ æ—¶åºå›¾ç¤ºèŒƒæ•ˆæœ sequenceDiagram participant ç”¨æˆ· participant ç³»ç»Ÿ participant å®šä½æ¨¡å— participant ä½œä¸šè§„åˆ’æ¨¡å— participant æ˜¾ç¤ºæ¨¡å— ç”¨æˆ·-&gt;&gt;ç³»ç»Ÿ: å¯åŠ¨å†œæœºå¯¼èˆª ç³»ç»Ÿ-&gt;&gt;å®šä½æ¨¡å—: è¯·æ±‚å®šä½æ•°æ® å®šä½æ¨¡å—-&gt;&gt;ç³»ç»Ÿ: è¿”å›å¤šæ¨¡å®šä½æ•°æ® ç³»ç»Ÿ-&gt;&gt;ç³»ç»Ÿ: å¡å°”æ›¼æ»¤æ³¢å¤„ç†å®šä½æ•°æ® ç³»ç»Ÿ-&gt;&gt;ä½œä¸šè§„åˆ’æ¨¡å—: è¾“å…¥å®šä½æ•°æ®å’Œä½œä¸šæ¨¡å¼ ä½œä¸šè§„åˆ’æ¨¡å—-&gt;&gt;ç³»ç»Ÿ: ç”Ÿæˆä½œä¸šè·¯å¾„ ç³»ç»Ÿ-&gt;&gt;æ˜¾ç¤ºæ¨¡å—: æ¸²æŸ“2D/3Dä½œä¸šå›¾ æ˜¾ç¤ºæ¨¡å—-&gt;&gt;ç”¨æˆ·: æ˜¾ç¤ºä½œä¸šè·¯å¾„å’Œå†œæœºä½ç½® loop å®æ—¶æ›´æ–° å®šä½æ¨¡å—-&gt;&gt;ç³»ç»Ÿ: å®æ—¶å®šä½æ•°æ® ç³»ç»Ÿ-&gt;&gt;æ˜¾ç¤ºæ¨¡å—: æ›´æ–°ä½œä¸šå›¾ end ç”¨æˆ·-&gt;&gt;ç³»ç»Ÿ: é€‰æ‹©æ™ºèƒ½è¾…åŠ©åŠŸèƒ½ ç³»ç»Ÿ-&gt;&gt;ç³»ç»Ÿ: æ‰§è¡Œé¿éšœ/æ–­ç‚¹ç»­èˆªç­‰åŠŸèƒ½ é¥¼å›¾ç”»ä¸€ä¸ªæ¯”ä¾‹é¥¼ä»£ç  12345pie title ç ”å‘äººå‘˜ &quot;ç¡¬ä»¶&quot; : 45 &quot;è½¯ä»¶&quot; : 30 &quot;æµ‹è¯•&quot; : 25 æ¯”ä¾‹é¥¼æ•ˆæœ pie title ç ”å‘äººå‘˜ &quot;ç¡¬ä»¶&quot; : 45 &quot;è½¯ä»¶&quot; : 30 &quot;æµ‹è¯•&quot; : 25 ç±»å›¾ç”Ÿæˆä¸€ä¸ªç±»çš„ç¤ºæ„å›¾ä»£ç  123456789classDiagram class Human &#123; +String name +eat() &#125; class Man &#123; +shaving() &#125; Human &lt;|-- Man ä¸€ä¸ªç±»çš„ç¤ºæ„å›¾æ•ˆæœ classDiagram class Human &#123; +String name +eat() &#125; class Man &#123; +shaving() &#125; Human &lt;|-- Man æ•°å­¦å…¬å¼ç§¯åˆ†ç§¯åˆ†å…¬å¼ä»£ç ç¤ºä¾‹ 123$$\\int_&#123;0&#125;^&#123;\\pi/2&#125; \\sin x \\ dx = 1$$ ç§¯åˆ†å…¬å¼æ•ˆæœ$$\\int_{0}^{\\pi&#x2F;2} \\sin x \\ dx &#x3D; 1$$ æ±‚å¯¼æ±‚å¯¼ä»£ç ç¤ºä¾‹ 123456$$\\ f&#x27;(x) = \\frac&#123;d&#125;&#123;dx&#125; (\\ln x) = \\frac&#123;1&#125;&#123;x&#125;$$$$f&#x27;&#x27;(x) = \\frac&#123;d&#125;&#123;dx&#125; \\left( \\frac&#123;1&#125;&#123;x&#125; \\right) = -\\frac&#123;1&#125;&#123;x^2&#125;$$ æ±‚å¯¼å…¬å¼æ•ˆæœ$$\\ fâ€™(x) &#x3D; \\frac{d}{dx} (\\ln x) &#x3D; \\frac{1}{x}$$ $$fâ€™â€™(x) &#x3D; \\frac{d}{dx} \\left( \\frac{1}{x} \\right) &#x3D; -\\frac{1}{x^2}$$ å¹‚å¹‚å‡½æ•°ä»£ç ç¤ºä¾‹ 123$$\\ f(x) = x^3 \\$$ å¹‚å‡½æ•°å…¬å¼æ•ˆæœ$$\\ f(x) &#x3D; x^3 $$ å¯¹æ•°å¯¹æ•°å‡½æ•°ä»£ç ç¤ºä¾‹ 123$$\tf(x) = \\log_3 x $$ å¯¹æ•°å‡½æ•°å…¬å¼ç¤ºä¾‹$$f(x) &#x3D; \\log_3 x$$ æŒ‡æ•°æŒ‡æ•°å‡½æ•°ä»£ç ç¤ºä¾‹ 123$$\tf(x) = 2^x$$ æŒ‡æ•°å‡½æ•°å…¬å¼æ•ˆæœ$$f(x) &#x3D; 2^x$$ ç‰©ç†å…¬å¼ç‰›é¡¿ç¬¬äºŒå®šå¾‹ä»£ç  123$$\\sum \\vec&#123;F&#125; = \\frac&#123;d\\vec&#123;p&#125;&#125;&#123;dt&#125; $$ å…¬å¼$$\\vec{F} &#x3D; m \\vec{a}$$ è´¨èƒ½æ–¹ç¨‹ä»£ç  123$$E = mc^2$$ å…¬å¼$$E &#x3D; mc^2$$ ä¸‡æœ‰å¼•åŠ›å®šå¾‹ä»£ç  123$$\\vec&#123;F&#125; = -G \\frac&#123;m_1 m_2&#125;&#123;r^2&#125; \\hat&#123;r&#125;$$ å…¬å¼$$\\vec{F} &#x3D; -G \\frac{m_1 m_2}{r^2} \\hat{r}$$ æ¬§æ‹‰å…¬å¼ä»£ç  123$$e^&#123;i\\theta&#125; = \\cos\\theta + i\\sin\\theta $$ ç¤ºä¾‹$$e^{i\\theta} &#x3D; \\cos\\theta + i\\sin\\theta$$ $$e^{x + iy} &#x3D; e^x (\\cos y + i\\sin y)$$ éº¦å…‹æ–¯éŸ¦æ–¹ç¨‹ç»„ä»£ç  123456\\begin&#123;aligned&#125; abla \\cdot \\mathbf&#123;E&#125; &amp;= \\frac&#123;\\rho&#125;&#123;\\varepsilon_0&#125; \\quad &amp;\\text&#123;(é«˜æ–¯å®šå¾‹)&#125; \\\\ abla \\cdot \\mathbf&#123;B&#125; &amp;= 0 \\quad &amp;\\text&#123;(ç£é«˜æ–¯å®šå¾‹)&#125; \\\\ abla \\times \\mathbf&#123;E&#125; &amp;= -\\frac&#123;\\partial \\mathbf&#123;B&#125;&#125;&#123;\\partial t&#125; \\quad &amp;\\text&#123;(æ³•æ‹‰ç¬¬å®šå¾‹)&#125; \\\\ abla \\times \\mathbf&#123;B&#125; &amp;= \\mu_0 \\mathbf&#123;J&#125; + \\mu_0 \\varepsilon_0 \\frac&#123;\\partial \\mathbf&#123;E&#125;&#125;&#123;\\partial t&#125; \\quad &amp;\\text&#123;(å®‰åŸ¹-éº¦å…‹æ–¯éŸ¦å®šå¾‹)&#125;\\end&#123;aligned&#125; å…¬å¼$$\\begin{aligned} abla \\cdot \\mathbf{E} &amp;&#x3D; \\frac{\\rho}{\\varepsilon_0} \\quad &amp;\\text{(é«˜æ–¯å®šå¾‹)} \\\\end{aligned}$$ $$\\begin{aligned} abla \\cdot \\mathbf{B} &amp;&#x3D; 0 \\quad &amp;\\text{(ç£é«˜æ–¯å®šå¾‹)} \\\\end{aligned}$$ $$\\begin{aligned} abla \\times \\mathbf{E} &amp;&#x3D; -\\frac{\\partial \\mathbf{B}}{\\partial t} \\quad &amp;\\text{(æ³•æ‹‰ç¬¬å®šå¾‹)} \\\\end{aligned}$$ $$\\begin{aligned} abla \\times \\mathbf{B} &amp;&#x3D; \\mu_0 \\mathbf{J} + \\mu_0 \\varepsilon_0 \\frac{\\partial \\mathbf{E}}{\\partial t} \\quad &amp;\\text{(å®‰åŸ¹-éº¦å…‹æ–¯éŸ¦å®šå¾‹)}\\end{aligned}$$","tags":["markdown"],"categories":["å¼€å‘å·¥å…·"]},{"title":"Linuxå¸¸ç”¨å‘½ä»¤","path":"//linux-common-command.html","content":"å‰è¨€ä»¥ä¸‹å‘½ä»¤åœ¨å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°ï¼Œé™äºç¯‡å¹…ï¼Œåªè¯¦ç»†ä»‹ç»éƒ¨åˆ†å‘½ä»¤çš„ä½¿ç”¨ï¼ˆå¸¸è§ç”¨æ³•ï¼‰ï¼Œæœªå®Œå¾…ç»­ æ–‡ä»¶ç›®å½•åˆ›å»ºæ–‡ä»¶ 1touch xxx.txt åˆ é™¤æ–‡ä»¶ 1rm *.user build/ -rf åˆ›å»ºç›®å½• 12mkdir build mkdir build/demol -p # -p ä¸å­˜åœ¨å­ç›®å½•åˆ™åˆ›å»º æŸ¥æ‰¾æ–‡ä»¶ç‰¹å®šç‰¹å¾çš„æ–‡ä»¶å¹¶åˆ é™¤æ‰ 1find . -name &quot;*.o&quot; -exec rm -rf &#123;&#125; \\; æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å¯æ‰§æ–‡ä»¶ 1find . -type f -executable å®šä½æ–‡ä»¶åœ¨å“ªé‡Œ 123sudo apt install plocate\t# éœ€è¦å…ˆå®‰è£…è¿™ä¸ªç¨‹åºsudo updatedb # å…ˆæ›´æ–°æ•°æ®åº“ç´¢å¼•locate xxx # å®šä½æ–‡ä»¶ å®šä½å‘½ä»¤ä½ç½® 1which whoami æŸ¥çœ‹å½“å‰è·¯å¾„ 1pwd å‹ç¼©æ–‡ä»¶ 1234567# é‡‡ç”¨tar.xzæ ¼å¼tar cJf debug.tar.xz debug# é‡‡ç”¨tar.bz2æ ¼å¼tar cjf debug.tar.bz2 debug# é‡‡ç”¨tar.gzæ ¼å¼tar czf debug.tar.gz debugtar zcvf AsensingViewer-1.0.0-40-g17e3aba-20230918-Ubuntu20.04-x86_64.tar.gz AsensingViewer-1.0.0-40-g17e3aba-20230918-Ubuntu20.04-x86_64/ å‘½ä»¤åˆ«å 1alias qtcreator=/opt/Qt5.12.9/Tools/QtCreator/bin/qtcreator æ–‡ä»¶æƒé™é…ç½® 12sudo chmod u+x demo.txtsudo chmod 777 demo.txt åˆ›å»ºè½¯é“¾æ¥ 1ln -s æºæ–‡ä»¶è·¯å¾„ è½¯é“¾æ¥ç”Ÿæˆè·¯å¾„ æ¡Œé¢ç¯å¢ƒä¸‹ç”¨å‘½ä»¤è¡Œæ‰“å¼€å½“å‰æ–‡ä»¶ç›®å½• 1nautilus . ç”¨æˆ·ç®¡ç†åˆ›å»ºæ–°ç”¨æˆ· 12345sudo useradd -d &quot;/home/hywing&quot; -m -s &quot;/bin/bash&quot; hywing# -d æŒ‡å®šhomeç›®å½•# -s æŒ‡å®šé»˜è®¤shellç±»å‹# -m è‹¥ä¸å­˜åœ¨å®¶ç›®å½•ï¼Œåˆ™åˆ›å»ºï¼Œå¦åˆ™ä¸åˆ›å»ºsu hywing\t# åˆ‡æ¢ç”¨æˆ· åˆ é™¤ç”¨æˆ·çš„æ‰€æœ‰ç›®å½•ã€é…ç½® 1userdel -r hywing æŸ¥çœ‹æ–‡ä»¶å¤¹å¤§å° 12du -h -d 1 du -h --max-depth=1 . sshå‘½ä»¤ï¼Œä½¿ç”¨22ç«¯å£ç™»å½• 1ssh -Y name@xxx.xxx.xxx.xxx sshç«¯å£è½¬å‘ç™»å½• 1ssh hywing@110.24.115.124 -p 10001 æ–‡æœ¬å¤„ç†å®æ—¶æŸ¥çœ‹æ–‡ä»¶å†™å…¥å†…å®¹ 1tail -f /var/log/syslog å¸¸è§çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼ˆå‘½ä»¤è¡Œä¸‹ï¼‰ 12vimnano æŸ¥çœ‹æ–‡ä»¶å†…å®¹ 1cat /etc/passwd æ ¹æ®å…³é”®å­—æŸ¥æ‰¾ 12grep -lr &quot;xxx&quot; æŒ‡å®šç›®å½• # åˆ—å‡ºä¸€ä¸ªåŒ¹é…çš„æ–‡ä»¶åˆ—è¡¨grep -iRn &quot;xxx&quot; æŒ‡å®šç›®å½•\t# åˆ—å‡ºæ‰€æœ‰åŒ¹é…ç»“æœï¼ˆåŒ…æ‹¬æœ‰æ–‡ä»¶åˆ—è¡¨ã€è¯¦ç»†ç»“æœï¼‰ ç³»ç»Ÿè¿ç»´æŸ¥çœ‹è¿›ç¨‹id 1pidof webserver æ€æ‰æŒ‡å®šè¿›ç¨‹ 1kill -9 $(pidof webserver) æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ 1ps aux æ£€æŸ¥ç½‘ç»œè¿é€šä¿¡ 1ping 192.168.101.101 -c 100 æŸ¥çœ‹åŸŸåæ˜ å°„çš„æœåŠ¡å™¨ip 1nslookup github.com åˆ—å‡ºæ‰€æœ‰ç½‘ç»œç«¯å£å ç”¨æƒ…å†µ 1netstat -utlnp æ·»åŠ é»˜è®¤ç½‘å…³ 1route add default gw 192.168.101.1 æŸ¥çœ‹ç½‘å¡è®¾å¤‡ï¼ˆæ‰€æœ‰çš„åŒ…æ‹¬canã€ä»¥å¤ªç½‘ã€wlanï¼‰ 1ifconfig -a é˜²ç«å¢™è®¾ç½® 1234567sudo apt-get install ufw\t# å®‰è£…ufwé˜²ç«å¢™sudo ufw enable # å¼€å¯ufwé˜²ç«å¢™ufw status # æŸ¥çœ‹ufwè¿è¡ŒçŠ¶æ€ufw allow 12345 # å¢åŠ ufwç«¯å£12345ufw deny 12345 # ç¦ç”¨ufwç«¯å£12345ufw delete 12345 # åˆ é™¤ufwç«¯å£12345sudo ufw disable # å…³é—­ufwé˜²ç«å¢™ æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ· 12wwhoami æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ· 1tail /etc/passwd | awk -F: &#x27;&#123;print $1&#125;&#x27; æ˜¾ç¤ºç”¨æˆ·ç™»å½•çš„æ—¶é—´ã€ç¦»çº¿çš„æ—¶é—´ 1last -F æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·çš„ç™»å½•æƒ…å†µ 1lastlog æ›´æ–°sshå¯†é’¥ 1ssh-keygen -f &quot;/home/hywing/.ssh/known_hosts&quot; -R &quot;110.24.115.124&quot; è¿œç¨‹æ‹·è´ 1scp root@119.23.145.144:/root/demo.txt . é…ç½®ç½‘å¡ip 1ifconfig eth0 172.23.250.145 netmask 255.255.240.0 gw 172.23.255.253 ä¿®æ”¹ä»¥å¤ªç½‘MACåœ°å€ 123ifconfig enp0s31f6 downifconfig enp0s31f6 hw ether xx:xx:xx:xx:xx:xxifconfig enp0s31f6 up æŸ¥çœ‹ç½‘å¡æ˜¯å¦æœ‰æ”¶åˆ°æ¶ˆæ¯åŒ… 1tcpdump -i eth0 æŸ¥çœ‹è®¾å¤‡uuid 1blkid /dev/sda3 å†…å­˜ä½¿ç”¨æƒ…å†µ 1free -m æŸ¥çœ‹ç¡¬ç›˜åŠåˆ†åŒºä¿¡æ¯ 1df -lh æŸ¥çœ‹ç½‘ç»œè¿›å‡ºæµé‡æƒ…å†µ 1iftop ç³»ç»Ÿé…ç½®swap 1234dd if=/dev/zero of=/tmp/swapfile bs=1M count=4096mkswapswaponswapoff nfsæŒ‚è½½ 1sudo mount -t nfs 192.168.0.100:/home/hywing/nfs-share /mnt CPUå¹³å‡è´Ÿè½½ 1uptime å·¥å…·ä½¿ç”¨å£°æ˜ç¯å¢ƒå˜é‡ 1export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/Qt5.12.9/5.12.9/gcc_64/lib cmake 123apt install cmake # å®‰è£…cmakecmake --version # æŸ¥çœ‹ç‰ˆæœ¬å·cmake . ../ # åœ¨å½“å‰ç›®å½•ç”Ÿæˆbuildç›¸å…³æ–‡ä»¶ï¼ˆmakefile ...ï¼‰ gcc 123apt install gcc # å®‰è£…gccgcc -v # æŸ¥çœ‹gccç‰ˆæœ¬å·gcc main.c -o demo # ç¼–è¯‘æºæ–‡ä»¶å¹¶ç”ŸæˆæŒ‡å®šåå­—çš„å¯æ‰§è¡Œç¨‹åº gdb 123apt install gdb # å®‰è£…gdbgdb -v # æŸ¥çœ‹gdbç‰ˆæœ¬å·gdb dumpæ–‡ä»¶å # è°ƒè¯•dumpæ–‡ä»¶çš„crash makefile 12make # ç¼–è¯‘make -j8 # 8ä¸ªçº¿ç¨‹ä¸€èµ·ç¼–è¯‘ git 12apt install git # å®‰è£…gitgit --version vim 12apt install vim # å®‰è£…vimvim xxx # ç¼–è¾‘æ–‡æœ¬ï¼šEscè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œiè¿›å…¥æ’å…¥æ¨¡å¼ è®¾å¤‡ç®¡ç†canæ¥å£é€šä¿¡ 12345cansend can0 100#10203040 # å‘é€æŒ‡å®šæ ¼å¼çš„canå¸§candump can0 # æ‰“å°can0æ¥å£ä¸Šé¢çš„æ‰€æœ‰canå¸§ip link set can0 type can bitrate 500000\t# æ³¢ç‰¹ç‡é…ç½®ip link set can0 type can loopback on # å¼€å¯å›ç¯æ¨¡å¼ip link set up can0 # å¼€å¯can0è®¾å¤‡ ttyä¸²å£è®¾å¤‡æ“ä½œ 123456# é…ç½®æ³¢ç‰¹ç‡stty -F /dev/ttyLP2 115200 cs8 -parenb -cstopb raw -echo# æŸ¥çœ‹æ¥æ”¶æ•°æ®cat /dev/ttyLP2# å‘é€æ•°æ®åŒ…echo &quot;Hello RS485!\\\\r\\ &quot; &gt; /dev/ttyLP2 cpuå‹å·æŸ¥çœ‹ 1lscpu pciæ€»çº¿è®¾å¤‡ 12# æŸ¥çœ‹æŒ‚è½½çš„pcieè®¾å¤‡èŠ‚ç‚¹ï¼ˆvendorå’Œdeviceï¼‰lspci -n usbè®¾å¤‡ 1lsusb -tv i2cæ€»çº¿è®¾å¤‡ 1234# i2c0æŒ‚è½½çš„ä»è®¾å¤‡i2cdetect -y 0i2cgeti2cset æŸ¥çœ‹ç¡¬ç›˜ã€ç£ç›˜ç­‰å—è®¾å¤‡ 1lsblk é©±åŠ¨è°ƒè¯•æŸ¥çœ‹kernelæ—¥å¿— 1234dmesg # æŸ¥çœ‹å†…æ ¸æ—¥å¿—dmesg -c # æŸ¥çœ‹æ—¥å¿—å¹¶æ¸…ç†while true; dmesg -c; clear; sleep 1; done; # éš”1sæŸ¥çœ‹ä¸€æ¬¡tail -f /var/log/kern.log # æŸ¥çœ‹å†…æ ¸æ–°å¢çš„log é©±åŠ¨æ¨¡å— 1234insmod demo.ko\t# æ’å…¥é©±åŠ¨æ¨¡å—rmmod demo # åˆ é™¤é©±åŠ¨æ¨¡å—modprobe demo\t# å®‰è£…é©±åŠ¨ï¼Œä¼šä»kernel modulesçš„é»˜è®¤è·¯å¾„æŸ¥æ‰¾å®‰è£…lsmod # æŸ¥çœ‹kernelå·²ç»å®‰è£…äº†å“ªäº›é©±åŠ¨æ¨¡å— è½¯ä»¶ç®¡ç†ç³»ç»Ÿåˆæ¬¡å®‰è£…å®Œæ¯•æ—¶æœ‰å¿…è¦æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ 1sudo apt update å®‰è£…sshæœåŠ¡å™¨ 1sudo apt install openssh-server å®‰è£…ç½‘ç»œåˆ†æå·¥å…·åŒ… 1sudo apt install net-tools å®‰è£…è¿›ç¨‹ç›‘æ§å·¥å…· 1sudo apt install htop åˆ é™¤è½¯ä»¶åŒ… 1sudo apt remove --purge xxx æŸ¥çœ‹å®‰è£…äº†å“ªäº›debè½¯ä»¶åŒ… 1sudo dkpg -l | grep xxx æŸ¥çœ‹å®˜æ–¹æºæœ‰æ²¡æœ‰è½¯ä»¶åŒ… 1apt search xxx å®‰è£…å‡ºç°é”™è¯¯æ—¶ 1sudo apt install -f ç³»ç»Ÿè½¯ä»¶å‡çº§ 1sudo apt upgrade æ¸…é™¤è½¯ä»¶åŒ…å¸è½½çš„æ®‹ä½™æ–‡ä»¶ 1sudo apt clean","tags":["Linux"],"categories":["åµŒå…¥å¼","æ“ä½œç³»ç»Ÿ"]},{"title":"DSPå¼€å‘é‚£äº›äº‹","path":"//dsp-programming.html","content":"å¼€å‘ç¯å¢ƒDSPä½¿ç”¨Code Compose Studioï¼Œstm32ä½¿ç”¨MDK Keilæˆ–è€…stm32CubeIDE èŠ¯ç‰‡DSPä¸€èˆ¬æ˜¯32ä½çš„ï¼ˆæœ€å°å¯å¯»å€å†…å­˜å•å…ƒé€šå¸¸ä¸æ”¯æŒå•å­—èŠ‚ï¼ˆ8 ä½ charï¼‰è®¿é—®ï¼Œè€Œæ˜¯ä»¥ 16 ä½æˆ– 32 ä½ ä¸ºå•ä½æ“ä½œï¼Œæ•°æ®æ€»çº¿æ˜¯32ä½æˆ–è€…16ä½çš„ï¼‰ï¼ŒDSPå°¤å…¶æ“…é•¿æµ®ç‚¹æ•°çš„å¤„ç†ï¼›stm32æ˜¯32ä½çš„ï¼Œå®ƒæ”¯æŒçš„æ•°æ®ç±»å‹ä¹Ÿæ¯”è¾ƒå¹¿ï¼ˆæœ€å°å¯»å€æ”¯æŒ8ä½ï¼‰ é“¾æ¥æ–‡ä»¶CMDæ–‡ä»¶ç›¸å½“äºstm32é‡Œè¾¹çš„é“¾æ¥æ–‡ä»¶ï¼ˆ*.sctï¼‰ï¼Œè¿™ä¸ªæ–‡ä»¶å‘Šè¯‰ç¼–è¯‘å™¨ç¨‹åºæ€ä¹ˆé“¾æ¥ï¼Œä¸è¿‡DSPæ”¯æŒRAMçš„çƒ§å½•æ¨¡å¼ï¼Œstm32åªèƒ½çƒ§åˆ°FLASHé‡Œè¾¹ å¼€å‘åº“è·Ÿstm32å¾ˆåƒï¼Œä¹Ÿæœ‰å¯„å­˜å™¨å’Œåº“å‡½æ•°ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶ä¸­æ‰€æœ‰å¤–è®¾çš„å¯„å­˜å™¨å¯¹è±¡ä¼šæ”¾åœ¨xxx_globalvariabledefs.cé‡Œè¾¹ï¼Œå¦‚ï¼šf2837xS_globalvariabledefs.cã€F28M35x_GlobalVariableDefs.cï¼›åº“å‡½æ•°æ¥å£åˆ™æ”¾åœ¨driverlibé‡Œè¾¹ å¯è§†åŒ–ç¼–ç¨‹DSPä½¿ç”¨sysconfigå·¥å…·ï¼Œç›¸å½“äºstm32CubeMXï¼Œå¯ä»¥ä½¿ç”¨å›¾å½¢åŒ–çš„æ–¹å¼é…ç½®å¤–è®¾åŠŸèƒ½ è°ƒè¯•DSPä½¿ç”¨XDS xxx &#x2F; JTAGè°ƒè¯•å·¥å…·ï¼ŒDSPçš„è°ƒè¯•å™¨å¤§éƒ¨åˆ†éƒ½æ”¯æŒä¸¤ä¸ªSerial Portï¼ˆè™šæ‹Ÿä¸€ä¸ªä¸²å£ï¼Œä¸€ä¸ªè°ƒè¯•ä¸€ä¸ªç”¨ä½œä¸²å£é€šä¿¡ï¼‰ï¼›è€Œstm32ä½¿ç”¨ST-Linkæˆ–è€…JTAG å¤šæ ¸DSPæ”¯æŒå¤šæ ¸ç¼–ç¨‹ï¼Œæ¯ä¸ªæ ¸å¿ƒå¯ä»¥å¹¶è¡Œè·‘ä¸ä¸€æ ·çš„ç¨‹åºï¼Œå¦‚TMS320F28377S çš„åŒæ ¸ï¼ˆCPU1 å’Œ CPU2ï¼‰å¯ä»¥ç‹¬ç«‹è¿è¡Œä¸åŒçš„ç¨‹åºï¼Œè€Œstm32ä¸æ”¯æŒå¤šæ ¸ç¼–ç¨‹","tags":["DSP"],"categories":["åµŒå…¥å¼"]},{"title":"Windowsåˆ¶ä½œexeå®‰è£…åŒ…","path":"//windows-exe-packing-tutorial.html","content":"å®‰è£…è®¿é—®Inno Setupå®˜ç½‘ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬innosetup-6.2.2.exeï¼Œä¸‹è½½å®ŒæˆååŒå‡»å®‰è£…ï¼Œæ ¹æ®è‹±æ–‡æç¤ºå®Œæˆç›¸åº”çš„é…ç½®ï¼Œå¦‚å›¾â‘ ã€â‘¡ã€â‘¢ã€â‘£ã€â‘¤ã€â‘¥ï¼Œå®‰è£…å®Œæˆåæ‰“å¼€ åˆ›å»ºè„šæœ¬åœ¨æ‰“å¼€çš„Welcomeçª—å£ï¼Œé€‰æ‹©Create a new script file using Script Wizardï¼Œç„¶åç‚¹å‡»OK æŒ‰ç…§æç¤ºå®Œæˆä¸€æ­¥ä¸€æ­¥å®Œæˆè„šæœ¬å‚æ•°é…ç½®ï¼Œå¦‚ä¸‹å›¾â‘ ã€â‘¡ â€¦â€¦ â‘¬ ã€â‘­ æŒ‰å¿«æ·é”®ï¼ˆCtrl + F9ï¼‰æˆ–è€…ç‚¹å‡»å·¥å…·æ ä»å·¦åˆ°å³ç¬¬å››ä¸ªå›¾æ ‡ï¼Œç¼–è¯‘è„šæœ¬ï¼Œç”Ÿæˆexeå®‰è£…åŒ… æœ€ç»ˆç”Ÿæˆexeæ–‡ä»¶ï¼Œè¿™ä¸ªå®‰è£…åŒ…ä¼šå¸¦æœ‰å‘å¯¼è„šæœ¬é‡Œè¾¹å¡«å†™çš„ä¿¡æ¯ï¼Œå¦‚ç‰ˆæœ¬å·ã€å…¬å¸ã€æ–‡ä»¶è¯´æ˜ç­‰ è„šæœ¬è§£ææœ‰äº†è„šæœ¬ä»¥åç›´æ¥ä¿®æ”¹è„šæœ¬å°±å¯ä»¥äº†ï¼ˆæŒ‰éœ€ä¿®æ”¹ï¼‰ï¼Œä¸ç”¨æ¯æ¬¡éƒ½è¦å¡«å†™å‘å¯¼è„šæœ¬çš„æµç¨‹ï¼Œè¿™é‡Œä»‹ç»è„šæœ¬ä¸€äº›å…³é”®çš„å˜é‡å’Œå‚æ•° å®å®šä¹‰ä»¥ä¸‹å®å®šä¹‰ç”¨äºå®šä¹‰ç¨‹åºåã€è½¯ä»¶ç‰ˆæœ¬ã€å‘å¸ƒè€…ã€å‘å¸ƒè€…ç½‘ç«™ä¿¡æ¯ã€å…³è”çš„æ–‡ä»¶æ ¼å¼ç­‰ 12345678#define MyAppName &quot;Example&quot;#define MyAppVersion &quot;1.0.0&quot;#define MyAppPublisher &quot;iotstuff&quot;#define MyAppURL &quot;https://iotstuff.cn&quot;#define MyAppExeName &quot;Example.exe&quot;#define MyAppAssocName MyAppName + &quot; File&quot;#define MyAppAssocExt &quot;.myp&quot;#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;) + MyAppAssocExt Setupsetupç”¨äºå®šä¹‰ä¸€äº›åŸºæœ¬çš„è½¯ä»¶åŒ…ä¿¡æ¯ 12345678910111213141516AppId=&#123;&#123;75FF5697-7D83-46D7-824A-F4259ADE4FC3&#125;AppName=&#123;#MyAppName&#125;AppVersion=&#123;#MyAppVersion&#125;AppPublisher=&#123;#MyAppPublisher&#125;AppPublisherURL=&#123;#MyAppURL&#125;AppSupportURL=&#123;#MyAppURL&#125;AppUpdatesURL=&#123;#MyAppURL&#125;DefaultDirName=&#123;autopf&#125;\\&#123;#MyAppName&#125;ChangesAssociations=yesDisableProgramGroupPage=yesOutputDir=E:\\OutputBaseFilename=ExampleSetupIconFile=E:\\logo.icoCompression=lzmaSolidCompression=yesWizardStyle=modern Languagessetupç¨‹åºçš„é»˜è®¤è¯­è¨€è®¾ç½® 1Name: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot; Tasksç¼–è¯‘ä»»åŠ¡ç›¸å…³å‚æ•°å®šä¹‰ 1Name: &quot;desktopicon&quot;; Description: &quot;&#123;cm:CreateDesktopIcon&#125;&quot;; GroupDescription: &quot;&#123;cm:AdditionalIcons&#125;&quot;; Flags: unchecked Filesè¾“å‡ºçš„exeå‹ç¼©åŒ…è·¯å¾„å®šä¹‰ 12Source: &quot;E:\\build\\&#123;#MyAppExeName&#125;&quot;; DestDir: &quot;&#123;app&#125;&quot;; Flags: ignoreversionSource: &quot;E:\\build\\*&quot;; DestDir: &quot;&#123;app&#125;&quot;; Flags: ignoreversion recursesubdirs createallsubdirs Registryæ³¨å†Œè¡¨ç›¸å…³ä¿¡æ¯ï¼Œä¿å­˜ä¸€äº›éœ€è¦æŒä¹…åŒ–çš„è½¯ä»¶åŒ…ä¿¡æ¯ 12345Root: HKA; Subkey: &quot;Software\\Classes\\&#123;#MyAppAssocExt&#125;\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;&#123;#MyAppAssocKey&#125;&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalueRoot: HKA; Subkey: &quot;Software\\Classes\\&#123;#MyAppAssocKey&#125;&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&#123;#MyAppAssocName&#125;&quot;; Flags: uninsdeletekeyRoot: HKA; Subkey: &quot;Software\\Classes\\&#123;#MyAppAssocKey&#125;\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&#123;app&#125;\\&#123;#MyAppExeName&#125;,0&quot;Root: HKA; Subkey: &quot;Software\\Classes\\&#123;#MyAppAssocKey&#125;\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;&#123;app&#125;\\&#123;#MyAppExeName&#125;&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;Root: HKA; Subkey: &quot;Software\\Classes\\Applications\\&#123;#MyAppExeName&#125;\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot; Iconsç¨‹åºlogoè‡ªå®šä¹‰ 12Name: &quot;&#123;autoprograms&#125;\\&#123;#MyAppName&#125;&quot;; Filename: &quot;&#123;app&#125;\\&#123;#MyAppExeName&#125;&quot;Name: &quot;&#123;autodesktop&#125;\\&#123;#MyAppName&#125;&quot;; Filename: &quot;&#123;app&#125;\\&#123;#MyAppExeName&#125;&quot;; Tasks: desktopicon Runå¯æ‰§è¡Œç¨‹åºè·¯å¾„å®šä¹‰ 1Filename: &quot;&#123;app&#125;\\&#123;#MyAppExeName&#125;&quot;; Description: &quot;&#123;cm:LaunchProgram,&#123;#StringChange(MyAppName, &#x27;&amp;&#x27;, &#x27;&amp;&amp;&#x27;)&#125;&#125;&quot;; Flags: nowait postinstall skipifsilent","tags":["Windows","exe","Inno Setup"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Cè¯­è¨€é«˜çº§ç”¨æ³•ï¼šå¯å˜å‚æ•°å‡½æ•°æ¥å£","path":"//c-variadic-template-interface.html","content":"éœ€æ±‚ä½¿ç”¨Cè¯­è¨€å‘é€ä»»æ„ä¸ªé€šé“çš„æ³¢å½¢æ•°æ®ï¼Œè¦æ±‚ï¼šæ¥å£å›ºå®šï¼Œä½†å‚æ•°ä¸ªæ•°ä¸å›ºå®šï¼ŒDSPçš„å¼€å‘ç¯å¢ƒåªèƒ½ç”¨Cè¯­è¨€ å®ç°stdargæ˜¯Cè¯­è¨€æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬é€šè¿‡å®ƒæ¥å®ç°ç±»ä¼¼C++çš„å‡½æ•°æ¨¡æ¿ 1#include &lt;stdarg.h&gt; æ¯”å¦‚ç»™ä¸Šä½æœºå‘é€æ•°æ®ï¼Œä¸€ä¸ªé€šé“ä¸ºä¸€ä¸ªfloatï¼Œå¯å˜å‚æ•°numä»£è¡¨å¯ä»¥å‘nä¸ªé€šé“çš„æ³¢å½¢æ•°æ® 12345678910111213141516171819202122232425262728293031323334// å‘é€å¯å˜å‚æ•°floatå¸§ï¼ˆJustFloatæ ¼å¼ï¼Œæ— å¸§å¤´å¸§å°¾ï¼‰void SCIA_sendFrame_JustFloat(int num, ...)&#123; while(isTransmitting) &#123; &#125; txBufferIndex = 0; txDataCount = 0; va_list args; va_start(args, num); int i; for(i = 0; i &lt; num; i++) &#123; float value = (float)va_arg(args, double); FloatUnion data; data.DataFloat = value; txBuffer[txDataCount++] = (uint8_t)(data.DataUint16[0] &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)((data.DataUint16[0] &gt;&gt; 8) &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)(data.DataUint16[1] &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)((data.DataUint16[1] &gt;&gt; 8) &amp; 0xFF); &#125; va_end(args); // æ·»åŠ JustFloatå¸§å°¾ï¼ˆåŸæ¥ç”¨è¿‡çš„: 0x00 0x00 0x80 0x7Fï¼‰ txBuffer[txDataCount++] = 0x00; txBuffer[txDataCount++] = 0x00; txBuffer[txDataCount++] = 0x80; txBuffer[txDataCount++] = 0x7F; isTransmitting = true; txBufferIndex = 0; SCI_enableInterrupt(SCIA_BASE, SCI_INT_TXFF);&#125; va_argçš„åŸºç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œä½†æ˜¯å¿…é¡»è¦å’Œè½¬æ¢åçš„ç±»å‹å…¼å®¹ã€åŒ¹é…ï¼Œæ¯”å¦‚double â¡ floatï¼Œå¦åˆ™ç»“æœæœªçŸ¥ 1float value = (float)va_arg(args, double); å®šä¹‰å¯å˜å‚æ•°ï¼Œè·å–å¯å˜å‚æ•°ä¸ªæ•°ï¼ˆè¿™ä¸ªæ˜¯åœ¨è¿è¡Œæ—¶é˜¶æ®µè·å–çš„ï¼Œè·ŸC++çš„æ¨¡æ¿å‡½æ•°ä¸ä¸€æ ·ï¼‰ 123456va_list args;va_start(args, num);......va_end(args); å‚æ•°çš„è®¿é—®å’Œä½¿ç”¨ï¼šä»0-numéå†å¯å˜å‚æ•°åˆ—è¡¨ï¼Œfloatåœ¨å¯å˜å‚æ•°ä¸­æå‡ä¸ºdoubleï¼Œéå†åŠ¨ä½œè¦åœ¨va_startå’Œva_endä¹‹å†…ï¼Œva_argæ˜¯ä¸€ä¸ªå‡ºæ ˆåŠ¨ä½œï¼Œå¹¶ä¸æ˜¯åŸºäºç´¢å¼•çš„ 1234567891011121314va_start(args, num);int i;for(i = 0; i &lt; num; i++)&#123; float value = (float)va_arg(args, double); FloatUnion data; data.DataFloat = value; txBuffer[txDataCount++] = (uint8_t)(data.DataUint16[0] &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)((data.DataUint16[0] &gt;&gt; 8) &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)(data.DataUint16[1] &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)((data.DataUint16[1] &gt;&gt; 8) &amp; 0xFF);&#125;va_end(args); æ€»ç»“ å¯å˜å‚æ•°åˆ—è¡¨æ˜¯ä¸€ä¸ªæ•°æ®æ ˆï¼ŒCè¯­è¨€å‡½æ•°è¿è¡Œè°ƒç”¨æ—¶ï¼Œå‚æ•°ä»å³åˆ°å·¦å‹æ ˆï¼Œå–å‚æ•°æ˜¯ä»å·¦åˆ°å³å‡ºæ ˆï¼Œè·Ÿå‡½æ•°å‚æ•°è°ƒç”¨çš„é¡ºåºä¿æŒä¸€è‡´ C++çš„å‡½æ•°æ¨¡æ¿æ˜¯ç¼–è¯‘æ—¶ç¡®å®šçš„ï¼Œé€šå¸¸ä¼šç”Ÿæˆå¤šä»½ä»£ç å®ä¾‹ï¼Œä½†Cè¯­è¨€çš„å¯å˜å‚æ•°æ¨¡æ¿åªæœ‰ä¸€ä»½å®ä¾‹ Cè¯­è¨€å¯ä»¥é€šè¿‡å®æ¥å®ç°C++é‚£æ ·çš„æ¨¡æ¿ å¯ä»¥ä½¿ç”¨va_list *ä¼ é€’å‡½æ•°å‚æ•°ï¼Œä½†å¿…é¡»æ˜¯åŒæ­¥è°ƒç”¨","tags":["C","å‡½æ•°"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Linuxä¸‹è°ƒè¯•å’Œä½¿ç”¨Camera","path":"//linux-camera.html","content":"ä»‹ç»æ‘„åƒå¤´æ˜¯ä¸€æ¬¾å¾ˆé‡è¦çš„ä¼ æ„Ÿå™¨ï¼Œå®ƒç›¸å½“äºè®¡ç®—æœºçš„çœ¼ç›ï¼Œæ—¥å¸¸å¼€å‘ä¸­ä¹Ÿå¾ˆå¸¸è§ï¼Œåœ¨å·¥ä¸šæ§åˆ¶ã€æ±½è½¦ç”µå­ã€ç‰©è”ç½‘ç­‰é¢†åŸŸæ‰®æ¼”ç€ååˆ†é‡è¦çš„è§’è‰²ï¼Œå¯ä»¥ç”¨æ¥æ‹ç…§ã€è§†é¢‘é‡‡é›†ã€ç›‘æ§ã€è§†è§‰è¯†åˆ«ã€æµ‹è·ã€SLAMå»ºå›¾â€¦â€¦ æµç¨‹Linuxä¸‹é€‚é…æ‘„åƒå¤´çš„æ­¥éª¤ graph TD A[å¼€å§‹] --&gt; B[æŸ¥çœ‹æ‘„åƒå¤´å‚æ•°] B --&gt; C&#123;æ‘„åƒå¤´æ˜¯å¦åœ¨ä½?&#125; C --&gt;|æ˜¯| D[æ ¹æ®ç¼–ç æ ¼å¼å’Œå¸§ç‡åˆå§‹åŒ–] C --&gt;|å¦| Z[ç»“æŸ] D --&gt; E[ç”³è¯·è§†é¢‘æµç¼“å†²] E --&gt; F[å¼€å§‹é‡‡é›†è§†é¢‘æµ] F --&gt; G[å¸§å¤„ç†] G --&gt; H[è§†é¢‘æµè½¬å°è£…æ ¼å¼] H --&gt; I[å®šæ—¶å™¨ç©ºåˆ·æ–°å›¾åƒ] I --&gt; J&#123;ç»§ç»­é‡‡é›†?&#125; J --&gt;|æ˜¯| F J --&gt;|å¦| Z å·¥å…·å®‰è£…v4l-utilsï¼Œä»¥Ubuntu20.04ä¸ºä¾‹ï¼Œarm linuxéœ€è¦äº¤å‰ç¼–è¯‘v4l-utilsæºç  1sudo apt install v4l-utils è°ƒè¯•æŸ¥çœ‹æ‘„åƒå¤´è®¾å¤‡èŠ‚ç‚¹ 12dmesg | grep videols /dev/video* ç”¨v4l2å‘½ä»¤æŸ¥çœ‹æ‘„åƒå¤´èŠ‚ç‚¹ 1v4l2-ctl --list-devices æŸ¥çœ‹è®¾å¤‡èŠ‚ç‚¹æ”¯æŒçš„è§†é¢‘æµç¼–ç æ ¼å¼ 1v4l2-ctl --device=/dev/video0 --list-formats å¯ä»¥çœ‹åˆ°video0æ”¯æŒMJPGå’ŒYUYVä¸¤ç§è§†é¢‘æµæ ¼å¼ 1v4l2-ctl --device=/dev/video0 --list-formats-ext è¿™æ¡å‘½ä»¤è¯¦ç»†åˆ—ä¸¾äº†æ‘„åƒå¤´åœ¨ä¸åŒæ ¼å¼å’Œåˆ†è¾¨ç‡ä¸‹å¯¹åº”çš„å¸§ç‡æƒ…å†µ åµŒå…¥å¼å¹³å°ï¼Œå¦‚rk3588ä¸ŠæŸ¥çœ‹é«˜æ¸…æ‘„åƒå¤´æ”¯æŒæƒ…å†µ ç¡®å®šè®¾å¤‡èŠ‚ç‚¹æ”¯æŒçš„åƒç´ æ ¼å¼ 1v4l2-ctl -d /dev/video12 --get-fmt-video ä½¿ç”¨åˆå§‹åŒ–ä»¥MJPEGæ ¼å¼ä¸ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940bool CameraCapture::initDevice()&#123; fd = open(deviceName.toLocal8Bit().constData(), O_RDWR | O_NONBLOCK, 0); if (fd == -1) &#123; qWarning() &lt;&lt; &quot;Cannot open&quot; &lt;&lt; deviceName; return false; &#125; // Check capabilities struct v4l2_capability cap; if (ioctl(fd, VIDIOC_QUERYCAP, &amp;cap) == -1) &#123; qWarning() &lt;&lt; &quot;Failed to query capabilities&quot;; return false; &#125; if (!(cap.capabilities &amp; V4L2_CAP_VIDEO_CAPTURE)) &#123; qWarning() &lt;&lt; &quot;Device does not support video capture&quot;; return false; &#125; if (!(cap.capabilities &amp; V4L2_CAP_STREAMING)) &#123; qWarning() &lt;&lt; &quot;Device does not support streaming&quot;; return false; &#125; // Set format struct v4l2_format fmt = &#123;&#125;; fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE; fmt.fmt.pix.width = 1280; fmt.fmt.pix.height = 720; fmt.fmt.pix.pixelformat = V4L2_PIX_FMT_MJPEG; fmt.fmt.pix.field = V4L2_FIELD_NONE; if (ioctl(fd, VIDIOC_S_FMT, &amp;fmt) == -1) &#123; qWarning() &lt;&lt; &quot;Failed to set format&quot;; return false; &#125; return true;&#125; ç”³è¯·ç¼“å­˜å‘å†…æ ¸æ€ç”³è¯·ç¼“å†²é˜Ÿåˆ—ï¼Œç”¨äºç¼“å­˜v4l2æ•°æ® 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950bool CameraCapture::initMMap()&#123; struct v4l2_requestbuffers req = &#123;&#125;; req.count = 4; req.type = V4L2_BUF_TYPE_VIDEO_CAPTURE; req.memory = V4L2_MEMORY_MMAP; if (ioctl(fd, VIDIOC_REQBUFS, &amp;req) == -1) &#123; qWarning() &lt;&lt; &quot;Failed to request buffers&quot;; return false; &#125; if (req.count &lt; 2) &#123; qWarning() &lt;&lt; &quot;Insufficient buffer memory&quot;; return false; &#125; buffers = new buffer[req.count]; nBuffers = req.count; for (unsigned int i = 0; i &lt; req.count; ++i) &#123; struct v4l2_buffer buf = &#123;&#125;; buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE; buf.memory = V4L2_MEMORY_MMAP; buf.index = i; if (ioctl(fd, VIDIOC_QUERYBUF, &amp;buf) == -1) &#123; qWarning() &lt;&lt; &quot;Failed to query buffer&quot;; return false; &#125; buffers[i].length = buf.length; buffers[i].start = mmap(NULL, buf.length, PROT_READ | PROT_WRITE, MAP_SHARED, fd, buf.m.offset); if (buffers[i].start == MAP_FAILED) &#123; qWarning() &lt;&lt; &quot;Failed to map buffer&quot;; return false; &#125; // Queue the buffer if (ioctl(fd, VIDIOC_QBUF, &amp;buf) == -1) &#123; qWarning() &lt;&lt; &quot;Failed to queue buffer&quot;; return false; &#125; &#125; return true;&#125; é‡‡é›†æŒ‡ä»¤å†…æ ¸å¼€å§‹é‡‡é›†ç¼“å­˜v4l2è§†é¢‘æµæ•°æ® 1234567// Start capturingenum v4l2_buf_type type = V4L2_BUF_TYPE_VIDEO_CAPTURE;if (ioctl(fd, VIDIOC_STREAMON, &amp;type) == -1) &#123; emit error(&quot;Failed to start streaming&quot;); uninitDevice(); return false;&#125; æ•°æ®å¸§å¤„ç†æ‹¿åˆ°å†…æ ¸æ€mmapæ•°æ® 123456789101112131415161718192021222324252627282930313233343536373839void CameraCapture::captureFrame()&#123; fd_set fds; FD_ZERO(&amp;fds); FD_SET(fd, &amp;fds); struct timeval tv = &#123;&#125;; tv.tv_sec = 2; tv.tv_usec = 0; int r = select(fd + 1, &amp;fds, nullptr, nullptr, &amp;tv); if (r == -1) &#123; emit errorOccurred(&quot;selecté”™è¯¯&quot;); &#125; else if (r == 0) &#123; emit errorOccurred(&quot;é‡‡é›†è¶…æ—¶&quot;); &#125; struct v4l2_buffer buf = &#123;&#125;; buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE; buf.memory = V4L2_MEMORY_MMAP; if (ioctl(fd, VIDIOC_DQBUF, &amp;buf) == -1) &#123; emit errorOccurred(&quot;è·å–å¸§å¤±è´¥&quot;); &#125; QByteArray frameData(static_cast&lt;char*&gt;(buffers[buf.index].start), buf.bytesused); // é‡æ–°å°†ç¼“å†²åŒºæ”¾å…¥é˜Ÿåˆ— if (ioctl(fd, VIDIOC_QBUF, &amp;buf) == -1) &#123; emit errorOccurred(&quot;ç¼“å†²åŒºé‡æ–°å…¥é˜Ÿå¤±è´¥&quot;); &#125; if (!frameData.isEmpty()) &#123; QImage image = decoder-&gt;decode(frameData); if (!image.isNull()) &#123; emit newFrame(image); &#125; &#125;&#125; MJPEGè½¬æ¢MJPEGæ•°æ®è½¬å¯è§†åŒ–å›¾åƒ 123456789101112131415161718192021222324252627282930313233343536QImage MJpegDecoder::decode(const QByteArray &amp;mjpegData) &#123; struct jpeg_decompress_struct cinfo; struct jpeg_error_mgr jerr; cinfo.err = jpeg_std_error(&amp;jerr); jpeg_create_decompress(&amp;cinfo); jpeg_mem_src(&amp;cinfo, reinterpret_cast&lt;const unsigned char*&gt;(mjpegData.constData()), mjpegData.size()); if (jpeg_read_header(&amp;cinfo, TRUE) != JPEG_HEADER_OK) &#123; emit errorOccurred(&quot;JPEGå¤´è§£æå¤±è´¥&quot;); jpeg_destroy_decompress(&amp;cinfo); return QImage(); &#125; if (jpeg_start_decompress(&amp;cinfo) != TRUE) &#123; emit errorOccurred(&quot;JPEGè§£ç å¯åŠ¨å¤±è´¥&quot;); jpeg_destroy_decompress(&amp;cinfo); return QImage(); &#125; QImage image(cinfo.output_width, cinfo.output_height, QImage::Format_RGB888); JSAMPARRAY buffer = (*cinfo.mem-&gt;alloc_sarray)((j_common_ptr)&amp;cinfo, JPOOL_IMAGE, cinfo.output_width * cinfo.output_components, 1); while (cinfo.output_scanline &lt; cinfo.output_height) &#123; jpeg_read_scanlines(&amp;cinfo, buffer, 1); uchar *dest = image.scanLine(cinfo.output_scanline - 1); memcpy(dest, buffer[0], cinfo.output_width * cinfo.output_components); &#125; jpeg_finish_decompress(&amp;cinfo); jpeg_destroy_decompress(&amp;cinfo); return image;&#125; åœ¨ä½ä¿¡å·åˆ¤æ–­videoèŠ‚ç‚¹æ˜¯å¦å…·å¤‡é‡‡é›†è§†é¢‘ä¿¡å·çš„èƒ½åŠ›ï¼ˆè¿™ä¸ªå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½éœ€è¦ï¼Œå°¤å…¶æ˜¯æ±½è½¦ç”µå­ï¼Œå¼€æœºè‡ªæ£€ç¡¬ä»¶è®¾å¤‡æ˜¯å¦æ­£å¸¸ï¼‰ 12345678910111213141516171819202122232425int CameraCapture::is_video_capture_device(const char *device_path) &#123; int fd = open(device_path, O_RDWR); if (fd == -1) &#123; perror(&quot;Failed to open device&quot;); return 0; &#125; struct v4l2_capability cap = &#123;0&#125;; if (ioctl(fd, VIDIOC_QUERYCAP, &amp;cap) == -1) &#123; perror(&quot;Failed to query capabilities&quot;); close(fd); return 0; &#125; close(fd); // æ£€æŸ¥æ˜¯å¦æ”¯æŒè§†é¢‘æ•è· if (cap.capabilities &amp; V4L2_CAP_VIDEO_CAPTURE_MPLANE) &#123; printf(&quot;%s æ˜¯ä¸€ä¸ªè§†é¢‘æ•è·è®¾å¤‡ï¼ˆå¦‚æ‘„åƒå¤´ï¼‰ &quot;, device_path); return 1; &#125; else &#123; printf(&quot;%s ä¸æ˜¯è§†é¢‘æ•è·è®¾å¤‡ &quot;, device_path); return 0; &#125;&#125; å›¾åƒæ˜¾ç¤ºå›¾åƒæ˜¾ç¤ºå¯ä»¥ç”¨QLabelç›´æ¥æ˜¾ç¤ºæˆ–è€…é€šè¿‡QPainterè‡ªç»˜ï¼Œè¿™é‡Œä¸å†è¯¦ç»†å±•å¼€ 12345void MainWindow::updateFrame(const QImage &amp;frame)&#123; imageLabel-&gt;setPixmap(QPixmap::fromImage(frame).scaled( imageLabel-&gt;width(), imageLabel-&gt;height(), Qt::KeepAspectRatio));&#125; å¸§ç‡æ§åˆ¶ä»ä¸Šé¢çš„MJPGçš„å¸§ç‡ï¼š30fpsï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®šæ—¶å™¨å»è½®è¯¢æ‘„åƒå¤´bufferæ•°æ® 12captureTimer-&gt;start(33); connect(captureTimer, &amp;QTimer::timeout, this, &amp;CameraCapture::captureFrame); å¼€æºå·¥ç¨‹https://github.com/hywing/v4l2-camera","tags":["Linux","Camera"],"categories":["åµŒå…¥å¼"]},{"title":"ARM Linuxè®¾å¤‡æ ‘è¯¦è§£","path":"//linux-devicetree.html","content":"å‰è¨€æ›¾ç»æœ‰å¤§ç¥è·Ÿæˆ‘è¯´Linuxé©±åŠ¨çš„æœ¬è´¨æ˜¯è¯»å†™å¯„å­˜å™¨ï¼Œæˆ‘ä¸ä»¥ä¸ºç„¶ï¼Œç›´åˆ°åæ¥æˆ‘è®¤çœŸç†è§£äº†Linuxçš„è®¾å¤‡æ ‘æœºåˆ¶ â€¦â€¦ èŠ‚ç‚¹æ ¹èŠ‚ç‚¹çš„å®šä¹‰ï¼Œä»¥/å¼€å¤´ï¼Œå®ƒå¯ä»¥è·¨å¤šä¸ªæ–‡ä»¶å®šä¹‰ 123/ &#123; ......&#125; SOCä¿¡æ¯æè¿°ï¼Œä»¥RK3399 SOCä¸ºä¾‹ 12model = &quot;Rockchip RK3399 Excavator Board (Linux Opensource)&quot;;compatible = &quot;rockchip,rk3399-excavator-v10-linux&quot;, &quot;rockchip,rk3399&quot;; æ™®é€šçš„èŠ‚ç‚¹å®šä¹‰ï¼Œä¸å¸¦æ ‡ç­¾æ„å‘³ç€å®ƒä¸éœ€è¦åœ¨åˆ«å¤„å¼•ç”¨ 123gpio-keys &#123; ......&#125;; å¸¦æ ‡ç­¾æ˜¯ä¸ºäº†åœ¨åˆ«å¤„èƒ½å¤Ÿè®¿é—®ï¼Œæ ¼å¼ï¼šæ ‡ç­¾å: èŠ‚ç‚¹åï¼Œåé¢è·Ÿä¸€ä¸ªæ‹¬å·{ â€¦ }ï¼› 1234/* æ ‡ç­¾å: èŠ‚ç‚¹å */gpio_keys: gpio-keys &#123; ......&#125;; é€šå¸¸ä½¿ç”¨&amp;æ ‡ç­¾åæ¥å¼•ç”¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¼•ç”¨ä¸€ä¸ªèŠ‚ç‚¹æ„å‘³ç€è¿½åŠ ã€è¡¥å……è¿™ä¸ªèŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯ 1234/* è¿½åŠ ã€è¡¥å……è¿™ä¸ªèŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯ */&amp;gpio_keys &#123; ......&#125;; åŒ¹é…ä¿¡æ¯ï¼Œç”¨compatibleè¡¨ç¤ºï¼Œè¿™ä¸ªç›¸å½“äºèŠ‚ç‚¹çš„èº«ä»½ä¿¡æ¯ 1compatible = &quot;gpio-keys&quot;; å¯„å­˜å™¨å¯„å­˜å™¨å®šä¹‰æ ¼å¼ï¼š&lt;é«˜32ä½åœ°å€ ä½32ä½åœ°å€ é«˜32ä½é•¿åº¦ ä½32ä½é•¿åº¦&gt;ï¼Œç”±äºRK3399æ˜¯64ä½å¤„ç†å™¨çš„ç¼˜æ•…ï¼Œaddress-cellsä¸º1ä»£è¡¨4ä¸ªå­—èŠ‚ 1234567i2c0: i2c@ff3c0000 &#123; compatible = &quot;rockchip,rk3399-i2c&quot;; reg = &lt;0x0 0xff3c0000 0x0 0x1000&gt;; #address-cells = &lt;1&gt;; #size-cells = &lt;0&gt;; status = &quot;disabled&quot;;&#125;; æ—¶é’Ÿæºä¸€èˆ¬å¯é€‰å¤šä¸ªæ—¶é’Ÿæºï¼Œçœ‹å¤–è®¾çš„éœ€è¦ï¼Œi2céœ€è¦2ä¸ªæ—¶é’Ÿæºï¼šä¸€ä¸ªç»™SCLï¼Œä¸€ä¸ªæä¾›å¯„å­˜å™¨è®¿é—®ï¼Œæ—¶é’Ÿæºä¿¡æ¯ä¸€èˆ¬åœ¨./include/dt-bindings/clock/rk3399-cru.hé‡Œè¾¹ç»™å‡ºï¼Œclockså’Œclock-namesæ˜¯æŒ‰é¡ºåºåŒ¹é…çš„ 12clocks = &lt;&amp;pmucru SCLK_I2C0_PMU&gt;, &lt;&amp;pmucru PCLK_I2C0_PMU&gt;;clock-names = &quot;i2c&quot;, &quot;pclk&quot;; ä¸­æ–­ä¸­æ–­é…ç½®å­˜åœ¨å¤´æ–‡ä»¶å½“ä¸­ï¼šinclude&#x2F;dt-bindings&#x2F;interrupt-controller&#x2F;arm-gic.hå’Œinclude&#x2F;dt-bindings&#x2F;interrupt-controller&#x2F;irq.h 1interrupts = &lt;GIC_SPI 57 IRQ_TYPE_LEVEL_HIGH 0&gt;; GPIORK3399 GPIO0è¡¨ç¤ºç¬¬0ä¸ªbankçš„GPIOï¼Œç¬¬0ä¸ªbankçš„GPIOç´¢å¼•ï¼š0-31ï¼Œåˆ†ä¸ºAã€Bã€Cã€Då››ç»„ï¼Œä»¥ä¸‹å¯¹åº”çš„æ˜¯GPIO0_B4ç®¡è„šï¼šBä»£è¡¨1ï¼Œ1x8+4&#x3D;12 1gpios = &lt;&amp;gpio0 12 GPIO_ACTIVE_LOW&gt;; ä»¥ä¸‹å¯¹åº”çš„æ˜¯GPIO4_C6ç®¡è„šï¼šCä»£è¡¨2ï¼Œ2x8+6&#x3D;22 1gpios = &lt;&amp;gpio4 22 GPIO_ACTIVE_HIGH&gt;; å¼•è„šå¼•è„šå¤ç”¨ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå¼•è„šå®ƒå¯èƒ½æ˜¯GPIOï¼Œä¹Ÿå¯ä»¥æ˜¯USART_RXDï¼Œæˆ–è€…æ˜¯I2C_SCLï¼‰ 12pinctrl-names = &quot;default&quot;;pinctrl-0 = &lt;&amp;i2c0_xfer&gt;; è¡¥å……å®šä¹‰pinctrl 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&amp;pinctrl &#123; sdmmc-pwrseq &#123; sdcard_enable_h: sdcard-enable-h &#123; rockchip,pins = &lt;1 20 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;; &#125;; &#125;; /* add by cym 20190508 */ lsm330_a &#123; lsm330a_irq_gpio: lsm330a-irq-gpio &#123; rockchip,pins = &lt;1 22 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;; &#125;; &#125;; lsm330_g &#123; lsm330g_irq_gpio: lsm330g-irq-gpio &#123; rockchip,pins = &lt;1 24 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;; &#125;; &#125;; ak8963 &#123; ak8963_irq_gpio: ak8963-irq-gpio &#123; rockchip,pins = &lt;1 0 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;; &#125;; &#125;; cm3218 &#123; cm3218_irq_gpio: cm3218-irq-gpio &#123; rockchip,pins = &lt;4 24 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;; &#125;; &#125;; leds &#123; led1_ctl: led1-ctl &#123; rockchip,pins = &lt;0 12 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;; &#125;; &#125;; buzzer &#123; beep_gpio: beep-gpio &#123; rockchip,pins = &lt;4 22 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;; &#125;; &#125;; gt911 &#123; gt911_gpio: gt911-gpio &#123; rockchip,pins = &lt;1 9 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;,&lt;1 20 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;; &#125;; &#125;; /* end add */ lcd-panel &#123; lcd_panel_reset: lcd-panel-reset &#123; /*rockchip,pins = &lt;2 27 RK_FUNC_GPIO &amp;pcfg_pull_down&gt;;*/ rockchip,pins = &lt;4 RK_PD6 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;; &#125;; lcd_panel_pwr_en: lcd-panel-pwr-en &#123; rockchip,pins = &lt;3 16 RK_FUNC_GPIO &amp;pcfg_pull_down&gt;; lcd_panel_lcd_en:lcd-panel-lcd-en &#123; rockchip,pins = &lt;1 4 RK_FUNC_GPIO &amp;pcfg_pull_down&gt;; &#125;; &#125;; &#125;;&#125;; IOå¤ç”¨éœ€è¦é€šè¿‡æ ‡ç­¾åæ–¹å¼æ¥å¼•ç”¨ï¼Œä¸Šé¢ä»£ç çš„sdmmc-pwrseqã€lsm330_aã€lsm330_g â€¦ ä»…èµ·åˆ°åˆ†ç±»çš„ä½œç”¨ï¼ˆåŠŸèƒ½æ³¨é‡Šï¼‰ï¼Œè¯¦ç»†åŠŸèƒ½å‚è€ƒä¸‹é¢è¡¨æ ¼ åŠŸèƒ½æ¨¡å— èŠ‚ç‚¹æ ‡ç­¾ å¼•è„šä½ç½® å¤ç”¨åŠŸèƒ½ ç”µæ°”å±æ€§ SDå¡ç”µæºæ§åˆ¶ sdcard_enable_h GPIO1_B4 (Bank1, Pin20) RK_FUNC_GPIO æ— ä¸Šä¸‹æ‹‰ (none) åŠ é€Ÿåº¦è®¡ lsm330a_irq_gpio GPIO1_B6 (Bank1, Pin22) RK_FUNC_GPIO æ— ä¸Šä¸‹æ‹‰ (none) é™€èºä»ª lsm330g_irq_gpio GPIO1_B8 (Bank1, Pin24) RK_FUNC_GPIO æ— ä¸Šä¸‹æ‹‰ (none) ç£åŠ›è®¡ ak8963_irq_gpio GPIO1_A0 (Bank1, Pin0) RK_FUNC_GPIO æ— ä¸Šä¸‹æ‹‰ (none) å…‰ä¼ æ„Ÿå™¨ cm3218_irq_gpio GPIO4_D0 (Bank4, Pin24) RK_FUNC_GPIO ä¸Šæ‹‰ (pull_up) LEDæ§åˆ¶ led1_ctl GPIO0_B4 (Bank0, Pin12) RK_FUNC_GPIO ä¸Šæ‹‰ (pull_up) èœ‚é¸£å™¨ beep_gpio GPIO4_C6 (Bank4, Pin22) RK_FUNC_GPIO ä¸Šæ‹‰ (pull_up) è§¦æ‘¸å± gt911_gpio GPIO1_A9 (Bank1, Pin9) RK_FUNC_GPIO ä¸Šæ‹‰ (pull_up) GPIO1_B4 (Bank1, Pin20) RK_FUNC_GPIO ä¸Šæ‹‰ (pull_up) LCDé¢æ¿ lcd_panel_reset GPIO4_D6 (Bank4, Pin30) RK_FUNC_GPIO æ— ä¸Šä¸‹æ‹‰ (none) lcd_panel_pwr_en GPIO3_D0 (Bank3, Pin16) RK_FUNC_GPIO ä¸‹æ‹‰ (pull_down) lcd_panel_lcd_en GPIO1_A4 (Bank1, Pin4) RK_FUNC_GPIO ä¸‹æ‹‰ (pull_down) èŠ‚ç‚¹çŠ¶æ€ç”¨statuså­—æ®µè¡¨ç¤ºï¼šä¸€èˆ¬æœ‰okayå’Œdisabledä¸¤ç§çŠ¶æ€ 1status = &quot;disabled&quot;; ç­”ç–‘ å¼•ç”¨èŠ‚ç‚¹çš„è¯å¯ä»¥æ”¹å˜åŸæœ‰çš„å†…å®¹å—ï¼Ÿè¿˜æ˜¯åªèƒ½æ–°å¢ â†’ ç­”ï¼šè¡¥å……å’Œæ–°å¢ RK3399çš„GPIOæ˜ å°„å…³ç³»ï¼šå‚è€ƒä¸Šé¢GPIOå°ç»“ â†’ ç­”ï¼šä¸€ä¸ªBANKï¼ˆ0-31ï¼‰åˆ†ä¸ºAã€Bã€Cã€Då››ç»„ æ ¹èŠ‚ç‚¹å¯ä»¥æ”¾åœ¨å¤šä¸ªæ–‡ä»¶ä¹‹ä¸­å—ï¼Ÿ â†’ ç­”ï¼šå¯ä»¥çš„ æœ¯è¯­ dtcï¼šdevice tree compilerï¼Œè®¾å¤‡æ ‘ç¼–è¯‘å·¥å…· dtsï¼šdevice tree sourceï¼Œè®¾å¤‡æ ‘æºæ–‡ä»¶ dtsiï¼šdevice tree source includeï¼Œè®¾å¤‡æ ‘å¤´æ–‡ä»¶ dtbï¼šdevice tree blobï¼Œè®¾å¤‡æ ‘æ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶ï¼‰","tags":["Linux","ARM","è®¾å¤‡æ ‘"],"categories":["åµŒå…¥å¼"]},{"title":"è·¨å¹³å°SDKè®¾è®¡åŸåˆ™","path":"//crossplatform-sdk.html","content":"è·¯å¾„ä¾èµ–1.ä¸è¦é‡å¤é€ è½®å­ï¼Œå°½é‡é€‰ç”¨ä¹…ç»è€ƒéªŒçš„è·¨å¹³å°åº“ï¼Œå¦‚boostã€yamlã€pcapã€vtkã€cjsonç­‰ï¼Œè¿™æ ·èƒ½æŠŠè®¾è®¡å’Œæµ‹è¯•æˆæœ¬é™åˆ°æœ€ä½ 2.æ„å»ºå·¥å…·ä¼˜å…ˆé€‰ç”¨cmakeï¼Œcmakeåœ¨Windowsã€Linuxã€Mac OSå¹³å°éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œæ”¯æŒå›¾å½¢åŒ–é…ç½® 3.ç¼–ç¨‹è¯­è¨€ä¼˜å…ˆé€‰ç”¨æˆç†Ÿã€ç¨³å®šçš„ç‰ˆæœ¬ï¼Œå¦‚C++é€‰ç”¨2011ç‰ˆæœ¬ï¼Œä¸è¦ä½¿ç”¨å¤ªèŠ±é‡Œèƒ¡å“¨çš„ç‰¹æ€§ æ•°æ®ç±»å‹1.æ•°æ®ç±»å‹å°½é‡èƒ½å¤Ÿå¤šå¹³å°é€šç”¨ï¼Œå¦‚cstdintç±»å‹ã€boostè·¨å¹³å°ç±»å‹ 2.å­—èŠ‚å¯¹é½ï¼Œæ³¨æ„å­—èŠ‚åº 3.æœ‰äº›ç¡¬ä»¶å¹¶ä¸æ”¯æŒåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œä¾‹å¦‚å…¨å¿—T3èŠ¯ç‰‡ï¼Œå¦‚æœæ²¡æœ‰ç²¾åº¦è¦æ±‚å»ºè®®æµ®ç‚¹æ•°é»˜è®¤floatè€Œédouble 4.ç®¡ç†å†…å­˜æ¨èä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œå‡å°‘æ·±æ‹·è´ 5.æ€§èƒ½ä¸è¡Œå¯ä»¥ä½¿ç”¨æ•°æ®è¡¨ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œæ¯”å¦‚ä¸‰è§’å‡½æ•°çš„è®¡ç®—ï¼Œé¿å…é‡å¤è®¡ç®—å¼€é”€å¾ˆå¤§çš„æ•°æ®å¯¹è±¡ é€šä¿¡åè®®1.ç‰ˆæœ¬å·ï¼Œè¿™ä¸ªå­—æ®µæ˜¯è€ƒè™‘åˆ°å˜æ›´é£é™©ï¼ŒåµŒå…¥å¼é¢†åŸŸç¡¬ä»¶çš„å˜æ›´ä»£ä»·æ˜¯å¾ˆå¤§çš„ï¼Œå¾€å¾€éœ€è¦è½¯ä»¶æ¥ä¹°å•ï¼ˆæ“¦å±è‚¡ï¼‰ 2.æ•°æ®æ ¡éªŒï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼ˆå¾ˆå¤šæ—¶å€™ä¸æ¸…æ¥šç”¨æˆ·åœ¨ä»€ä¹ˆæ ·çš„ç”µç£ç¯å¢ƒä¸‹æµ‹è¯•ï¼‰ï¼Œå¯ä»¥å‚è€ƒmodusçš„åè®®è®¾è®¡ 3.å°½é‡ä¸è¦ä¾èµ–é…ç½®æ–‡ä»¶ï¼Œåè®®åº”è¯¥èƒ½å¤Ÿå……åˆ†è§£å†³ä¾èµ– è®¾è®¡åŸåˆ™1.å•ä¸€æ¥å£åŸåˆ™ï¼Œé«˜å†…èšï¼Œéš”ç¦»å®ç°ï¼Œå¤´æ–‡ä»¶ä¸æš´éœ²æ— å…³çš„ç»†èŠ‚ï¼Œä¸æƒ³ç»™æºç å°±è¦å‰¥ç¦»ä½ çš„å®ç° 2.æµç¨‹å°½é‡ç®€å•é«˜æ•ˆï¼Œä¸ç»™ä½¿ç”¨è€…å¸¦æ¥é¢å¤–æ¶ˆè€—ï¼Œæ¯”å¦‚åƒåˆ«äººçš„ç®—åŠ›ï¼ˆè¿™ä¸ªæ˜¯é“å¾·åº•çº¿ï¼‰ 3.ä»£ç å¯è¯»æ€§è‰¯å¥½ï¼Œå°½é‡å°‘ç”¨æ¨¡æ¿ï¼Œæšä¸¾ä¼˜äºå®å®šä¹‰ï¼Œtypedefä¼˜äºå®æ›¿æ¢ 4.åšå¥½é˜²å¾¡æ€§ç¼–ç¨‹ï¼ˆassertã€æ•°ç»„è¾¹ç•Œåˆ¤æ–­ã€æœç»ç©ºæŒ‡é’ˆæ‚¬æŒ‡é’ˆï¼‰ï¼ŒSDKåº”è¯¥åœ¨è°ƒè¯•é˜¶æ®µå°½é‡å¤šçš„å‘ç°è‡ªèº«çš„é—®é¢˜ 5.ä¼ æ„Ÿå™¨ï¼ˆLiDARã€IMUã€Cameraã€GNSSç­‰ï¼‰çš„æ•°æ®å¤„ç†éƒ½å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ•°æ®é©±åŠ¨çš„æ¨¡å‹ï¼šç”Ÿäº§è€…+æ¶ˆè´¹è€… æ–‡æ¡£è¯´æ˜1.ä¼ æ„Ÿå™¨è½¯ä»¶çš„å·¥ä½œæµç¨‹ï¼ŒSDKæ€ä¹ˆè·å–æ•°æ®ï¼Œæ€ä¹ˆè§£ææ•°æ® 2.SDKçš„æ¥å£è¯´æ˜ï¼Œå…¥å‚ã€è¿”å›å€¼çš„åŠŸèƒ½ 3.æ¯ä¸ªç‰ˆæœ¬çš„ä¿®æ”¹è®°å½•","tags":["è·¨å¹³å°","SDK"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"DSPé€‚é…VOFA+ JustFloatåè®®","path":"//dsp-justfloat-protocal.html","content":"é…ç½®SCIé…ç½®å¼•è„šï¼Œæ”¯æŒä¸­æ–­+FIFO 1234567891011121314151617181920212223242526272829void initSCIAFIFO(void)&#123; // é…ç½®GPIOå¼•è„š GPIO_setMasterCore(43, GPIO_CORE_CPU1); GPIO_setPinConfig(GPIO_43_SCIRXDA); GPIO_setDirectionMode(43, GPIO_DIR_MODE_IN); GPIO_setPadConfig(43, GPIO_PIN_TYPE_STD); GPIO_setQualificationMode(43, GPIO_QUAL_ASYNC); GPIO_setMasterCore(42, GPIO_CORE_CPU1); GPIO_setPinConfig(GPIO_42_SCITXDA); GPIO_setDirectionMode(42, GPIO_DIR_MODE_OUT); GPIO_setPadConfig(42, GPIO_PIN_TYPE_STD); GPIO_setQualificationMode(42, GPIO_QUAL_ASYNC); // é…ç½®SCIæ¨¡å— SCI_disableModule(SCIA_BASE); SCI_performSoftwareReset(SCIA_BASE); SCI_setConfig(SCIA_BASE, DEVICE_LSPCLK_FREQ, 115200, (SCI_CONFIG_WLEN_8 | SCI_CONFIG_STOP_ONE | SCI_CONFIG_PAR_NONE)); // é…ç½®FIFO SCI_enableFIFO(SCIA_BASE); SCI_resetTxFIFO(SCIA_BASE); SCI_setFIFOInterruptLevel(SCIA_BASE, SCI_FIFO_TX8, SCI_FIFO_RX4); SCI_enableModule(SCIA_BASE);&#125; å…¨å±€ä¸­æ–­é…ç½®ï¼Œåœ¨mainå‡½æ•°é‡Œè¾¹åˆå§‹åŒ–ä¸­æ–­ 12345678910111213141516171819void main(void)&#123; // åˆå§‹åŒ–è®¾å¤‡ Device_init(); Device_initGPIO(); Board_init(); // åˆå§‹åŒ–SCI initSCIAFIFO(); // åˆå§‹åŒ–ä¸­æ–­ Interrupt_initModule(); Interrupt_initVectorTable(); Interrupt_register(INT_SCIA_TX, sciaTXFIFOISR); Interrupt_enable(INT_SCIA_TX); ...... &#125; å®ç°å‘é€ä¸­æ–­æœåŠ¡å‡½æ•°ï¼Œè·Ÿé˜»å¡å¼å‘é€ä¸ä¸€æ ·çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨éé˜»å¡å¼æ¥å£ï¼šSCI_writeCharNonBlocking 12345678910111213141516__interrupt void sciaTXFIFOISR(void)&#123; while((txBufferIndex &lt; txDataCount) &amp;&amp; (SCI_getTxFIFOStatus(SCIA_BASE) != SCI_FIFO_TX15)) &#123; SCI_writeCharNonBlocking(SCIA_BASE, txBuffer[txBufferIndex++]); &#125; if((txBufferIndex &gt;= txDataCount) &amp;&amp; (SCI_getTxFIFOStatus(SCIA_BASE) == SCI_FIFO_TX0)) &#123; isTransmitting = false; SCI_disableInterrupt(SCIA_BASE, SCI_INT_TXFF); &#125; SCI_clearInterruptStatus(SCIA_BASE, SCI_INT_TXFF); Interrupt_clearACKGroup(INTERRUPT_ACK_GROUP9);&#125; åè®®é€‚é…è‡ªå®šä¹‰JustFloatå•å¸§æ•°æ®ç±»å‹ï¼šFloatç±»å‹æ•°æ®ï¼Œä½¿ç”¨unionæ˜¯ä¸ºäº†æ–¹ä¾¿é€šè¿‡uint16_tçš„æ–¹å¼è¿›è¡Œåºåˆ—åŒ– 123456789// å…¨å±€å˜é‡å®šä¹‰#define TX_BUFFER_SIZE 32#define CH_COUNT 5#define PI 3.14159265358979323846ftypedef union &#123; float DataFloat; uint16_t DataUint16[2];&#125; FloatUnion; å®ç°å•å¸§æ•°æ®çš„å‘é€ï¼šç¡®ä¿å¸§å°¾èƒ½å¯¹çš„ä¸Šï¼Œæ¯ä¸€æ¬¡å‘é€éƒ½è¦å‘é€ä½¿èƒ½ä¸­æ–­ï¼Œç¬¬ä¸€æ¬¡éœ€è¦æ‰‹åŠ¨è§¦å‘å‘é€ä¸­æ–­ 123456789101112131415161718192021222324252627282930313233343536373839404142void SCIA_sendFrame(float chn1, float chn2, float chn3, float chn4, float chn5)&#123; while(isTransmitting) &#123; &#125; FloatUnion data[CH_COUNT]; data[0].DataFloat = chn1; data[1].DataFloat = chn2; data[2].DataFloat = chn3; data[3].DataFloat = chn4; data[4].DataFloat = chn5; txBufferIndex = 0; txDataCount = 0; int i; for(i = 0; i &lt; CH_COUNT; i++) &#123; txBuffer[txDataCount++] = (uint8_t)(data[i].DataUint16[0] &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)((data[i].DataUint16[0] &gt;&gt; 8) &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)(data[i].DataUint16[1] &amp; 0xFF); txBuffer[txDataCount++] = (uint8_t)((data[i].DataUint16[1] &gt;&gt; 8) &amp; 0xFF); &#125; // æ·»åŠ å¸§å°¾ (00 00 80 7F) txBuffer[txDataCount++] = 0x00; txBuffer[txDataCount++] = 0x00; txBuffer[txDataCount++] = 0x80; txBuffer[txDataCount++] = 0x7F; // å¼€å§‹ä¼ è¾“ isTransmitting = true; txBufferIndex = 0; SCI_enableInterrupt(SCIA_BASE, SCI_INT_TXFF); // æ‰‹åŠ¨è§¦å‘ç¬¬ä¸€æ¬¡å‘é€ while((txBufferIndex &lt; txDataCount) &amp;&amp; (SCI_getTxFIFOStatus(SCIA_BASE) != SCI_FIFO_TX15)) &#123; SCI_writeCharNonBlocking(SCIA_BASE, txBuffer[txBufferIndex++]); &#125;&#125; æ¨¡æ‹Ÿæ•°æ®æˆ‘ä»¬æ¥å®ç°æ¨¡æ‹Ÿæ•°æ® 1234567891011121314151617181920// ä¸»å¾ªç¯ float angle = 0.0f; // ä»0å¼€å§‹ while(1) &#123; float normalized_angle = normalize_angle(angle); float sin_val; float cos_val; // è®¡ç®—ä¸‰è§’å‡½æ•°å€¼å¹¶é™åˆ¶èŒƒå›´ sin_val = limit_range(sinf(normalized_angle), -1.0f, 1.0f); cos_val = limit_range(cosf(normalized_angle*2), -1.0f, 1.0f); SCIA_sendFrame(angle, round_to_2_decimal(sin_val), round_to_2_decimal(sin_val+cos_val), limit_range(round_to_2_decimal(sin_val * cos_val), -1.0f, 1.0f), limit_range(round_to_2_decimal(cos_val * cos_val), 0.0f, 1.0f)); angle += 0.1f; DEVICE_DELAY_US(10); &#125; å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸‰è§’å‡½æ•°å®ƒæ˜¯é€šè¿‡æŸ¥è¡¨æ³•æ¥å®ç°çš„ï¼Œangleå€¼å¤ªå¤§ä¼šæœ‰è¯¯å·®ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡å½’ä¸€åŒ–å‡½æ•° 123456789101112131415161718192021222324252627282930313233343536373839// å°†è§’åº¦å½’ä¸€åŒ–åˆ°[-2Ï€, 2Ï€]èŒƒå›´å†…float normalize_angle(float angle)&#123; const float two_pi = 2.0f * PI; float normalized = fmodf(angle, two_pi); if(normalized &lt; -PI) normalized += two_pi; if(normalized &gt; PI) normalized -= two_pi; return normalized;&#125;// ä¿ç•™2ä½å°æ•°çš„å‡½æ•°float round_to_2_decimal(float value)&#123; // ä½¿ç”¨æ›´ç¨³å®šçš„èˆå…¥æ–¹æ³• const float factor = 100.0f; float temp = value * factor; // å¤„ç†æ­£è´Ÿæ•° if(temp &gt;= 0.0f) &#123; temp = floorf(temp + 0.5f); &#125; else &#123; temp = ceilf(temp - 0.5f); &#125; // é¿å…é™¤ä»¥0 if(fabsf(temp) &lt; 1e-6f) &#123; return 0.0f; &#125; return temp / factor;&#125;// é™åˆ¶æ•°å€¼èŒƒå›´çš„å‡½æ•°float limit_range(float value, float min, float max)&#123; if(value &gt; max) return max; if(value &lt; min) return min; return value;&#125; è¿è¡Œæ•ˆæœVOFA+çš„å®æ—¶è¿è¡Œæ•ˆæœï¼šæ˜¾ç¤º5ä¸ªé€šé“çš„æ³¢å½¢æ•°æ®","tags":["DSP","VOFA+","FIFO","JustFloat"],"categories":["åµŒå…¥å¼","ç¨‹åºè®¾è®¡"]},{"title":"Shellè„šæœ¬æ‰§è¡Œä¸äº†çš„é—®é¢˜","path":"//linux-bash-script-problem.html","content":"é—®é¢˜Windowsä¸Šé¢æäº¤shellè„šæœ¬ï¼Œç„¶ååœ¨Linuxä¸‹æ£€å‡ºå®¹æ˜“å‡ºç°è„šæœ¬æ‰§è¡Œä¸äº†çš„æƒ…å†µï¼Œå› ä¸ºWindowsæ˜¯ä½¿ç”¨Windowsï¼ˆCR LFï¼‰æ ¼å¼çš„ï¼Œè€ŒLinuxé‡‡ç”¨Unixï¼ˆLFï¼‰ï¼Œbashç»ˆç«¯ä¸€èˆ¬è¯†åˆ«ä¸äº†å‰è€…ï¼Œä¸€æ—¦éƒ¨ç½²åˆ°ARM Linuxé‚£ä¹Ÿè‚¯å®šå‡ºé—®é¢˜ è§£å†³ å°½é‡é¿å…åœ¨Windowsæäº¤shellè„šæœ¬ï¼šå®é™…å·¥ä½œä¸­å¾ˆå¤šäººéƒ½å–œæ¬¢ç”¨Windowsåšå¼€å‘ï¼Œå°½ç®¡å¼€å‘çš„æ˜¯Linuxåº”ç”¨ ä½¿ç”¨vimç¼–è¾‘å™¨ï¼Œè¾“å…¥å‘½ä»¤set ffæŸ¥çœ‹è„šæœ¬æ ¼å¼ï¼Œå¦‚æœæ˜¯dosæ ¼å¼ï¼Œåˆ™è¾“å…¥å‘½ä»¤set ff=unixå³å¯çº æ­£è¿‡æ¥ å¯ä»¥ä½¿ç”¨notepad++ï¼Œé€šè¿‡å³ä¸‹è§’çš„çŠ¶æ€æ é‚£é‡Œå¯ä»¥æŸ¥çœ‹æ–‡æœ¬æ ¼å¼ï¼Œå³é”®åˆ‡æ¢å³å¯","tags":["Linux","Bash"],"categories":["æ“ä½œç³»ç»Ÿ"]},{"title":"Linux Bashå¸¸ç”¨å¿«æ·é”®","path":"//linux-bash-common-shortcuts.html","content":"å‰è¨€åœ¨Linuxå¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸éœ€è¦ç”¨åˆ°ç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·ï¼Œç”šè‡³æœ‰äº›å‘è¡Œç‰ˆæœ¬å°±åªç»™ä½ ä¸€ä¸ªåˆå§‹çš„å‘½ä»¤è¡Œï¼Œç•Œé¢å•¥çš„éƒ½æ²¡æœ‰ï¼›å‘½ä»¤è¡Œå·¥å…·å¯ä»¥æå‡æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œé€šå¸¸ä¸€ä¸ªå‘½ä»¤å®ƒèƒ½è¾¾åˆ°çš„æ•ˆæœæ˜¯Nä¸ªé¼ æ ‡æ“ä½œæ— æ³•æ¯”æ‹Ÿçš„ï¼›æ— è®ºæ˜¯ç³»ç»Ÿå·¥ç¨‹å¸ˆã€é©±åŠ¨å·¥ç¨‹å¸ˆè¿˜æ˜¯è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼Œéƒ½éœ€è¦æŒæ¡å‘½ä»¤è¡Œçš„å¿«é€Ÿä½¿ç”¨æŠ€å·§ å”¤èµ·ç»ˆç«¯æ¡Œé¢ä¸‹å”¤èµ·ï¼šCTRL + Alt + T éæ¡Œé¢ç¯å¢ƒï¼šCTRL + Alt + Fn ï¼ˆnï¼š1ã€2ã€3ã€4ã€5ã€6 â€¦â€¦ï¼‰ å…¨å±æ¨¡å¼è¿›å…¥&#x2F;é€€å‡ºï¼šF11 æ–°å»ºç»ˆç«¯åœ¨Tabæ ï¼šCTRL + Shift + T æ–°çª—å£ï¼šCTRL + Shift + N æ£€ç´¢æŸ¥æ‰¾ï¼šCTRL + Shift + F å‰ä¸€ä¸ªï¼šCTRL + Shift + H ä¸‹ä¸€ä¸ªï¼šCTRL + Shift + G ç¼–è¾‘å¤åˆ¶ï¼šCTRL + Shift + C ç²˜è´´ï¼šCTRL + Shift + V æ¸…å±CTRL + L ä¸Šä¸€æ¡å‘½ä»¤CTRL + P ä¸‹ä¸€æ¡å‘½ä»¤CTRL + N æ‰§è¡Œå‘½ä»¤CTRL + M CTRL + O å‘½ä»¤è¡¥å…¨CTRL + I Tab åˆ é™¤å­—ç¬¦è‡³æœ€å‰é¢CTRL + U åˆ é™¤å­—ç¬¦è‡³æœ€åé¢CTRL + K åˆ é™¤æ•´ä¸ªå•è¯ï¼ˆå‘å‰ï¼‰æ³¨æ„ï¼šé‡åˆ°ç©ºç™½ç¬¦ç»“æŸ CTRL + W åˆ é™¤æ•´ä¸ªå•è¯ï¼ˆå‘åï¼‰æ³¨æ„ï¼šé‡åˆ°ç©ºç™½ç¬¦ç»“æŸ CTRL + D åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ˆå¾€å‰ï¼‰CTRL + H å…‰æ ‡ç§»åŠ¨æœ€å‰CTRL + A å…‰æ ‡ç§»åŠ¨æœ€åCTRL + E å…‰æ ‡å‘å‰ç§»åŠ¨ä¸€æ ¼CTRL + F å…‰æ ‡å‘åç§»åŠ¨ä¸€æ ¼CTRL + B å…‰æ ‡ç§»åŠ¨å½“å‰å•è¯æœ€å‰Alt + F å…‰æ ‡ç§»åŠ¨å½“å‰å•è¯æœ€åAlt + B å‘½ä»¤æŸ¥æ‰¾ï¼ˆå‘åï¼‰CTRL + R å‘½ä»¤æŸ¥æ‰¾ï¼ˆå‘å‰ï¼‰CTRL + SHIFT + R å†»ç»“ç»ˆç«¯CTRL + S è§£å†»ç»ˆç«¯CTRL + Q ä¸­æ­¢å‘½ä»¤CTRL + C æŒ‚èµ·å‘½ä»¤CTRL + Z å¤åˆ¶å½“å‰å‘½ä»¤CTRL + Y","tags":["Linux","Bash"],"categories":["å¼€å‘å·¥å…·","æ“ä½œç³»ç»Ÿ"]},{"title":"ä¸‰è§’å‡½æ•°çš„ä½¿ç”¨","path":"//trig-functions-usage.html","content":"é—®é¢˜å½“æµ®ç‚¹æ•°å¾ˆå¤§æ—¶ï¼Œä½œä¸ºä¸‰è§’å‡½æ•°çš„å…¥å‚ï¼Œè®¡ç®—å‡ºæ¥çš„ç»“æœä¼šè®©äººå¤§è·Œçœ¼é•œï¼ X64 Windowså¹³å°MSVC2017ç¼–è¯‘å™¨è®¡ç®—çš„sin(110000)ï¼Œä¸Šé¢é‚£ä¸ªæ•°å€¼æ˜æ˜¾æ˜¯ä¸å¯¹çš„ åˆ†ææŸ¥çœ‹sinfå‡½æ•°åŸå‹ï¼Œæ˜¯é€šè¿‡æŸ¥è¡¨æ³•æ¥å®ç°çš„ï¼Œä¹Ÿå°±è¯´èŠ¯ç‰‡å†…éƒ¨ä¸å¯èƒ½ç»´æŠ¤ä¸€ä¸ªå·¨å¤§çš„è¡¨æ ¼ï¼Œå…¥å‚å¾ˆå¤§ä¼šæœ‰è¯¯å·® 12345678910111213141516171819//! \\brief Single-Precision Floating-Point Sine (radians)//! \\param[in] X single precision floating point argument//! \\return the sine of a floating-point argument X (in radians) using table//! look-up and Taylor series expansion between the look-up table entries.//!//! ote //! -# This is a standard C math function and requires &quot;math.h&quot; to be //! included//! -# For COFF executables float and double are both single precision//! 32-bit floating point types, therefore, the double and float variant of //! this function may be used interchangeably.//!//! &lt;table&gt;//! &lt;caption id=&quot;multi_row&quot;&gt;Performance Data&lt;/caption&gt;//! &lt;tr&gt;&lt;th&gt;Cycles &lt;th&gt; Comment //! &lt;tr&gt;&lt;td&gt; 38 &lt;td&gt; Cycle count includes the call and return//! &lt;/table&gt;//float32_t sinf (float32_t X); è§£å†³éœ€è¦å°†è§’åº¦å€¼é™åˆ¶åœ¨Â±2Ï€èŒƒå›´å†…ï¼ˆç†è®ºä¸Šè¯´è¿™ä¸ªèŒƒå›´å†…çš„ç²¾åº¦æ˜¯æœ€å¥½çš„ï¼‰ 123456789// å°†è§’åº¦å½’ä¸€åŒ–åˆ°[-2Ï€, 2Ï€]èŒƒå›´å†…float normalize_angle(float angle)&#123; const float two_pi = 2.0f * PI; float normalized = fmodf(angle, two_pi); if(normalized &lt; -PI) normalized += two_pi; if(normalized &gt; PI) normalized -= two_pi; return normalized;&#125; è°ƒè¯•çœ‹å½’ä¸€åŒ–åçš„å‡½æ•°å€¼ æ€»ç»“æˆ‘ä»¬å­¦è¿‡é«˜ç­‰æ•°å­¦ï¼Œäº†è§£åˆ°å¯ä»¥é€šè¿‡æ³°å‹’çº§æ•°é€¼è¿‘çš„æ–¹å¼æ¥è®¡ç®—ä¸‰è§’å‡½æ•°çš„å€¼ï¼Œå°±æ˜¯ä¸åœåœ°è®¡ç®—å¤šé¡¹å¼çš„å€¼ $$\\sin x &#x3D; x - \\frac{x^3}{3!} + \\frac{x^5}{5!} - \\frac{x^7}{7!} + \\cdots &#x3D; \\sum_{n&#x3D;0}^{\\infty} (-1)^n \\frac{x^{2n+1}}{(2n+1)!}$$ $$\\cos x &#x3D; 1 - \\frac{x^2}{2!} + \\frac{x^4}{4!} - \\frac{x^6}{6!} + \\cdots &#x3D; \\sum_{n&#x3D;0}^{\\infty} (-1)^n \\frac{x^{2n}}{(2n)!}$$ ä½†æ˜¯åœ¨åµŒå…¥å¼å¹³å°ä¸€èˆ¬å€¾å‘äºä½¿ç”¨æŸ¥è¡¨æ³•ï¼ˆç©ºé—´æ¢æ—¶é—´ï¼‰æ¥è®¡ç®— x sin(x) 1 0.841471 2 0.909297 3 0.141120 4 -0.756802","tags":["DSP","ä¸‰è§’å‡½æ•°"],"categories":["åµŒå…¥å¼"]},{"title":"Code Composer Studioå¿«æ·é”®","path":"//ccs-shortcuts.html","content":"æ–‡æœ¬ç¼–è¾‘ç¼–è¾‘ã€æŸ¥æ‰¾ã€æ›¿æ¢åŠŸèƒ½å¿«æ·é”® åŠŸèƒ½ å¿«æ·é”® æ’¤é”€ Cut+Z é‡åš Cut+Y å‰ªåˆ‡ Ctrl+X å¤åˆ¶ Ctrl+C ç²˜è´´ Ctrl+V åˆ é™¤ Delete å…¨é€‰ Ctrl+A ä»£ç å—é€‰ä¸­ Alt+Shift+A æŸ¥æ‰¾ã€æ›¿æ¢ Ctrl + F æŸ¥æ‰¾ä¸‹ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸² Ctrl+K æŸ¥æ‰¾ä¸Šä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸² Ctrl+Shift+K æŸ¥çœ‹æ¥å£æ³¨é‡Šï¼ˆæ–‡æ¡£ï¼‰ F2 æŸ¥çœ‹å‡½æ•°å¸®åŠ©ï¼ˆå‚æ•°ï¼‰ Alt+&#x2F; æˆ–è€… Alt+? å…‰æ ‡å‘å‰è·³è½¬ Alt+â¡ å…‰æ ‡å‘åè·³è½¬ Alt+â¬… è°ƒè¯•è°ƒè¯•åŠŸèƒ½å¿«æ·é”® åŠŸèƒ½ å¿«æ·é”® ç»§ç»­ F8 æš‚åœ Alt+F8 åœæ­¢è¿è¡Œ Ctrl+F2 å•æ­¥è¿›å…¥ F5 å•æ­¥è·³è¿‡ F6 å•æ­¥è¿”å› F7 æ„å»ºæ‰€æœ‰å·¥ç¨‹ Ctrl+B è°ƒè¯• F11 æ–­ç‚¹æ–°å¢&#x2F;ç§»é™¤ Ctrl+Shift+B è·³è¿‡æ‰€æœ‰æ–­ç‚¹ Ctrl+Alt+B è§†å›¾æŒ‰Alt+Shift+Qå¿«æ·é”®ä¼šå¼¹å‡ºä¸€ä¸ªèœå•åˆ—è¡¨ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å¯¹åº”çš„çª—å£ åŠŸèƒ½ å¿«æ·é”® Scripting Consoleï¼ˆè„šæœ¬æ§åˆ¶å°ï¼‰ Alt+Shift+Q, I Show Viewï¼ˆä¸»è§†å›¾ï¼‰ Alt+Shift+Q, Q Show View (Breakpoints)ï¼ˆæ–­ç‚¹çª—å£ï¼‰ Alt+Shift+Q, B Show View (Cheat Sheets) Alt+Shift+Q, H Show View (Console)ï¼ˆæ§åˆ¶å°çª—å£ï¼‰ Alt+Shift+Q, C Show View (Error Log)ï¼ˆé”™è¯¯æ—¥å¿—çª—å£ï¼‰ Alt+Shift+Q, L Show View (History)ï¼ˆå†å²çª—å£ï¼‰ Alt+Shift+Q, Z Show View (Outline)ï¼ˆå¤§çº²çª—å£ï¼‰ Alt+Shift+Q, O Show View (Problems)ï¼ˆé—®é¢˜çª—å£ï¼‰ Alt+Shift+Q, X Show View (Search)ï¼ˆæœç´¢çª—å£ï¼‰ Alt+Shift+Q, S Show View (Synchronize) Alt+Shift+Q, Y Show View (Variables)ï¼ˆè°ƒè¯•å˜é‡çª—å£ï¼‰ Alt+Shift+Q, V å…¶å®ƒå…¶å®ƒç‰¹æ®Šçš„åŠŸèƒ½å¿«æ·æ–¹å¼ ä»£ç æ ¼å¼åŒ–ï¼šCTRL + Aï¼ŒCTRL + I å·¥ç¨‹é…ç½®ï¼šé¼ æ ‡é€‰ä¸­å·¥ç¨‹ï¼Œç„¶åæŒ‰Alt + Enter è°ƒè¯•ç›®æ ‡è¿æ¥æ–­å¼€ï¼šCTRL + Alt + C &#x2F; CTRL + Alt + D","tags":["DSP","CCS"],"categories":["åµŒå…¥å¼","å¼€å‘å·¥å…·"]},{"title":"å…³äºDSPæ•°æ®ç±»å‹é•¿åº¦å’Œæ•°æ®è½¬æ¢çš„æ€è€ƒ","path":"//dsp-data-size.html","content":"ä»‹ç»åœ¨dspä¸­å†™ä¸€ä¸ªä¿ç•™2ä½å°æ•°çš„å‡½æ•° 12345// ä¿ç•™2ä½å°æ•°çš„å‡½æ•°float round_to_2_decimal(float value)&#123; return (float)((int)(value * 100 + 0.5f)) / 100.0f;&#125; dspé€šè¿‡SCIä¸²å£ä¼ ç»™ä¸Šä½æœºçš„æµ®ç‚¹æ•°æ®ç´¯åŠ åˆ°ä¸€å®šç¨‹åº¦è«åå…¶å¦™çš„å°±ä¸èƒ½å¢é•¿äº†ï¼ æ€è€ƒä¸Šé¢çš„æ•°æ®çœ‹ä¸Šå»åªæœ‰2ä¸ªå­—èŠ‚ï¼Œæ•°æ®è½¬æ¢çš„ä¸­é—´ç¯èŠ‚è‚¯å®šå‡ºäº†é—®é¢˜ï¼Œè¦ä¹ˆæ˜¯floatè¦ä¹ˆæ˜¯intï¼ŒæŸ¥çœ‹limits.hå‘ç°intæ•°æ®å¤§å°æœ‰ä¸Šé™ï¼Œä¸º32767 å¦å¤–è°ƒè¯•ä¹ŸæƒŠå–œçš„å‘ç°å„ç±»å‹çš„æ•°æ®å¤§å°ï¼šintå±…ç„¶ä¸º1ï¼ˆæˆ‘è§‰å¾—åº”è¯¥æ˜¯ç¼–è¯‘å™¨çš„åŸå› ï¼Œsizeofæ˜¯è¿ç®—ç¬¦ï¼Œdspæ˜¯16ä½çš„ï¼Œæ‰€ä»¥intçš„å®é™…å¤§å°åº”è¯¥æ˜¯16x1ï¼Œfloatå¤§å°ä¸º16x2ï¼‰ è§£å†³æ­£ç¡®å†™æ³•ï¼šåŒ…å«stdint.hï¼Œä½¿ç”¨int32_tç±»å‹ï¼Œè¿™ä¸‹å°±èƒ½å¤Ÿä½¿ç”¨32ä½çš„æ•°æ®äº† 12345// ä¿ç•™2ä½å°æ•°çš„å‡½æ•°float round_to_2_decimal(float value)&#123; return (float)((int32_t)(value * 100 + 0.5f)) / 100.0f;&#125; å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨F2837xd_device.hé‡Œè¾¹çš„ç±»å‹ï¼Œè¿™é‡Œä¹Ÿä½è¯äº†intæ˜¯16ä½çš„ï¼ 12345678typedef int int16;typedef long int32;typedef long long int64;typedef unsigned int Uint16;typedef unsigned long Uint32;typedef unsigned long long Uint64;typedef float float32;typedef long double float64; æ³¨æ„ï¼šint32_tä¹Ÿæ˜¯æœ‰èŒƒå›´çš„ï¼š-2,147,483,648 ~ 2,147,483,647ï¼Œå½“valueå¤§åˆ°ä¸€å®šç¨‹åº¦æ—¶(int32_t)(value * 100 + 0.5f)ä¼šå¾—åˆ°ä¸€ä¸ªè¶Šç•Œçš„æ•°å€¼ï¼Œæ­£ç¡®çš„åšæ³•å¦‚ä¸‹ï¼š 123456789101112// ä¿ç•™2ä½å°æ•°çš„å‡½æ•°float round_to_2_decimal(float value)&#123; // ä½¿ç”¨æ›´ç¨³å®šçš„èˆå…¥æ–¹æ³•ï¼Œé¿å…å¤§æ•°ç²¾åº¦é—®é¢˜ float temp = value * 100.0f; if(temp &gt;= 0.0f) &#123; temp = floorf(temp + 0.5f); &#125; else &#123; temp = ceilf(temp - 0.5f); &#125; return temp / 100.0f;&#125; æ€»ç»“ä¸ºäº†ç¨‹åºçš„å…¼å®¹æ€§å’Œè·¨å¹³å°ï¼Œå»ºè®®ç»Ÿä¸€ä½¿ç”¨stdint.hé‡Œè¾¹çš„ç±»å‹","tags":["DSP","LAUNCHXL-F28379D","int"],"categories":["åµŒå…¥å¼"]},{"title":"LAUNCHXL-F28379D SCIä¸­æ–­é…ç½®","path":"//launchxl-f28379d-sci-interrupt-fifo.html","content":"GPIOSCI GPIOæ˜ å°„ GPIO43åˆå§‹åŒ–ï¼šç”±CPU1æ§åˆ¶ã€å¤ç”¨ä¸ºSCIæ¥æ”¶å¼•è„šã€è¾“å…¥æ¨¡å¼ã€æ ‡å‡†æ¨æŒ½&#x2F;æµ®ç©ºé…ç½®ã€å¼‚æ­¥è¾“å…¥é™å®šæ¨¡å¼ 12345678//// GPIO43 is the SCI Rx pin.//GPIO_setMasterCore(43, GPIO_CORE_CPU1);GPIO_setPinConfig(GPIO_43_SCIRXDA);GPIO_setDirectionMode(43, GPIO_DIR_MODE_IN);GPIO_setPadConfig(43, GPIO_PIN_TYPE_STD);GPIO_setQualificationMode(43, GPIO_QUAL_ASYNC); GPIO42åˆå§‹åŒ–ï¼šç”±CPU1æ§åˆ¶ã€å¤ç”¨ä¸ºSCIå‘é€å¼•è„šã€è¾“å‡ºæ¨¡å¼ã€æ ‡å‡†æ¨æŒ½&#x2F;æµ®ç©ºé…ç½®ã€å¼‚æ­¥è¾“å‡ºé™å®šæ¨¡å¼ 12345678//// GPIO42 is the SCI Tx pin.//GPIO_setMasterCore(42, GPIO_CORE_CPU1);GPIO_setPinConfig(GPIO_42_SCITXDA);GPIO_setDirectionMode(42, GPIO_DIR_MODE_OUT);GPIO_setPadConfig(42, GPIO_PIN_TYPE_STD);GPIO_setQualificationMode(42, GPIO_QUAL_ASYNC); GPIOå‡½æ•°åŠŸèƒ½è¯´æ˜ å‡½æ•°å å‚æ•° è¿”å›å€¼ åŠŸèƒ½è¯´æ˜ GPIO_setMasterCore pin: uint32_t (GPIOå¼•è„šå·)core: GPIO_CoreSelect (æ§åˆ¶å™¨æ ¸å¿ƒ) void è®¾ç½®æŒ‡å®šGPIOå¼•è„šç”±å“ªä¸ªæ ¸å¿ƒæ§åˆ¶ã€‚coreå¯é€‰å€¼:- GPIO_CORE_CPU1- GPIO_CORE_CPU1_CLA1- GPIO_CORE_CPU2- GPIO_CORE_CPU2_CLA1 GPIO_setPinConfig pinConfig: uint32_t (å¼•è„šé…ç½®å€¼) void é…ç½®GPIOå¼•è„šçš„å¤šè·¯å¤ç”¨åŠŸèƒ½ï¼ˆé…ç½®å€¼åœ¨pin_map.hä¸­å®šä¹‰ï¼Œå¦‚GPIO_43_SCIRXDAï¼‰ GPIO_setDirectionMode pin: uint32_t (GPIOå¼•è„šå·)pinIO: GPIO_Direction (æ–¹å‘æ¨¡å¼) void è®¾ç½®GPIOå¼•è„šæ–¹å‘æ¨¡å¼ã€‚pinIOå¯é€‰å€¼:- GPIO_DIR_MODE_IN- GPIO_DIR_MODE_OUT GPIO_setPadConfig pin: uint32_t (GPIOå¼•è„šå·)pinType: uint32_t (å¼•è„šç±»å‹) void è®¾ç½®GPIOå¼•è„šçš„ç”µæ°”ç‰¹æ€§ã€‚pinTypeå¯é€‰å€¼:- GPIO_PIN_TYPE_STD- GPIO_PIN_TYPE_PULLUP- GPIO_PIN_TYPE_OD- GPIO_PIN_TYPE_INVERTï¼ˆå¯ç»„åˆä½¿ç”¨ï¼‰ GPIO_setQualificationMode pin: uint32_t (GPIOå¼•è„šå·)qualification: GPIO_QualificationMode void è®¾ç½®è¾“å…¥é™å®šæ¨¡å¼ã€‚qualificationå¯é€‰å€¼:- GPIO_QUAL_SYNC- GPIO_QUAL_3SAMPLE- GPIO_QUAL_6SAMPLE- GPIO_QUAL_ASYNC ä¸²å£ä¸²å£å‚æ•°é…ç½®ï¼š115200ã€8ã€1ã€Nï¼Œè¿™ä¸ªé…ç½®å¾ˆç®€å•ï¼Œä¸åšè¯¦ç»†ä»‹ç» 123456//// 8 char bits, 1 stop bit, no parity. Baud rate is 115200.//SCI_setConfig(SCIA_BASE, DEVICE_LSPCLK_FREQ, 115200, (SCI_CONFIG_WLEN_8 | SCI_CONFIG_STOP_ONE | SCI_CONFIG_PAR_NONE)); FIFOSCIA FIFOé…ç½® 12345678910111213141516SCI_enableModule(SCIA_BASE);SCI_resetChannels(SCIA_BASE);SCI_enableFIFO(SCIA_BASE);//// RX and TX FIFO Interrupts Enabled//SCI_enableInterrupt(SCIA_BASE, (SCI_INT_RXFF | SCI_INT_TXFF));SCI_disableInterrupt(SCIA_BASE, SCI_INT_RXERR);// Set FIFO interrupt levels to 32 charactersSCI_setFIFOInterruptLevel(SCIA_BASE, SCI_FIFO_TX16, SCI_FIFO_RX16);SCI_performSoftwareReset(SCIA_BASE);SCI_resetTxFIFO(SCIA_BASE);SCI_resetRxFIFO(SCIA_BASE); æšä¸¾ç±»å‹ SCI_TxFIFOLevel å®šä¹‰äº† SCIï¼ˆä¸²è¡Œé€šä¿¡æ¥å£ï¼‰æ¨¡å—å‘é€ FIFO çš„ä¸­æ–­è§¦å‘æ°´ä½çº¿çº§åˆ«ï¼Œç”¨äºé…ç½®ä½•æ—¶è§¦å‘å‘é€ FIFO ä¸­æ–­ æšä¸¾å€¼ å€¼ï¼ˆåå…­è¿›åˆ¶ï¼‰ å«ä¹‰ å…¸å‹åº”ç”¨åœºæ™¯ SCI_FIFO_TX0 0x0000 FIFO å®Œå…¨ç©ºæ—¶è§¦å‘ä¸­æ–­ é«˜å®æ—¶æ€§è¦æ±‚ï¼Œéœ€ç«‹å³è¡¥å……æ•°æ® SCI_FIFO_TX1 0x0001 FIFO å‰©ä½™ 15&#x2F;16 æ»¡ï¼ˆå³å·²å‘é€1ä¸ªå­—èŠ‚ï¼‰æ—¶è§¦å‘ ä½å»¶è¿Ÿä¼ è¾“ SCI_FIFO_TX2 0x0002 FIFO å‰©ä½™ 14&#x2F;16 æ»¡æ—¶è§¦å‘ â€¦ â€¦ â€¦ SCI_FIFO_TX15 0x000F FIFO å‰©ä½™ 1&#x2F;16 æ»¡ï¼ˆå³å·²å‘é€15ä¸ªå­—èŠ‚ï¼‰æ—¶è§¦å‘ å¹³è¡¡ä¸­æ–­é¢‘ç‡å’Œå“åº”é€Ÿåº¦ SCI_FIFO_TX16 0x0010 FIFO å®Œå…¨æ»¡æ—¶è§¦å‘ä¸­æ–­ é”™è¯¯æ£€æµ‹ï¼ˆé€šå¸¸é¿å…ä½¿ç”¨ï¼‰ FIFOé…ç½®æµç¨‹ï¼š SCI_enableModule(SCIA_BASE) ä½¿èƒ½SCIæ¨¡å— è¿™æ˜¯ä½¿ç”¨SCIé€šä¿¡çš„ç¬¬ä¸€æ­¥ï¼Œå¿…é¡»å…ˆä½¿èƒ½æ¨¡å—æ‰èƒ½è¿›è¡Œå…¶ä»–é…ç½® SCI_resetChannels(SCIA_BASE) å¤ä½SCIé€šé“ æ¸…é™¤æ‰€æœ‰é€šé“ç›¸å…³çš„é…ç½®å’ŒçŠ¶æ€ ç¡®ä¿ä»ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€å¼€å§‹é…ç½® SCI_enableFIFO(SCIA_BASE) ä½¿èƒ½SCIçš„FIFOåŠŸèƒ½ FIFO(First In First Out)ç¼“å†²åŒºå¯ä»¥æé«˜æ•°æ®ä¼ è¾“æ•ˆç‡ å…è®¸åœ¨å‘é€å’Œæ¥æ”¶æ—¶ç¼“å­˜å¤šä¸ªæ•°æ® SCI_enableInterrupt(SCIA_BASE, (SCI_INT_RXFF | SCI_INT_TXFF)) ä½¿èƒ½FIFOç›¸å…³çš„ä¸­æ–­ SCI_INT_RXFF: æ¥æ”¶FIFOä¸­æ–­ï¼Œå½“æ¥æ”¶FIFOè¾¾åˆ°è®¾å®šæ°´å¹³æ—¶è§¦å‘ SCI_INT_TXFF: å‘é€FIFOä¸­æ–­ï¼Œå½“å‘é€FIFOä½äºè®¾å®šæ°´å¹³æ—¶è§¦å‘ ä½¿ç”¨ä½æˆ–è¿ç®—(|)åŒæ—¶ä½¿èƒ½è¿™ä¸¤ä¸ªä¸­æ–­ SCI_disableInterrupt(SCIA_BASE, SCI_INT_RXERR) ç¦ç”¨æ¥æ”¶é”™è¯¯ä¸­æ–­ SCI_INT_RXERRåŒ…æ‹¬å¸§é”™è¯¯ã€æº¢å‡ºé”™è¯¯ç­‰ åœ¨è¿™ä¸ªä¾‹å­ä¸­ä¸éœ€è¦å¤„ç†è¿™äº›é”™è¯¯ SCI_setFIFOInterruptLevel(SCIA_BASE, SCI_FIFO_TX16, SCI_FIFO_RX16) è®¾ç½®FIFOä¸­æ–­è§¦å‘æ°´å¹³ SCI_FIFO_TX16: å½“å‘é€FIFOä¸­æ•°æ®å°‘äº16ä¸ªæ—¶è§¦å‘ä¸­æ–­ SCI_FIFO_RX16: å½“æ¥æ”¶FIFOä¸­æ•°æ®è¾¾åˆ°16ä¸ªæ—¶è§¦å‘ä¸­æ–­ è¿™äº›å€¼å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ï¼Œä»¥å¹³è¡¡å®æ—¶æ€§å’Œç³»ç»Ÿè´Ÿè½½ SCI_performSoftwareReset(SCIA_BASE) æ‰§è¡ŒSCIè½¯ä»¶å¤ä½ æ¸…é™¤æ‰€æœ‰é…ç½®å’ŒçŠ¶æ€ ç¡®ä¿ä¹‹å‰çš„é…ç½®å®Œå…¨ç”Ÿæ•ˆ SCI_resetTxFIFO(SCIA_BASE) å’Œ SCI_resetRxFIFO(SCIA_BASE) åˆ†åˆ«å¤ä½å‘é€å’Œæ¥æ”¶FIFO æ¸…ç©ºFIFOç¼“å†²åŒº ç¡®ä¿æ²¡æœ‰æ®‹ç•™çš„æ—§æ•°æ® ä¸­æ–­å‘é€å’Œæ¥æ”¶ä¸­æ–­æœåŠ¡å‡½æ•°ï¼šSCI_clearInterruptStatuså’ŒInterrupt_clearACKGroupä¸¤ä¸ªæ­¥éª¤æ˜¯å¿…è¦çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445//// sciaTXFIFOISR - SCIA Transmit FIFO ISR//__interrupt void sciaTXFIFOISR(void)&#123; SCI_clearInterruptStatus(SCIA_BASE, SCI_INT_TXFF); // // Issue PIE ACK // Interrupt_clearACKGroup(INTERRUPT_ACK_GROUP9);&#125;//// sciaRXFIFOISR - SCIA Receive FIFO ISR//__interrupt void sciaRXFIFOISR(void)&#123; uint16_t i; uint16_t rxCount; // Read received data rxCount = SCI_getRxFIFOStatus(SCIA_BASE) &amp; 0x7F; // Get number of words in RX FIFO if(rxCount &gt; 32) rxCount = 32; // Read all received data for(i = 0; i &lt; rxCount; i++) &#123; rDataA[i] = SCI_readCharNonBlocking(SCIA_BASE); &#125; // Echo back all received data for(i = 0; i &lt; rxCount; i++) &#123; SCI_writeCharNonBlocking(SCIA_BASE, rDataA[i]); &#125; SCI_clearOverflowStatus(SCIA_BASE); SCI_clearInterruptStatus(SCIA_BASE, SCI_INT_RXFF); // // Issue PIE ack // Interrupt_clearACKGroup(INTERRUPT_ACK_GROUP9);&#125; å‘é€å’Œæ¥æ”¶ä¸­æ–­ä½¿èƒ½ 12345678910111213141516171819202122//// Initialize PIE and clear PIE registers. Disables CPU interrupts.//Interrupt_initModule();//// Initialize the PIE vector table with pointers to the shell Interrupt// Service Routines (ISR).//Interrupt_initVectorTable();//// Interrupts that are used in this example are re-mapped to// ISR functions found within this file.//Interrupt_register(INT_SCIA_RX, sciaRXFIFOISR);Interrupt_register(INT_SCIA_TX, sciaTXFIFOISR); Interrupt_enable(INT_SCIA_RX);Interrupt_enable(INT_SCIA_TX);Interrupt_clearACKGroup(INTERRUPT_ACK_GROUP9); ç¬¬ä¸€æ¬¡å‘é€ä¼ è¾“æ—¶è®°å¾—æ‰‹åŠ¨ä½¿èƒ½ä¸­æ–­å‡½æ•° 1Interrupt_enable(INT_SCIA_TX); ä¸­æ–­çš„é…ç½®æµç¨‹ï¼š Interrupt_initModule() åˆå§‹åŒ–å¤–è®¾ä¸­æ–­æ‰©å±•æ¨¡å—(PIE) æ¸…é™¤æ‰€æœ‰PIEå¯„å­˜å™¨ ç¦ç”¨CPUä¸­æ–­ è¿™æ˜¯é…ç½®ä¸­æ–­ç³»ç»Ÿçš„ç¬¬ä¸€æ­¥ï¼Œç¡®ä¿ä»ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€å¼€å§‹ Interrupt_initVectorTable() åˆå§‹åŒ–PIEä¸­æ–­å‘é‡è¡¨ å°†å‘é‡è¡¨ä¸­çš„æ‰€æœ‰ä¸­æ–­å‘é‡æŒ‡å‘é»˜è®¤çš„ä¸­æ–­æœåŠ¡ç¨‹åº(ISR) è¿™ç¡®ä¿äº†å³ä½¿æœ‰æœªå¤„ç†çš„ä¸­æ–­ï¼Œç³»ç»Ÿä¹Ÿä¸ä¼šå´©æºƒ Interrupt_register(INT_SCIA_RX, sciaRXFIFOISR) å’Œ Interrupt_register(INT_SCIA_TX, sciaTXFIFOISR) å°†ç‰¹å®šçš„ä¸­æ–­ä¸å¯¹åº”çš„ä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆsciaRXFIFOISRå’ŒsciaTXFIFOISRï¼‰å…³è”èµ·æ¥ INT_SCIA_RX æ˜¯SCIæ¥æ”¶ä¸­æ–­ï¼Œå…³è”åˆ° sciaRXFIFOISR å‡½æ•° INT_SCIA_TX æ˜¯SCIå‘é€ä¸­æ–­ï¼Œå…³è”åˆ° sciaTXFIFOISR å‡½æ•° è¿™æ ·å½“è¿™äº›ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿå°±çŸ¥é“è¯¥è°ƒç”¨å“ªä¸ªå‡½æ•°æ¥å¤„ç† Interrupt_enable(INT_SCIA_RX) å’Œ Interrupt_enable(INT_SCIA_TX) å¯ç”¨ç‰¹å®šçš„ä¸­æ–­ ä½¿èƒ½SCIæ¥æ”¶å’Œå‘é€ä¸­æ–­ åªæœ‰è¢«ä½¿èƒ½çš„ä¸­æ–­æ‰ä¼šè§¦å‘å¯¹åº”çš„ISR Interrupt_clearACKGroup(INTERRUPT_ACK_GROUP9) æ¸…é™¤ä¸­æ–­ç¡®è®¤ç»„9çš„ä¸­æ–­æ ‡å¿— è¿™ç¡®ä¿ä¹‹å‰å¯èƒ½å­˜åœ¨çš„æœªå¤„ç†ä¸­æ–­ä¸ä¼šç«‹å³è§¦å‘ ä¸­æ–­ç»„9é€šå¸¸åŒ…å«SCIç›¸å…³çš„ä¸­æ–­ ç¬¬ä¸€æ¬¡å‘é€ä¼ è¾“éœ€è¦æ‰‹åŠ¨ä½¿èƒ½ä¸­æ–­æœåŠ¡å‡½æ•°ï¼Œå¦‚Interrupt_enable(INT_SCIA_TX) æ€»ç»“controlSuiteé‡Œè¾¹çš„SCI loopbackä¾‹ç¨‹ä¸å¤§é è°±ï¼Œå¯¼å…¥CCSé‡Œè¾¹åç¼–è¯‘ä¸æˆåŠŸï¼Œå³ä½¿ä½ æŠ˜è…¾å¥½è¿è¡Œä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ï¼Œå»ºè®®ä½¿ç”¨C2000é‡Œè¾¹çš„example","tags":["SCI","LAUNCHXL-F28379D","ä¸­æ–­","FIFO"],"categories":["åµŒå…¥å¼"]},{"title":"LMT86LPæ¨¡æ‹Ÿæ¸©åº¦ä¼ æ„Ÿå™¨","path":"//lmt86lp-temperature-sensor.html","content":"ä»‹ç»LMT86æ˜¯ç²¾å¯†çš„CMOSæ¸©åº¦ä¼ æ„Ÿå™¨ï¼Œå®ƒçš„å¤§è‡´å‚æ•°å¦‚ä¸‹ï¼š ç²¾åº¦ï¼šÂ±0.4è¯¯å·® èŒƒå›´ï¼š-50Â°C è‡³ 150Â°C å°è£…ï¼šTO-92S å¼•è„šï¼šVDDã€GNDã€OUT ä»·æ ¼ï¼š4RMB å‚å•†ï¼šå¾·å·ä»ªå™¨ ä¾›ç”µï¼š2.2V è‡³ 5.5V æ¨¡å—å¤–è§‚å¤§æ¦‚é•¿è¿™ä¹ˆæ · ç¡¬ä»¶VDDã€GNDã€OUTå¼•è„šè¿çº¿å‚è€ƒï¼Œç”µæºç«¯ï¼ˆVDDï¼‰åŠ å»è€¦ç”µå®¹ã€è¾“å‡ºç«¯ï¼ˆOUTï¼‰åŠ æ»¤æ³¢ç”µå®¹ è¿æ¥ADCé‡‡é›†æ¨¡æ‹Ÿé‡ å…³ç³»è¡¨æ¸©åº¦å€¼å’ŒVOUTçš„å¯¹åº”å…³ç³»ï¼ˆ-50è‡³149æ‘„æ°åº¦ï¼‰ æ¸©åº¦(Â°C) VOUT(mV) æ¸©åº¦(Â°C) VOUT(mV) æ¸©åº¦(Â°C) VOUT(mV) æ¸©åº¦(Â°C) VOUT(mV) æ¸©åº¦(Â°C) VOUT(mV) -50 2616 -10 2207 30 1777 70 1335 110 883 -49 2607 -9 2197 31 1766 71 1324 111 872 -48 2598 -8 2186 32 1756 72 1313 112 860 -47 2589 -7 2175 33 1745 73 1301 113 849 -46 2580 -6 2164 34 1734 74 1290 114 837 -45 2571 -5 2154 35 1723 75 1279 115 826 -44 2562 -4 2143 36 1712 76 1268 116 814 -43 2553 -3 2132 37 1701 77 1257 117 803 -42 2543 -2 2122 38 1690 78 1245 118 791 -41 2533 -1 2111 39 1679 79 1234 119 780 -40 2522 0 2100 40 1668 80 1223 120 769 -39 2512 1 2089 41 1657 81 1212 121 757 -38 2501 2 2079 42 1646 82 1201 122 745 -37 2491 3 2068 43 1635 83 1189 123 734 -36 2481 4 2057 44 1624 84 1178 124 722 -35 2470 5 2047 45 1613 85 1167 125 711 -34 2460 6 2036 46 1602 86 1155 126 699 -33 2449 7 2025 47 1591 87 1144 127 688 -32 2439 8 2014 48 1580 88 1133 128 676 -31 2429 9 2004 49 1569 89 1122 129 665 -30 2418 10 1993 50 1558 90 1110 130 653 -29 2408 11 1982 51 1547 91 1099 131 642 -28 2397 12 1971 52 1536 92 1088 132 630 -27 2387 13 1961 53 1525 93 1076 133 618 -26 2376 14 1950 54 1514 94 1065 134 607 -25 2366 15 1939 55 1503 95 1054 135 595 -24 2355 16 1928 56 1492 96 1042 136 584 -23 2345 17 1918 57 1481 97 1031 137 572 -22 2334 18 1907 58 1470 98 1020 138 560 -21 2324 19 1896 59 1459 99 1008 139 549 -20 2313 20 1885 60 1448 100 997 140 537 -19 2302 21 1874 61 1436 101 986 141 525 -18 2292 22 1864 62 1425 102 974 142 514 -17 2281 23 1853 63 1414 103 963 143 502 -16 2271 24 1842 64 1403 104 951 144 490 -15 2260 25 1831 65 1391 105 940 145 479 -14 2250 26 1820 66 1380 106 929 146 467 -13 2239 27 1810 67 1369 107 917 147 455 -12 2228 28 1799 68 1358 108 906 148 443 -11 2218 29 1788 69 1346 109 895 149 432 é©±åŠ¨ADCé…ç½®ï¼šåˆå§‹åŒ–ADC2ç”¨äºæ¸©åº¦ä¼ æ„Ÿå™¨è¯»å– 123456789101112131415161718192021222324252627282930313233343536373839404142434445void InitAdc2(void)&#123; extern void DSP28x_usDelay(Uint32 Count); // To powerup the ADC2 the ADC2ENCLK bit should be set first to enable // clocks, followed by powering up the bandgap, reference circuitry, and // ADC2 core. // Before the first conversion is performed a 5ms delay must be observed // after power up to give all analog circuits time to power up and settle // Please note that for the delay function below to operate correctly the // CPU_RATE define statement in the F28M35x_Examples.h file must // contain the correct CPU clock period in nanoseconds. EALLOW; Adc2Regs.ADCCTL1.bit.ADCBGPWD = 1; // Power ADC2 BG Adc2Regs.ADCCTL1.bit.ADCREFPWD = 1; // Power reference Adc2Regs.ADCCTL1.bit.ADCPWDN = 1; // Power ADC2 Adc2Regs.ADCCTL1.bit.ADCENABLE = 1; // Enable ADC2 Adc2Regs.ADCCTL1.bit.ADCREFSEL = 0; // Select interal BG EDIS; DELAY_US(ADC_usDELAY); // Delay before converting ADC2 channels&#125;void TempSensor_Init(void)&#123; EALLOW; // åˆå§‹åŒ–ADC2ï¼ˆå‡è®¾å·²æœ‰InitAdc2()å‡½æ•°ï¼‰ InitAdc2(); // é…ç½®ADC2 Adc2Regs.ADCCTL2.bit.ADCNONOVERLAP = 1; // å¯ç”¨éé‡å æ¨¡å¼ Adc2Regs.ADCCTL1.bit.INTPULSEPOS = 1; // ä¸­æ–­åœ¨ç»“æœé”å­˜åè§¦å‘ Adc2Regs.INTSEL1N2.bit.INT1E = 1; // å¯ç”¨ADCINT1 Adc2Regs.INTSEL1N2.bit.INT1CONT = 0; // ç¦ç”¨è¿ç»­æ¨¡å¼ Adc2Regs.INTSEL1N2.bit.INT1SEL = 0; // EOC0è§¦å‘ADCINT1 // é…ç½®SOC0 Adc2Regs.ADCSOC0CTL.bit.CHSEL = 0; // ADC2A0é€šé“ Adc2Regs.ADCSOC0CTL.bit.TRIGSEL = 0; // è½¯ä»¶è§¦å‘ Adc2Regs.ADCSOC0CTL.bit.ACQPS = 6; // é‡‡æ ·çª—å£7ä¸ªADCæ—¶é’Ÿå‘¨æœŸ EDIS;&#125; æ¸©åº¦ç”µå‹æ˜ å°„å…³ç³»æ•°ç»„ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546static const LMT86_LUT_Entry lmt86_lut[] = &#123; // è´Ÿæ¸©åº¦åŒº (-50Â°C åˆ° -1Â°C) &#123;-50, 2616&#125;, &#123;-49, 2607&#125;, &#123;-48, 2598&#125;, &#123;-47, 2589&#125;, &#123;-46, 2580&#125;, &#123;-45, 2571&#125;, &#123;-44, 2562&#125;, &#123;-43, 2553&#125;, &#123;-42, 2543&#125;, &#123;-41, 2533&#125;, &#123;-40, 2522&#125;, &#123;-39, 2512&#125;, &#123;-38, 2501&#125;, &#123;-37, 2491&#125;, &#123;-36, 2481&#125;, &#123;-35, 2470&#125;, &#123;-34, 2460&#125;, &#123;-33, 2449&#125;, &#123;-32, 2439&#125;, &#123;-31, 2429&#125;, &#123;-30, 2418&#125;, &#123;-29, 2408&#125;, &#123;-28, 2397&#125;, &#123;-27, 2387&#125;, &#123;-26, 2376&#125;, &#123;-25, 2366&#125;, &#123;-24, 2355&#125;, &#123;-23, 2345&#125;, &#123;-22, 2334&#125;, &#123;-21, 2324&#125;, &#123;-20, 2313&#125;, &#123;-19, 2302&#125;, &#123;-18, 2292&#125;, &#123;-17, 2281&#125;, &#123;-16, 2271&#125;, &#123;-15, 2260&#125;, &#123;-14, 2250&#125;, &#123;-13, 2239&#125;, &#123;-12, 2228&#125;, &#123;-11, 2218&#125;, &#123;-10, 2207&#125;, &#123;-9, 2197&#125;, &#123;-8, 2186&#125;, &#123;-7, 2175&#125;, &#123;-6, 2164&#125;, &#123;-5, 2154&#125;, &#123;-4, 2143&#125;, &#123;-3, 2132&#125;, &#123;-2, 2122&#125;, &#123;-1, 2111&#125;, // æ­£æ¸©åº¦åŒº (0Â°C åˆ° 150Â°C) &#123;0, 2100&#125;, &#123;1, 2089&#125;, &#123;2, 2079&#125;, &#123;3, 2068&#125;, &#123;4, 2057&#125;, &#123;5, 2047&#125;, &#123;6, 2036&#125;, &#123;7, 2025&#125;, &#123;8, 2014&#125;, &#123;9, 2004&#125;, &#123;10, 1993&#125;, &#123;11, 1982&#125;, &#123;12, 1971&#125;, &#123;13, 1961&#125;, &#123;14, 1950&#125;, &#123;15, 1939&#125;, &#123;16, 1928&#125;, &#123;17, 1918&#125;, &#123;18, 1907&#125;, &#123;19, 1896&#125;, &#123;20, 1885&#125;, &#123;21, 1874&#125;, &#123;22, 1864&#125;, &#123;23, 1853&#125;, &#123;24, 1842&#125;, &#123;25, 1831&#125;, &#123;26, 1820&#125;, &#123;27, 1810&#125;, &#123;28, 1799&#125;, &#123;29, 1788&#125;, &#123;30, 1777&#125;, &#123;31, 1766&#125;, &#123;32, 1756&#125;, &#123;33, 1745&#125;, &#123;34, 1734&#125;, &#123;35, 1723&#125;, &#123;36, 1712&#125;, &#123;37, 1701&#125;, &#123;38, 1690&#125;, &#123;39, 1679&#125;, &#123;40, 1668&#125;, &#123;41, 1657&#125;, &#123;42, 1646&#125;, &#123;43, 1635&#125;, &#123;44, 1624&#125;, &#123;45, 1613&#125;, &#123;46, 1602&#125;, &#123;47, 1591&#125;, &#123;48, 1580&#125;, &#123;49, 1569&#125;, &#123;50, 1558&#125;, &#123;51, 1547&#125;, &#123;52, 1536&#125;, &#123;53, 1525&#125;, &#123;54, 1514&#125;, &#123;55, 1503&#125;, &#123;56, 1492&#125;, &#123;57, 1481&#125;, &#123;58, 1470&#125;, &#123;59, 1459&#125;, &#123;60, 1448&#125;, &#123;61, 1436&#125;, &#123;62, 1425&#125;, &#123;63, 1414&#125;, &#123;64, 1403&#125;, &#123;65, 1391&#125;, &#123;66, 1380&#125;, &#123;67, 1369&#125;, &#123;68, 1358&#125;, &#123;69, 1346&#125;, &#123;70, 1335&#125;, &#123;71, 1324&#125;, &#123;72, 1313&#125;, &#123;73, 1301&#125;, &#123;74, 1290&#125;, &#123;75, 1279&#125;, &#123;76, 1268&#125;, &#123;77, 1257&#125;, &#123;78, 1245&#125;, &#123;79, 1234&#125;, &#123;80, 1223&#125;, &#123;81, 1212&#125;, &#123;82, 1201&#125;, &#123;83, 1189&#125;, &#123;84, 1178&#125;, &#123;85, 1167&#125;, &#123;86, 1155&#125;, &#123;87, 1144&#125;, &#123;88, 1133&#125;, &#123;89, 1122&#125;, &#123;90, 1110&#125;, &#123;91, 1099&#125;, &#123;92, 1088&#125;, &#123;93, 1076&#125;, &#123;94, 1065&#125;, &#123;95, 1054&#125;, &#123;96, 1042&#125;, &#123;97, 1031&#125;, &#123;98, 1020&#125;, &#123;99, 1008&#125;, &#123;100, 997&#125;, &#123;101, 986&#125;, &#123;102, 974&#125;, &#123;103, 963&#125;, &#123;104, 951&#125;, &#123;105, 940&#125;, &#123;106, 929&#125;, &#123;107, 917&#125;, &#123;108, 906&#125;, &#123;109, 895&#125;, &#123;110, 883&#125;, &#123;111, 872&#125;, &#123;112, 860&#125;, &#123;113, 849&#125;, &#123;114, 837&#125;, &#123;115, 826&#125;, &#123;116, 814&#125;, &#123;117, 803&#125;, &#123;118, 791&#125;, &#123;119, 780&#125;, &#123;120, 769&#125;, &#123;121, 757&#125;, &#123;122, 745&#125;, &#123;123, 734&#125;, &#123;124, 722&#125;, &#123;125, 711&#125;, &#123;126, 699&#125;, &#123;127, 688&#125;, &#123;128, 676&#125;, &#123;129, 665&#125;, &#123;130, 653&#125;, &#123;131, 642&#125;, &#123;132, 630&#125;, &#123;133, 618&#125;, &#123;134, 607&#125;, &#123;135, 595&#125;, &#123;136, 584&#125;, &#123;137, 572&#125;, &#123;138, 560&#125;, &#123;139, 549&#125;, &#123;140, 537&#125;, &#123;141, 525&#125;, &#123;142, 514&#125;, &#123;143, 502&#125;, &#123;144, 490&#125;, &#123;145, 479&#125;, &#123;146, 467&#125;, &#123;147, 455&#125;, &#123;148, 443&#125;, &#123;149, 432&#125;, &#123;150, 420&#125;&#125;; ä½¿ç”¨çº¿æ€§æ’å€¼è®¡ç®—æ¸©åº¦ 12345678910111213141516171819// ä½¿ç”¨çº¿æ€§æ’å€¼è®¡ç®—æ¸©åº¦static float VoltageToTemperature(float voltage_mV)&#123; Uint16 i; float slope; // è¾¹ç•Œæ£€æŸ¥ if (voltage_mV &gt;= lmt86_lut[0].voltage) return lmt86_lut[0].temp; if (voltage_mV &lt;= lmt86_lut[LMT86_LUT_SIZE-1].voltage) return lmt86_lut[LMT86_LUT_SIZE-1].temp; // çº¿æ€§æœç´¢(å®é™…ä½¿ç”¨æ—¶å»ºè®®æ”¹ä¸ºäºŒåˆ†æŸ¥æ‰¾) for (i=0; i&lt;LMT86_LUT_SIZE-1; i++) &#123; if (voltage_mV &lt;= lmt86_lut[i].voltage &amp;&amp; voltage_mV &gt;= lmt86_lut[i+1].voltage) &#123; // çº¿æ€§æ’å€¼ slope = (lmt86_lut[i+1].temp - lmt86_lut[i].temp) / (float)(lmt86_lut[i+1].voltage - lmt86_lut[i].voltage); return lmt86_lut[i].temp + slope * (voltage_mV - lmt86_lut[i].voltage); &#125; &#125; return 0.0f; // ä¸åº”æ‰§è¡Œåˆ°æ­¤å¤„&#125; è¯»å–å½“å‰æ¸©åº¦(Â°C) 123456// è¯»å–å½“å‰æ¸©åº¦(Â°C)float TempSensor_ReadTemperature(Uint16 adcValue)&#123; float voltage_mV = ADC_ToVoltage(adcValue); return VoltageToTemperature(voltage_mV);&#125;","tags":["ä¼ æ„Ÿå™¨","ADC"],"categories":["åµŒå…¥å¼"]},{"title":"å¼€å‘æ–‡æ¡£é‚£äº›äº‹å„¿","path":"//document-stuff.html","content":"è½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦é˜¶æ®µï¼šé¡¹ç›®ç«‹é¡¹åˆæœŸ ä½œç”¨ï¼šæ”¶é›†ç”¨æˆ·éœ€æ±‚ï¼Œå°†éœ€æ±‚è½¬åŒ–ä¸ºå¯å®ç°çš„ä½œç”¨éœ€æ±‚ï¼Œä¸ºå¼€å‘æä¾›äº§å“åŸå‹ å¯è§ï¼šå†…éƒ¨å…¬å¼€ï¼Œè¿™ä¸ªæ–‡æ¡£ä¸€èˆ¬ç”±äº§å“äººå‘˜ï¼ˆå‰ç«¯FAEï¼‰ä¸»å¯¼ï¼Œé¡¹ç›®ç›¸å…³äººå‘˜è¯„å®¡ è¾“å…¥ï¼šFAEå‰ç«¯çš„éœ€æ±‚æè¿° ç³»ç»Ÿæ¦‚è¦è®¾è®¡é˜¶æ®µï¼šç¨‹åºå¼€å‘åˆæœŸ ä½œç”¨ï¼šæä¾›ä¸€ä¸ªæ¦‚æ‹¬æ€§çš„è½¯ç¡¬ä»¶ã€æœºæ¢°ç³»ç»Ÿè“å›¾ï¼Œé‡Œè¾¹æè¿°ç¡¬ä»¶éœ€è¦ä»€ä¹ˆæ¿å¡ï¼ˆé‡‡é›†ã€å¤„ç†ã€æ§åˆ¶ç­‰ï¼‰ã€è½¯ä»¶åˆ’åˆ†ä¸ºå¤šå°‘ä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆåµŒå…¥å¼è½¯ä»¶ã€ä¸Šä½æœºè½¯ä»¶ã€webæœåŠ¡å™¨ã€é©±åŠ¨å¼€å‘ç­‰ç­‰ï¼‰ï¼Œéœ€è¦è¾¾åˆ°ä»€ä¹ˆæ ‡å‡†ï¼Œæ•´ä¸ªè½¯ç¡¬ä»¶ç³»ç»Ÿçš„å¤§è‡´å·¥ä½œæµç¨‹ã€è¾“å…¥è¾“å‡º å¯è§ï¼šå†…éƒ¨å…¬å¼€ï¼Œè¿™ä¸ªæ–‡æ¡£ä¸€èˆ¬ç”±ç³»ç»Ÿå·¥ç¨‹å¸ˆï¼ˆæ¶æ„å¸ˆï¼‰ä¸»å¯¼å’Œè®¾è®¡ï¼Œè½¯ç¡¬ä»¶å¼€å‘äººå‘˜è¿›è¡Œè¯„å®¡ è¾“å…¥ï¼šè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦ã€ä¸“å®¶ï¼ˆæ¶æ„å¸ˆï¼‰åˆ¤æ–­ã€å·²æœ‰çš„äº§å“æ–‡æ¡£èµ„äº§ è½¯ä»¶è¯¦ç»†è®¾è®¡æ–‡æ¡£é˜¶æ®µï¼šç¨‹åºå¼€å‘åˆæœŸ ä½œç”¨ï¼šå¯¹ç³»ç»Ÿæ¦‚è¦è®¾è®¡é‡Œè¾¹æè¿°çš„è½¯ä»¶æ¨¡å—ï¼ˆå­ç³»ç»Ÿï¼‰è¿›è¡Œè¯¦ç»†åœ°è®¾è®¡ â€“&gt; åŒ…æ‹¬ç”¨ä»€ä¹ˆåº“ã€ä»€ä¹ˆé€šä¿¡åè®®ã€è¾“å…¥è¾“å‡ºã€å·¥ä½œæµç¨‹ç­‰ å¯è§ï¼šå†…éƒ¨å…¬å¼€ï¼Œè¿™ä¸ªæ–‡æ¡£ä¸€èˆ¬ç”±ä¸åŒèŒè´£åœ°è½¯ä»¶å·¥ç¨‹å¸ˆè®¾è®¡ï¼Œæœ€ç»ˆæ±‡æ€»æˆä¸€ä»½è¯¦ç»†åœ°æ–‡æ¡£æˆ–è€…å¤šä»½ è¾“å…¥ï¼šè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦ &#x2F; ç³»ç»Ÿæ¦‚è¦è®¾è®¡ã€ä¸“å®¶ï¼ˆæ¶æ„å¸ˆï¼‰åˆ¤æ–­ã€å·²æœ‰çš„äº§å“æ–‡æ¡£èµ„äº§ã€å·¥ç¨‹å¸ˆå¼€å‘ç»éªŒ æµ‹è¯•æ–‡æ¡£é˜¶æ®µï¼šè½¯ä»¶å‘ç‰ˆæœ¬ç»™æµ‹è¯•ï¼Œèµ°æµ‹è¯•æµç¨‹ ä½œç”¨ï¼šä¸ºæµ‹è¯•æä¾›è®¾è®¡çš„çº¦æŸ &#x2F; å‚è€ƒï¼Œå°±æ˜¯å‘Šè¯‰æµ‹è¯•äººå‘˜ï¼Œå“ªäº›è¡Œä¸ºæ˜¯æ­£ç¡®çš„ï¼Œé¢„æœŸçš„æ•ˆæœæ˜¯æ€ä¹ˆæ ·çš„ï¼Œè¦è¾¾åˆ°ä»€ä¹ˆæ ·çš„æ€§èƒ½è¦æ±‚ï¼Œå¯ä»¥æ ¹æ®è½¯ä»¶çš„åŠŸèƒ½æ¨¡å—æ¥åˆ’åˆ†æµ‹è¯•å·¥ä½œï¼Œå¦‚ï¼šé‡‡é›†æ¨¡å—ã€åˆ†ææ¨¡å—ã€æ˜¾ç¤ºæ¨¡å— â€¦â€¦ å¯è§ï¼šå†…éƒ¨å…¬å¼€ï¼Œä¸€èˆ¬ç”±è½¯ä»¶å­¦ç§‘ä»£è¡¨å½¢æˆåˆç¨¿ç»™åˆ°æµ‹è¯•äººå‘˜ï¼Œæµ‹è¯•äººå‘˜å†å½¢æˆè‡ªå·±åœ°æµ‹è¯•æ–¹æ¡ˆ è¾“å…¥ï¼šè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦ &#x2F; ç³»ç»Ÿæ¦‚è¦è®¾è®¡ ç”¨æˆ·æ‰‹å†Œé˜¶æ®µï¼šäº§å“å·²ç»å°æ‰¹é‡æˆ–è€…å¤§è§„æ¨¡äº¤ä»˜å®¢æˆ·ä½¿ç”¨ï¼Œè¿™æ—¶å€™äº§å“çš„è½¯ä»¶åŠŸèƒ½å·²ç»æ¯”è¾ƒç¨³å®šï¼ˆä¸ä¼šæœ‰å¤§èŒƒå›´å˜æ›´ï¼‰ ä½œç”¨ï¼šä¸ºæµ‹è¯•æä¾›è®¾è®¡çš„çº¦æŸ &#x2F; å‚è€ƒï¼Œå°±æ˜¯å‘Šè¯‰æµ‹è¯•äººå‘˜ï¼Œå“ªäº›è¡Œä¸ºæ˜¯æ­£ç¡®çš„ï¼Œé¢„æœŸçš„æ•ˆæœæ˜¯æ€ä¹ˆæ ·çš„ï¼Œè¦è¾¾åˆ°ä»€ä¹ˆæ ·çš„æ€§èƒ½è¦æ±‚ï¼Œå¯ä»¥æ ¹æ®è½¯ä»¶çš„åŠŸèƒ½æ¨¡å—æ¥åˆ’åˆ†æµ‹è¯•å·¥ä½œï¼Œå¦‚ï¼šé‡‡é›†æ¨¡å—ã€åˆ†ææ¨¡å—ã€æ˜¾ç¤ºæ¨¡å— â€¦â€¦ å¯è§ï¼šå¤–éƒ¨å¯è§ï¼Œäº§å“äººå‘˜ï¼ˆæ‰‹å†Œå·¥ç¨‹å¸ˆï¼‰å½¢æˆï¼Œå®¢æˆ·èƒ½é€šè¿‡è¿™ä¸ªæ–‡æ¡£ç†Ÿæ‚‰äº§å“çš„åŠŸèƒ½ è¾“å…¥ï¼šè½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦ã€è½¯ä»¶è¯¦ç»†è®¾è®¡æ–‡æ¡£","tags":["æ–‡æ¡£"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ç•ªèŒ„å·¥ä½œæ³•ã€Pomodoro Techniqueã€","path":"//pomodoro-technique.html","content":"å‰è¨€ç•ªèŒ„å·¥ä½œæ³•æ˜¯ä¸€ç§æ—¶é—´ç®¡ç†çš„æ–¹æ³•è®ºï¼Œå¦‚æœä½ ç»å¸¸æœ‰å¾ˆå¤šäº‹æƒ…æƒ³åšï¼Œå®ç°èµ·æ¥åˆå¾ˆæ··ä¹±ã€ä¸çŸ¥æ‰€æªï¼Œé‚£ä¹ˆä½ éœ€è¦æœ‰è¿™æ ·çš„ä¸€ç§æœºåˆ¶æ¥ç®¡ç†ä½ çš„æ—¶é—´ï¼ˆç”Ÿå‘½ï¼‰ ä»‹ç»ç•ªèŒ„å·¥ä½œæ³•ï¼ˆPomodoro Techniqueï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ—¶é—´ç®¡ç†æ–¹æ³•ï¼Œç”±å¼—æœ—è¥¿æ–¯ç§‘Â·è¥¿é‡Œæ´›äº1992å¹´åˆ›ç«‹ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯æ³¨é‡çŸ­æ—¶é—´çš„æŠ•å…¥æ¢å–é«˜æ•ˆçš„äº§å‡º å®è·µå¾…åŠæ¸…å• æŠŠä¸€å¤©æˆ–è€…ä¸€ä¸ªä¸Šåˆ&#x2F;ä¸‹åˆè¦åšçš„äº‹æƒ…åšä¸ªç»Ÿè®¡åˆ—è¡¨ï¼Œå°½é‡åˆ†å‰²æˆæœ€å°æˆæœäº§å‡ºå•å…ƒï¼ˆå·¥ä½œåŒ…ï¼‰ï¼Œä¸è¦ä¾èµ–å¤ªå¤šçš„å‰ç½®æ¡ä»¶ï¼Œå¦åˆ™ä½ å¾ˆéš¾å®Œæˆ åºå· å¾…åŠäº‹é¡¹ å¤‡æ³¨ 1 ç»Ÿè®¡xxxé¡¹ç›®éœ€è¦é‡‡è´­å“ªäº›ç¡¬ä»¶ã€è½¯ä»¶ã€æœºæ¢°éƒ¨ä»¶ï¼Œæ•´ç†æ–‡æ¡£äº¤ç»™é‡‡è´­ é‡‡è´­ 2 æ•´ç†xxxé¡¹ç›®äº§å“åŸå‹æ–‡æ¡£ äº§å“ 3 ç¼–å†™æŒ‰é”®æ¿é©±åŠ¨ ç¼–ç  4 ç§»æ¤è§¦æ‘¸å±é©±åŠ¨ ç¼–ç  5 æµ‹è¯•RK3588å¹³æ¿çš„è¾“å…¥åŠŸèƒ½ï¼ˆæŒ‰é”®æ¿ã€è§¦æ‘¸å±ï¼‰ æµ‹è¯• 6 ç¼–å†™OTAå‡çº§ç¨‹åº ç¼–ç  ä¸€ä¸ªç•ªèŒ„ 25-30åˆ†é’Ÿè®¾å®šä¸ºä¸€ä¸ªç•ªèŒ„æ—¶é—´ï¼ŒæœŸé—´ä½ è¦ä¸“æ³¨åœ°åšè‡ªå·±çš„äº‹æƒ…ï¼Œé¿å…ä»»ä½•äº‹æƒ…çš„æ‰“æ‰°ï¼Œå°½é‡åŠ³æœ‰æ‰€è· ä¼‘æ¯æ—¶é—´ æ§åˆ¶åœ¨5-15åˆ†é’Ÿï¼Œä½ å¯ä»¥ä¸Šå•æ‰€ã€æ³¡å£¶èŒ¶ã€æ‰“ç”µè¯ã€åšä¸‹å¥èº«æ“ï¼›å¦‚æœä½ å¾ˆç´¯ï¼ˆæ²¡æœ‰äº§å‡ºï¼‰ï¼Œå»èŒ¶æ°´é—´å†¥æƒ³æˆ–è€…é¢å£éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹© å¥½ç•ªèŒ„ å¥½ç•ªèŒ„çš„ç‰¹ç‚¹ï¼š æ²¡æœ‰æ‰“æ‰°ï¼Œæœ‰äº§å‡ºæœ‰æˆæœï¼ä½ å¾ˆä¸“æ³¨ï¼Œè‡ªæˆ‘æ„Ÿè§‰å¾ˆå¥½ ä¸æ²‰è¿·ã€ä¸ç•™æ‹ï¼Œå³ä¾¿ä½ å¤šä¹ˆæƒ³ç»§ç»­å¹²ä¸‹å»ï¼Œä½ éƒ½è¦åœä¸‹æ¥ä¼‘æ¯ï¼Œä¸ºä¸‹ä¸€ä¸ªç•ªèŒ„åšå‡†å¤‡ ä¸åšä»»ä½•ä¸å½“å‰ä»»åŠ¡æ— å…³çš„äº‹æƒ…ï¼ çƒ‚ç•ªèŒ„ çƒ‚ç•ªèŒ„çš„ç‰¹ç‚¹ï¼š ç›å¾·ï¼ŒåˆåšæŒä¸ä¸‹å»äº†ï¼Œæˆ‘çœŸæ˜¯ä¸ªå‚»é€¼ï¼ åˆæœ‰å‚»é€¼æ¥æ‰“æ‰°æˆ‘äº†ï¼ è¿·æ‹åœ¨ä»»åŠ¡å½“ä¸­æ— æ³•è‡ªæ‹” ç»Ÿè®¡æ¯æ—¥éƒ½è¦åšå¤ç›˜ï¼Œçœ‹çœ‹ä»»åŠ¡çš„è¾¾æˆç‡ å»ºè®®å¤‡æ³¨ä¸€ä¸‹ç•ªèŒ„çš„çŠ¶æ€ï¼ˆæˆåŠŸã€å¤±è´¥ã€å®Œæˆã€æœªå®Œæˆï¼‰å’Œæœ‰å¤±è´¥çš„ç†ç”±ï¼ˆè¯´æ˜ï¼‰ åºå· å¾…åŠäº‹é¡¹ å¤‡æ³¨ çŠ¶æ€ è¯´æ˜ 1 ç»Ÿè®¡xxxé¡¹ç›®éœ€è¦é‡‡è´­å“ªäº›ç¡¬ä»¶ã€è½¯ä»¶ã€æœºæ¢°éƒ¨ä»¶ï¼Œæ•´ç†æ–‡æ¡£äº¤ç»™é‡‡è´­ é‡‡è´­ å·²å®Œæˆ å·²ç»äº¤ä»˜é‡‡è´­ 2 æ•´ç†xxxé¡¹ç›®äº§å“åŸå‹æ–‡æ¡£ äº§å“ å·²å®Œæˆ å·²ç»æ•´ç†å¥½æ–‡æ¡£ 3 ç¼–å†™æŒ‰é”®æ¿é©±åŠ¨ ç¼–ç  æœªå®Œæˆ è‚šå­ç–¼ï¼Œä¸Šäº†è¶Ÿæµ‹è¯•ï¼Œçœ‹åŒ»ç”Ÿäº† 4 ç§»æ¤è§¦æ‘¸å±é©±åŠ¨ ç¼–ç  æœªå®Œæˆ è®¡åˆ’è€½æ 5 æµ‹è¯•RK3588å¹³æ¿çš„è¾“å…¥åŠŸèƒ½ï¼ˆæŒ‰é”®æ¿ã€è§¦æ‘¸å±ï¼‰ æµ‹è¯• æœªå®Œæˆ è®¡åˆ’è€½æ 6 ç¼–å†™OTAå‡çº§ç¨‹åº ç¼–ç  å¤±è´¥ wifiåŠŸèƒ½æ²¡å¥½ï¼Œæ²¡æœ‰ç½‘ç»œç¯å¢ƒ æ€»ç»“ç”Ÿå‘½å¾ˆå®è´µï¼Œæ¯ä¸ªäººéƒ½åªæœ‰ä¸€æ¬¡æœºä¼šï¼Œå°½é‡åˆ«æµªè´¹è‡ªå·±çš„æ—¶é—´ï¼Œä½ ä¸èƒ½åœ¨è™šåº¦å…‰é˜´ä¹‹åæ‰æƒ³èµ·æ—¶é—´å¾ˆå®è´µï¼›å› æ­¤ï¼Œè¦ç¡®ä¿æ—¶é—´ç®¡ç†çš„æ–¹æ³•è®ºé«˜æ•ˆæ‰§è¡Œï¼è¯·æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š ä¿æŒä¸“æ³¨ï¼ˆä¸»äººç¿ç²¾ç¥ï¼‰ æŠŠæ¡å¥½ä»»åŠ¡çš„é¢—ç²’åº¦ï¼ˆå¦‚æœä½ çš„ç•ªèŒ„æ²¡æœ‰äº§å‡ºçš„è¯ï¼Œæˆ‘è§‰å¾—å¤šå°‘æœ‰ç‚¹ä¸å¤§åˆç†ï¼Œä¸ªäººè§è§£ï¼‰ ä¼‘æ¯å……åˆ†ï¼ˆåŠ³é€¸ç»“åˆï¼‰","tags":["é«˜æ•ˆåŠå…¬"],"categories":["æ–¹æ³•è®º"]},{"title":"VS2019ç¦»çº¿å®‰è£…é•œåƒåˆ¶ä½œ","path":"//vs2019-offline-iso.html","content":"å‰è¨€ç°åœ¨VSï¼ˆVisual Studioï¼‰é»˜è®¤éƒ½æ˜¯åœ¨çº¿å®‰è£…çš„æ–¹å¼ï¼Œè™½ç„¶æ˜¯æ–¹ä¾¿ã€ç®€å•äº†å¾ˆå¤šï¼Œä½†å¯¹äºä¸€äº›å°é—­çš„å±€åŸŸç½‘ç¯å¢ƒæä¸ºä¸å‹å¥½ï¼ˆè‡³äºä¸ºä»€ä¹ˆè¦ç”¨å±€åŸŸç½‘è¿™ä¸ªå¾ˆéš¾è®²å¾—æ¸…æ¥šï¼‰ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ç¦»çº¿åŒ…å¦‚ä½•åˆ¶ä½œ ä»‹ç»Visual Studioæ˜¯å¾®è½¯å‡ºå“çš„ä¸€æ¬¾å¼ºå¤§çš„IDEï¼Œå¯ä»¥å¼€å‘cã€c++ã€c#ã€pythonç­‰å„ç§è¯­è¨€çš„å„ç±»åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬æ¡Œé¢ç¨‹åºã€WEBã€ç§»åŠ¨ç«¯appã€æ¸¸æˆã€ç”šè‡³æ˜¯PLCï¼ˆè¢«Windowsç¨‹åºå‘˜æˆç§°ä¸ºå…¨å®¶æ¡¶ã€å®‡å®™ç¬¬ä¸€IDEï¼‰ï¼›å¾®è½¯æä¾›äº†æä¸ºæ–¹ä¾¿çš„å¼€å‘å·¥å…·ï¼ˆç¼–è¾‘å™¨ã€è°ƒè¯•å™¨ã€å†…å­˜åˆ†æå·¥å…·ç­‰ï¼‰ï¼Œä½¿ç”¨å®ƒä½ å¯ä»¥å¾ˆå¿«é€Ÿçš„è¿›è¡Œç¼–ç ã€æµ‹è¯•ã€éƒ¨ç½²å·¥ä½œ ä¸‹è½½é“¾æ¥ä»¥Windows10ä¸ºä¾‹ï¼Œå…ˆæ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œé€‰æ‹©ç¤¾åŒºç‰ˆ ç¤¾åŒºç‰ˆï¼šThank You for Downloading Visual Studio Community Edition (microsoft.com) ä¸“ä¸šç‰ˆï¼šThank You for Downloading Visual Studio Professional Edition (microsoft.com) ä¼ä¸šç‰ˆï¼šThank You for Downloading Visual Studio Enterprise Edition (microsoft.com) åˆ¶ä½œç¦»çº¿åŒ…åœ¨æ‰“å¼€çš„cmdå‘½ä»¤è¡Œä¸­è¾“å…¥å‘½ä»¤ï¼Œå®‰è£…C++çš„æ¡Œé¢å¼€å‘ç¯å¢ƒï¼ˆWindows10 SDKï¼‰çš„å‘½ä»¤ç¤ºä¾‹ï¼š 1vs_Community.exe --layout &quot;C:\\vs2019&quot; --add Microsoft.VisualStudio.Workload.NativeDesktop --includeRecommended --lang zh-CN å‚æ•°--layoutç”¨äºæŒ‡å®šVisual Studioèµ„æºæ–‡ä»¶å­˜æ”¾è·¯å¾„ 1--layout &quot;C:\\vs2019&quot; å‚æ•°--addç”¨äºå¢åŠ æŒ‡å®šIDçš„ç»„ä»¶ï¼ŒæŒ‡ä»¤IDä»£è¡¨çš„ç»„ä»¶å«ä¹‰å¦‚ä¸‹ åºå· ID ç»„ä»¶ å«ä¹‰ 1 Microsoft.VisualStudio.Workload.Azure Azure å¼€å‘ ä½¿ç”¨ .NET å’Œ .NET Framework å¼€å‘äº‘åº”ç”¨å’Œåˆ›å»ºèµ„æºçš„ Azure SDKã€å·¥å…·å’Œé¡¹ç›®ã€‚ è¿˜åŒ…æ‹¬ç”¨äºå®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼ŒåŒ…æ‹¬ Docker æ”¯æŒ 2 Microsoft.VisualStudio.Workload.Data æ•°æ®å­˜å‚¨å’Œå¤„ç† ä½¿ç”¨ SQL Serverã€Azure Data Lake æˆ– Hadoop è¿æ¥ã€å¼€å‘å’Œæµ‹è¯•æ•°æ®è§£å†³æ–¹æ¡ˆ 3 Microsoft.VisualStudio.Workload.DataScience æ•°æ®ç§‘å­¦å’Œåˆ†æåº”ç”¨ç¨‹åº ç”¨äºåˆ›å»ºæ•°æ®ç§‘å­¦åº”ç”¨ç¨‹åºçš„è¯­è¨€å’Œå·¥å…·ï¼ŒåŒ…æ‹¬ Python å’Œ F# 4 Microsoft.VisualStudio.Workload.NativeDesktop .NET æ¡Œé¢å¼€å‘ å°† C#ã€Visual Basic å’Œ F# ä¸ .NET å’Œ NET Framework ä¸€èµ·ä½¿ç”¨ï¼Œç”Ÿæˆ WPFã€Windows çª—ä½“å’Œæ§åˆ¶å°åº”ç”¨ç¨‹åº 5 Microsoft.VisualStudio.Workload.ManagedGame ä½¿ç”¨ Unity çš„æ¸¸æˆå¼€å‘ ä½¿ç”¨ Unityï¼ˆåŠŸèƒ½å¼ºå¤§çš„è·¨å¹³å°å¼€å‘ç¯å¢ƒï¼‰åˆ›å»º 2D å’Œ 3D æ¸¸æˆ 6 Microsoft.VisualStudio.Workload.NativeCrossPlat ä½¿ç”¨ C++ çš„ Linux å¼€å‘ åˆ›å»ºå’Œè°ƒè¯•åœ¨ Linux ç¯å¢ƒä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åº 7 Microsoft.VisualStudio.Workload.NativeDesktop ä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘ ä½¿ç”¨æ‰€é€‰å·¥å…·ï¼ˆåŒ…æ‹¬ MSVCã€Clangã€CMake æˆ– MSBuildï¼‰ç”Ÿæˆé€‚ç”¨äº Windows çš„æ–°å¼ C++ åº”ç”¨ å‚æ•°--includeRecommendedæŒ‡å®šå·¥ä½œè´Ÿè½½çš„ç»„ä»¶é…ç½®ï¼Œä»¥ä¸‹æ˜¯å¾®è½¯å®˜ç½‘çš„è§£æ å‚æ•°--langç”¨äºæŒ‡å®šVisual Studioçš„å®‰è£…è¯­è¨€ï¼Œæˆ‘è¿™é‡Œé€‰ä¸­å›½æ±‰è¯­ 1--lang zh-CN å…ˆä¸‹è½½Installerçš„ç»„ä»¶ æ¥ä¸‹æ¥ä¸‹è½½å„ä¸ªç»„ä»¶åŒ…ï¼Œä¸‹è½½é€Ÿåº¦è´¼æ…¢ï¼Œéœ€è¦è€å¿ƒç­‰å¾… å®‰è£…å®Œæˆ åˆ¶ä½œisoï¼Œæ¨èä½¿ç”¨UltraISOè½¯ç¢Ÿé€šè¿›è¡Œå‹ç¼© è£…è½½å…‰ç›˜é•œåƒåä½“ç§¯å¤§æ¦‚æœ‰2.39Gï¼Œè¿™æ ·åé¢ä½ å°±å¯ä»¥æ‹¿è¿™ä¸ªå®‰è£…åŒ…å»åˆ«çš„æœºå™¨åšè‡ªåŠ¨åŒ–éƒ¨ç½²äº†ï¼ˆä¸‹é¢è¿™å°æœºå™¨æ˜¯å€ç¦çš„å·¥æ§æœºIPC-Windows10ï¼‰ å‚è€ƒVisual Studio Community å·¥ä½œè´Ÿè½½å’Œç»„ä»¶ ID | Microsoft Learn","tags":["VS2019","ISO"],"categories":["å¼€å‘å·¥å…·"]},{"title":"è½¯ä»¶é¡¹ç›®éœ€æ±‚è¯´æ˜ä¹¦ç®€è¦æ¨¡æ¿","path":"//software-project-requirements-specification.html","content":"å¼•è¨€ç¼–å†™ç›®çš„ä¸Šä½æœºè½¯ä»¶å¯æä¾›çš„åŠŸèƒ½ï¼š åŠŸèƒ½ç‚¹1ï¼šâ€¦â€¦ åŠŸèƒ½ç‚¹2ï¼šâ€¦â€¦ åŠŸèƒ½ç‚¹3ï¼šâ€¦â€¦ æœ¬æ–‡æ¡£æ¶‰åŠåˆ°çš„ç”¨æˆ·è§’è‰²æœ‰ï¼š æ¨¡å—è´Ÿè´£äºº é¡¹ç›®è´Ÿè´£äºº å¼€å‘å°ç»„è´Ÿè´£äºº æµ‹è¯•äººå‘˜ æœ¬è¯´æ˜ä¹¦æ˜¯xxxè½¯ä»¶å¼€å‘çš„æ”¶æ®ï¼Œå¯¹åç»­è½¯ä»¶å¼€å‘èµ·æŒ‡å¯¼ä½œç”¨ï¼Œä¹Ÿæ˜¯é¡¹ç›®æµ‹è¯•å’ŒéªŒæ”¶çš„ä¾æ® èŒƒå›´æœ¬è¯´æ˜ä¹¦æè¿°äº†è½¯ä»¶é¡¹ç›®çš„å¼€å‘èƒŒæ™¯ã€ç”¨é€”ã€ç›¸å…³äººå‘˜åŠæµ‹è¯•éªŒæ”¶æ ‡å‡†ï¼ˆè¾“å‡ºç‰©å¯ä»¥æ˜¯è½¯ä»¶åŒ…ã€æ–‡æ¡£ã€ä»£ç ç­‰ï¼‰ éªŒæ”¶æ ‡å‡†1ï¼šâ€¦â€¦ éªŒæ”¶æ ‡å‡†2ï¼šâ€¦â€¦ éªŒæ”¶æ ‡å‡†3ï¼šâ€¦â€¦ å®šä¹‰å…³é”®æœ¯è¯­çš„å®šä¹‰ xxxï¼šxxxæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„åŠŸèƒ½â€¦â€¦ yyyï¼šyyyæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„åŠŸèƒ½â€¦â€¦ é¡¹ç›®æ¦‚è¿°äº§å“æè¿°æ¦‚æ‹¬æè¿°ä¸šåŠ¡åœºæ™¯ã€äº§å“çš„å¤§è‡´åŠŸèƒ½ â€¦â€¦. äº§å“åŠŸèƒ½å±•å¼€è¯´æ˜è½¯ä»¶äº§å“çš„åŠŸèƒ½ xxx yyy zzz ç”¨æˆ·ç‰¹ç‚¹æœ¬è½¯ä»¶çš„ç”¨æˆ·ç±»å‹å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š xxx yyy zzz å…·ä½“éœ€æ±‚åŠŸèƒ½éœ€æ±‚ xxx yyy zzz è®¾è®¡çº¦æŸ xxx yyy zzz å±æ€§å¯ç”¨æ€§ xxx yyy zzz å®‰å…¨æ€§ xxx yyy zzz å¯ç»´æŠ¤æ€§ xxx yyy zzz å¯æ‰©å±•æ€§ xxx yyy zzz æµ‹è¯•ç›¸å…³é»‘ç›’æµ‹è¯• å„ä¸ªå­ç³»ç»ŸåŠŸèƒ½å®Œæ•´æ€§æµ‹è¯• è¾“å…¥è¾“å‡ºæ˜¯å¦ç¬¦åˆä¸šåŠ¡åœºæ™¯ ç™½ç›’æµ‹è¯• ä»£ç æ¸¸èµ°å®¡æŸ¥ å•å…ƒæµ‹è¯•","tags":["è½¯ä»¶","éœ€æ±‚è¯´æ˜ä¹¦"],"categories":["æ–¹æ³•è®º"]},{"title":"å¼€æºé¸¿è’™å¼€å‘è€…å¤§ä¼š2025","path":"//openharmony-developer-sumit2025.html","content":"5æœˆ24æ—¥ï¼Œå¼€æºé¸¿è’™å¼€å‘è€…å¤§ä¼š2025ï¼ˆOHDC.2025ï¼‰åœ¨æ·±åœ³éš†é‡å¼€å¹•","tags":["å¼€æº","é¸¿è’™","å¼€å‘è€…å¤§ä¼š"],"categories":["å¼€æºç¤¾åŒº"]},{"title":"MQTTæœåŠ¡å™¨è¿æ¥ä¸ä¸Šçš„é—®é¢˜","path":"//mqtt-server-not-connected.html","content":"é—®é¢˜æè¿°ç¯å¢ƒï¼šé˜¿é‡Œäº‘æœåŠ¡å™¨Ubuntu 22.04.3 LTSï¼Œå®‰è£…mosquittoåï¼Œåœ¨è™šæ‹Ÿæœºç«¯è®¢é˜…æ¶ˆæ¯å‡ºç°æŠ¥é”™ï¼ˆä»¥å‰ç”¨é˜¿é‡Œäº‘Ubuntu20.04 LTSçš„æœåŠ¡å™¨è£…ä¸Šå°±èƒ½ç”¨ï¼‰ï¼Œä»¥ä¸‹æœåŠ¡å™¨ipæ˜¯æˆ‘ä¹±å¡«çš„ 123mosquitto_sub -t /iotstuff -h 129.25.125.124 -p 1883Error: Connection refused è§£å†³åŠæ³•äº‘æœåŠ¡å™¨ECS -&gt; å®‰å…¨ç»„ -&gt; å®‰å…¨ç»„è¯¦æƒ…ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æ·»åŠ 1883ç«¯å£ä¸ºç™½åå•ï¼Œå‡ºæ–¹å‘å’Œå…¥æ–¹å‘éƒ½è¦é…ç½® æŸ¥çœ‹æœåŠ¡å™¨çš„ç«¯å£å ç”¨æƒ…å†µ 1netstat -lnpt å‘ç°moquittoä¾¦å¬çš„ipæ˜¯127.0.0.1:1883ï¼Œå…¶ä¸­127.0.0.1ä»£è¡¨çš„æ˜¯æœ¬åœ°çš„å±€åŸŸç½‘ipï¼Œå¦‚æœæƒ³è¦åœ¨å…¬ç½‘è®¿é—®æ˜¯ä¸è¡Œçš„ï¼Œæ‰“å¼€mosquitto.confæ–‡ä»¶ï¼Œè®¾ç½®å…è®¸å…¬ç½‘è®¿é—® 1listener 1883 å…è®¸å®¢æˆ·ç«¯ä¸éœ€è¦ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¿é—® 1allow_anonymous true é‡å¯mosquittoæœåŠ¡åå‘ç°è™šæ‹Ÿæœºç«¯è®¢é˜…æ¶ˆæ¯å°±èƒ½è¿ä¸Š 1service mosquitto restart å¦‚æœè¿˜æ˜¯è¿ä¸ä¸Šï¼Œcheckä¸€ä¸‹ç³»ç»Ÿé˜²ç«å¢™çŠ¶æ€ 12ufw status # æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ufw add 1883 # æ·»åŠ 1883ç«¯å£åˆ°ç™½åå• é—®é¢˜ç›¸å…³â‘  publisheræŠ¥é”™ï¼ˆè¿™ä¸ªæ˜¯ç”±äºæ²¡æœ‰å¼€å¯åŒ¿åè®¿é—®ï¼‰ 1error: MQTT_ERROR_SOCKET_ERROR â‘¡ è¿˜æœ‰subscriberè¿æ¥æŠ¥é”™ï¼ˆè¿™ä¸ªåŒæ ·æ˜¯ç”±äºæ²¡æœ‰å¼€å¯åŒ¿åè®¿é—®ï¼‰ 123hywing@moore:~$ sudo tail -f /var/log/mosquitto/mosquitto.log1753085443: New connection from 192.168.55.142:56888 on port 1883.1753085443: Client &lt;unknown&gt; disconnected, not authorised. â‘¢ brokeræ‹’ç»è®¿é—®ï¼ˆæ²¡æœ‰å¼€å¯ä»»æ„IPä¾¦å¬ï¼šlistener 1883 0.0.0.0ï¼‰ 12root@myd-lmx91:~# ./simple_subscriber 192.168.55.88 1883 testFailed to open socket: : Connection refused å‚è€ƒmosquitto.conf man page | Eclipse Mosquitto","tags":["æœåŠ¡å™¨","MQTT","é˜¿é‡Œäº‘"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"TMS320F28379Dæµ®ç‚¹æ•°å†…å­˜æ ¼å¼é—®é¢˜","path":"//tms320f28379d-float.html","content":"å­—èŠ‚åºå°ç«¯ï¼šä½å­—èŠ‚æ”¾ä½åœ°å€ç©ºé—´ï¼Œé«˜å­—èŠ‚æ”¾é«˜åœ°å€ç©ºé—´ï¼Œå°ç«¯æ¨¡å¼ç¬¦åˆè¯»å–ã€ç†è§£ä¹ æƒ¯ï¼Œå¤§éƒ¨åˆ†MCUã€X64 CPUéƒ½é‡‡ç”¨å°ç«¯ å¤§ç«¯ï¼šé«˜å­—èŠ‚æ”¾ä½åœ°å€ç©ºé—´ï¼Œä½å­—èŠ‚æ”¾é«˜åœ°å€ç©ºé—´ï¼Œå¤§ç«¯æ¨¡å¼ç¬¦åˆä¹¦å†™ã€æ‹¼è¯»ã€ä¼ è¾“ä¹ æƒ¯ï¼Œæ¯”å¦‚ç½‘ç»œå­—èŠ‚åºä¸€èˆ¬ä½¿ç”¨å¤§ç«¯æ¨¡å¼ ä»£ç æµ‹è¯•æµ®ç‚¹æ•°çš„å­˜å‚¨æ ¼å¼ 123456789101112131415161718typedef union &#123; float DataFloat; uint16_t DataUint16[2]; unsigned char DataUint8[4];&#125; FloatUnion;void main(void)&#123; FloatUnion fu; fu.DataFloat = 123.456f; uint16_t val1 = fu.DataUint16[0]; uint16_t val2 = fu.DataUint16[1]; unsigned char val3 = fu.DataUint8[0]; unsigned char val4 = fu.DataUint8[1]; unsigned char val5 = fu.DataUint8[2]; unsigned char val6 = fu.DataUint8[3]; &#125; æµ‹è¯•è°ƒè¯•æŸ¥çœ‹Memory Brownserï¼Œ16-Bit Hexæ ¼å¼ä¸‹å¯¹åº”çš„æ•°æ®ä»ä½åˆ°é«˜ï¼š0xF979 0x42F6 å¯¹åº”çš„ç»“æœæ˜¯0x42F6E979ï¼ˆé«˜å­—èŠ‚æ”¾é«˜åœ°å€ç©ºé—´ï¼‰ï¼ŒæŒ‰ IEEE 754 å•ç²¾åº¦æµ®ç‚¹æ ¼å¼è¿˜åŸï¼š ç¬¦å·ä½ï¼ˆ1ä½ï¼‰ï¼š0 0 è¡¨ç¤ºæ­£æ•°ï¼Œ1 è¡¨ç¤ºè´Ÿæ•°ã€‚ æŒ‡æ•°ä½ï¼ˆ8ä½ï¼‰ï¼š10000101 åè¿›åˆ¶å€¼ï¼š133ï¼ˆæ— ç¬¦å·æ•´æ•°ï¼‰ï¼Œå¯¹åº”çš„æŒ‡æ•°ä¸º133 - 127 &#x3D; 6ã€‚ å°¾æ•°ä½ï¼ˆ23ä½ï¼‰ï¼š11101101110100101111001 éšå«å‰å¯¼çš„ 1.ï¼ˆå³å®é™…å°¾æ•°ä¸º 1.11101101110100101111001ï¼‰ã€‚ è®¡ç®—ç»“æœè·Ÿ123.456få»åˆ 121.11101101110100101111001 â‰ˆ 1.9290001391.929000139 Ã— 2^6 = 1.929000139 Ã— 64 â‰ˆ 123.456 å¯ä»¥çœ‹åˆ°uint16_tèƒ½è¿˜åŸåŸå§‹çš„æ•°æ®å†…å®¹ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯59769ï¼ˆ0xE979ï¼‰ï¼Œç¬¬äºŒä¸ªç´¢å¼•æ˜¯17142ï¼ˆ0x42F6ï¼‰ unsigned charä¸è¡Œï¼Œç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯59769ï¼ˆ0xE979ï¼‰ï¼Œç¬¬äºŒä¸ªç´¢å¼•æ˜¯17142ï¼ˆ0x42F6ï¼‰2ã€3ç´¢å¼•å¯¹åº”çš„æ•°æ®éƒ½æ˜¯0 å¦å¤–unsigned charç›´æ¥èµ‹å€¼ä¹Ÿä¼šæœ‰é—®é¢˜ï¼Œå¾ˆæ˜æ˜¾ç¬¬ä¸‰ã€å››ä¸ªDataUnit8æ˜¯å–åˆ°åé¢çš„å†…å­˜å»äº† æ€»ç»“ DSP TMS320F28379Dä½¿ç”¨å°ç«¯æ¨¡å¼å­˜å‚¨æ•°æ® ä¸èƒ½ç®€å•ç”¨4ä¸ªunsigned charç†è§£floatï¼Œä½†å¯ä»¥ç”¨2ä¸ªuint16_tç†è§£floatï¼Œç”¨æŒ‡é’ˆå¼ºè½¬çš„æœ‹å‹ç•™æ„ï¼","tags":["DSP","TMS320F28379D","å°ç«¯æ¨¡å¼","æµ®ç‚¹æ•°"],"categories":["åµŒå…¥å¼"]},{"title":"è‡ªåŠ¨åŒ–è°ƒå‚å·¥å…·ï¼šVOFA+ä½¿ç”¨æ•™ç¨‹","path":"//automation-tool-vofa-plus.html","content":"ä»‹ç»VOFA+æ˜¯ä¸€ä¸ªç²¾è‡´çš„æ•°æ®å¯è§†åŒ–ä¸Šä½æœºè½¯ä»¶ï¼Œæ”¯æŒå¤šä¸ªæ•°æ®æ¥å£ï¼ˆä¸²å£ã€ç½‘å£ï¼‰ã€è‡ªå®šä¹‰æ•°æ®å¼•æ“å’Œå®šåˆ¶æ•°æ®å¯è§†åŒ–æ§ä»¶ï¼Œæ˜¯ä¸€ä¸ªä¸å¯å¤šå¾—çš„è‡ªåŠ¨åŒ–è°ƒå‚è½¯ä»¶ï¼ˆç¤ºæ³¢å™¨ç±»ä¼¼ç‰©ï¼‰ï¼Œä¸ªäººè§‰å¾—å®ƒå°†ä¸²å£è°ƒå‚çš„åŠŸèƒ½å‘æŒ¥åˆ°äº†æè‡´ å‰ç«¯æ•°æ®å¼•æ“å’Œæ•°æ®æ¥å£å‚æ•°é…ç½®ï¼šé€‰æ‹©FireWaterå¼•æ“ï¼Œæ•°æ®æ¥å£é€‰ä¸²å£ï¼Œä¸²å£é…ç½®115200 8N1 é€šé“æ•°æ®å±•ç¤ºï¼šé€šé“å¼€å…³+åç§°+é¢œè‰²+å°æ•°ç‚¹ä½ç½® å¯ä»¥æ§åˆ¶ç¼“å†²åŒºé‡Œè¾¹å¯è§†åŒ–æ•°æ®ç‚¹æ•°ï¼šç‚¹å‡»çº¢è‰²åŸç‚¹è¿›è¡Œæ³¢å½¢æ”¾å¤§ã€ç¼©å° æ–‡æœ¬å±•ç¤ºåŒºï¼Œå¯ä»¥å®æ—¶å±•ç¤ºæ¥æ”¶+å‘é€å†…å®¹ æ§ä»¶å¯ä»¥ç‚¹å‡»å·¦ä¾§çš„æ§ä»¶æ ï¼Œå·¦é”®é€‰ä¸­æ§ä»¶å¹¶æ‹–åˆ°æ³¢å½¢å±•ç¤ºåŒºåŸŸ ä¸»çª—å£æ”¯æŒå¤šä¸ªTabåˆ†é¡µï¼Œå¯ä»¥å°†ä¸åŒçš„æ•°æ®åˆ†ç±»å±•ç¤ºï¼Œæ”¯æŒåˆ†ç±»çš„é‡å‘½å ç»‘å®šæ•°æ®é€šé“ç»‘å®šXè½´å·²ç»Yè½´ï¼Œåªè¦åœ¨æ§ä»¶å³é”®å¼¹å‡ºèœå•å°±å¯ä»¥é…ç½®Xè½´ã€Yè½´ï¼Œå…¶å®ƒæ§ä»¶åŒç† æŒ‡å®šä¸Šä½æœºçš„æ—¶é—´æˆ³ä¸ºXè½´ï¼Œå½“ç„¶ä½ å¯ä»¥ç”¨æ•°æ®é€šé“æŒ‡å®šçš„Xè½´ï¼ˆä¸ç”¨ä¸Šä½æœºçš„æ—¶é—´æˆ³ï¼‰ ä»¥FireWateræ•°æ®å¼•æ“+ä¸²å£æ•°æ®æ¥å£ä¸ºä¾‹ï¼šä½¿ç”¨æŒ‡å®šæ ¼å¼è¾“å‡ºæ•°æ®ï¼šâ€%f,%f,%f,%f â€ï¼Œåªè¦å¾€printfè¾“å‡ºæ ¼å¼åŒ–æ•°æ®å°±è¡Œï¼Œä»¥ä¸‹åµŒå…¥å¼ä»£ç ç”¨äºç”Ÿæˆè‡ªå®šä¹‰çš„æ­£å¼¦æ³¢æ•°æ®ï¼Œprintfçš„å‚æ•°é…ç½®éœ€è¦å’Œä¸Šä½æœºçš„ä¸²å£é…ç½®ä¸€è‡´ 123456789101112131415161718192021222324252627282930313233// æ‰“å°è¡¨å¤´printf(&quot;Angle,Sin(x),Cos(x),Sin(x)*Cos(x),Cos(x)*Cos(x)\\r &quot;);// ç”Ÿæˆä¸‰è§’å‡½æ•°æ•°æ®float angle = 0.0f; // è§’åº¦(åº¦)float angleRad; // è§’åº¦(å¼§åº¦)float sinVal, cosVal; // sin(x)å’Œcos(x)å€¼float sinCosVal, cosSquareVal; // sin(x)*cos(x)å’Œcos(x)*cos(x)å€¼for(;;) &#123; // æ¯15åº¦è¾“å‡ºä¸€æ¬¡æ•°æ® while(angle &lt;= 360.0f) &#123; // è½¬æ¢ä¸ºå¼§åº¦ angleRad = angle * 0.01745329f; // 0.01745329 = Ï€/180 // è®¡ç®—ä¸‰è§’å‡½æ•°å€¼ sinVal = sin(angleRad); cosVal = cos(angleRad); sinCosVal = sinVal * cosVal; cosSquareVal = cosVal * cosVal; // ä½¿ç”¨æŒ‡å®šæ ¼å¼è¾“å‡ºæ•°æ®ï¼š&quot;%f,%f,%f,%f &quot; printf(&quot;%f,%f,%f,%f\\r &quot;, sinVal, cosVal, sinCosVal, cosSquareVal); // è§’åº¦å¢åŠ 15åº¦ angle += 15.0f; // å»¶æ—¶ï¼Œé¿å…è¾“å‡ºå¤ªå¿« DEVICE_DELAY_US(500); // å»¶æ—¶100ms &#125; angle = 0;&#125; DSPå®ç°printfå‡½æ•°åŠŸèƒ½ï¼Œä½¿ç”¨å‰å…ˆåˆå§‹åŒ–SCIA 123456789101112131415161718192021222324252627void initSCI(void)&#123; GPIO_setPinConfig(GPIO_28_SCIRXDA); GPIO_setPinConfig(GPIO_29_SCITXDA); GPIO_setPadConfig(28, GPIO_PIN_TYPE_STD); GPIO_setPadConfig(29, GPIO_PIN_TYPE_STD); SCI_disableModule(SCIA_BASE); SCI_performSoftwareReset(SCIA_BASE); SCI_setConfig(SCIA_BASE, DEVICE_LSPCLK_FREQ, 115200, (SCI_CONFIG_WLEN_8 | SCI_CONFIG_STOP_ONE | SCI_CONFIG_PAR_NONE)); SCI_disableLoopback(SCIA_BASE); SCI_disableFIFO(SCIA_BASE); SCI_enableModule(SCIA_BASE);&#125;#include &lt;stdio.h&gt;#include &quot;driverlib/sci.h&quot;int fputc(int c, register FILE *stream)&#123; SCI_writeCharBlockingNonFIFO(SCIA_BASE, (uint16_t)c); while(SCI_getTxFIFOStatus(SCIA_BASE) != SCI_FIFO_TX0); return c;&#125; æ³¢å½¢å®æ—¶å±•ç¤ºæ•ˆæœ æ€»ç»“ è¿™é‡Œä½¿ç”¨çš„æ˜¯é˜»å¡å¼çš„å‘é€æ–¹å¼ï¼Œç¼ºç‚¹æ˜¯å ç”¨DSPèµ„æºæ¯”è¾ƒå¤§ï¼Œæ¨èä½¿ç”¨SCIå‘é€ä¸­æ–­çš„æ–¹å¼è¿›è¡Œä¸²å£æ•°æ®å‘é€ ç†è®ºä¸Šåšä¸ªCANæ¥å£è½¬ä¸²å£çš„ä¸­è½¬é©±åŠ¨ï¼Œä¹Ÿèƒ½æ”¯æŒCANæ¥å£æ•°æ®å¯è§†åŒ– Xè½´å“ªé‡Œè²Œä¼¼ä¸èƒ½è‡ªç„¶æ»šåŠ¨","tags":["è‡ªåŠ¨åŒ–","è°ƒå‚å·¥å…·","VOFA+"],"categories":["å¼€å‘å·¥å…·"]},{"title":"LAUNCHXL-F28379Dé“¾æ¥æ–‡ä»¶åŠŸèƒ½è¯¦è§£","path":"//launchxl-f28379d-link-script.html","content":"CMDæ–‡ä»¶ä¸»è¦æ˜¯æœ‰FLASHå’ŒRAMä¸¤ç§ä¸‹è½½æ¨¡å¼ï¼šFLASHæ˜¯æŠŠç¨‹åºçƒ§å½•åˆ°FLASHä¸­è¿è¡Œï¼ŒRAMæ¨¡å¼åˆ™æ˜¯æŠŠç¨‹åºçƒ§å½•åˆ°RAMé‡Œè¾¹è¿è¡Œï¼Œä»¥TMS320F28379Dä¸ºä¾‹ï¼Œå®ƒæ”¯æŒ2837xD_FLASH_lnk_cpu1.cmdå’Œ2837xD_RAM_lnk_cpu1.cmdä¸¤ç§ä¸‹è½½è°ƒè¯•æ¨¡å¼ï¼Œä¸‹è½½æ¨¡å¼å¯ä»¥åœ¨å¯¹åº”å·¥ç¨‹çš„Properties -&gt; General -&gt; Linker command fileé‡Œè¾¹æŒ‡å®š FLASHFLASHæ¨¡å¼ä¸»è¦åŒ…æ‹¬MEMORYå’ŒSECTIONSä¸¤ä¸ªå­—æ®µï¼›è‡³äºå†…å­˜å—æ€ä¹ˆç”¨ï¼ŒSECTIONSä¼šå‘Šè¯‰ä½  123456789MEMORY&#123;&#125;SECTIONS&#123;&#125; ä¸€èˆ¬MEMORYä¼šåˆ†æˆä¸¤ä¸ªPAGEï¼šPAGE0å’ŒPAGE1ï¼ŒPAGE0å­˜æ”¾programä»£ç ï¼ˆFLASHï¼‰ï¼ŒPAGE1å­˜æ”¾dataä»£ç ï¼ˆRAMï¼‰ï¼›æ¯ä¸ªPAGEåŒ…å«è‹¥å¹²ä¸ªå†…å­˜å—ï¼Œæ¯ä¸ªå†…å­˜å—çš„å­—æ®µåã€èµ·å§‹åœ°å€å’Œå¤§å°ç©ºé—´ä¼šåœ¨MEMORYé‡Œè¾¹ç»™å‡ºï¼ŒåŸåˆ™ä¸Šåˆèµ·æ¥çš„ç©ºé—´ä¸èƒ½è¶…è¿‡ç‰©ç†å†…å­˜ç©ºé—´å¤§å° 12345678910111213141516171819202122232425262728MEMORY&#123;PAGE 0 : /* ç¨‹åºå­˜å‚¨åŒº(Flash) */ BEGIN : origin = 0x080000, length = 0x000002 FLASHA : origin = 0x080002, length = 0x001FFE /* æ–¹æ¡ˆä¸€ï¼šåˆå¹¶FLASHB/C/Dä¸ºä¸€ä¸ªæ›´å¤§çš„åŒºåŸŸï¼ˆå·²åº”ç”¨ï¼‰ */ FLASHBCD : origin = 0x082000, length = 0x006000 /* 24KB (åˆå¹¶B+C+D) */ /* æ–¹æ¡ˆäºŒï¼šåˆ†åˆ«ä¿ç•™å„åŒºï¼ˆå¦‚éœ€ç”¨æ–¹æ¡ˆäºŒï¼Œæ³¨é‡Šä¸Šé¢çš„FLASHBCDï¼Œå–æ¶ˆä¸‹é¢ä¸‰è¡Œçš„æ³¨é‡Šï¼‰ FLASHB : origin = 0x082000, length = 0x002000 FLASHC : origin = 0x084000, length = 0x002000 FLASHD : origin = 0x086000, length = 0x002000 */ FLASHE : origin = 0x088000, length = 0x008000 FLASHF : origin = 0x090000, length = 0x008000 RESET : origin = 0x3FFFC0, length = 0x000002PAGE 1 : /* æ•°æ®å­˜å‚¨åŒº(RAM) */ RAMM0 : origin = 0x000123, length = 0x0002DD RAMM1 : origin = 0x000400, length = 0x0003F8 RAMLS0 : origin = 0x008000, length = 0x000800 RAMLS5 : origin = 0x00A800, length = 0x000800 RAMGS0 : origin = 0x00C000, length = 0x001000 RAMGS1 : origin = 0x00D000, length = 0x001000 CPU1TOCPU2RAM : origin = 0x03FC00, length = 0x000400&#125; è‡³äºå†…å­˜å—æ€ä¹ˆç”¨ï¼ŒSECTIONSä¼šå‘Šè¯‰ä½ ï¼ŒSECTIONSä¼šæŠŠMEMORYé‡Œè¾¹å®šä¹‰çš„å†…å­˜å—å®‰æ’å¾—æ˜æ˜ç™½ç™½ï¼Œä»¥ä¸‹ä»£ç è·ŸARMé‡Œè¾¹çš„link scriptå·®ä¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‹è¾¹ä»£ç æ®µï¼ˆeabiã€textã€constï¼‰ä¸»è¦æ˜¯å­˜æ”¾åœ¨FLASHç©ºé—´ï¼Œæ•°æ®æ®µï¼ˆbssã€funcã€stackã€dataï¼‰ä¸»è¦æ˜¯å­˜æ”¾RAMç©ºé—´ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960SECTIONS&#123; /*--- å¯åŠ¨ä»£ç æ®µ ---*/ codestart : &gt; BEGIN, PAGE = 0 .reset : &gt; RESET, PAGE = 0, TYPE = DSECT /*--- EABIæ®µ ---*/ .cinit : &gt; FLASHA, PAGE = 0, ALIGN(8) /* æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨æ›´å¤§çš„åˆå¹¶åŒºï¼ˆå·²åº”ç”¨ï¼‰ */ .text : &gt; FLASHBCD, PAGE = 0, ALIGN(8) /* æ–¹æ¡ˆäºŒï¼šåˆ†é…åˆ°å¤šä¸ªåŒºï¼ˆå¦‚éœ€ç”¨æ–¹æ¡ˆäºŒï¼Œæ³¨é‡Šä¸Šé¢çš„.textè¡Œï¼Œå–æ¶ˆä¸‹é¢è¿™è¡Œçš„æ³¨é‡Šï¼‰ .text : &gt;&gt; FLASHB | FLASHC | FLASHD, PAGE = 0, ALIGN(8) */ .const : &gt; FLASHF, PAGE = 0, ALIGN(8) .init_array : &gt; FLASHA, PAGE = 0, ALIGN(8) .bss : &gt; RAMLS5, PAGE = 1, ALIGN(8) .sysmem : &gt; RAMGS1, PAGE = 1, ALIGN(8) /*--- RAMå‡½æ•°æ®µ ---*/ .TI.ramfunc : &#123; *(.TI.ramfunc) *(.ramfunc) &#125; LOAD = FLASHE, PAGE = 0 /* å°†FLASHDæ”¹ä¸ºFLASHEï¼Œé¿å…å†²çª */ RUN = RAMLS0, PAGE = 1 LOAD_START(RamfuncsLoadStart), LOAD_END(RamfuncsLoadEnd), LOAD_SIZE(RamfuncsLoadSize), RUN_START(RamfuncsRunStart), RUN_SIZE(RamfuncsRunSize), RUN_END(RamfuncsRunEnd), ALIGN(8) /*--- æ•°æ®æ®µ ---*/ .stack : &gt; RAMGS0, PAGE = 1 /* æ”¹ä¸ºæ›´å¤§çš„å†…å­˜åŒº */ .data : &gt; RAMGS0, PAGE = 1 .cio : &gt; RAMLS5, PAGE = 1 /*--- COFFå…¼å®¹æ®µ ---*/ .pinit : &gt; FLASHA, PAGE = 0, ALIGN(8) .ebss : &gt; RAMLS5, PAGE = 1 .econst : &gt; FLASHA, PAGE = 0, ALIGN(8) .esysmem : &gt; RAMGS1, PAGE = 1 /*--- IPCé€šä¿¡æ®µ ---*/ GROUP : &gt; CPU1TOCPU2RAM, PAGE = 1 &#123; PUTBUFFER PUTWRITEIDX GETREADIDX &#125; /*--- æ˜ç¡®æŒ‡å®šramgs0/ramgs1æ®µï¼Œæ¶ˆé™¤è­¦å‘Š ---*/ ramgs0 : &gt; RAMGS0, PAGE = 1 ramgs1 : &gt; RAMGS1, PAGE = 1&#125; link scripté‡Œè¾¹æ¯ä¸ªå­—æ®µçš„åŠŸèƒ½ æ®µåç§° å†…å­˜ä½ç½® é¡µé¢ è¯´æ˜ codestart BEGIN PAGE &#x3D; 0 ä»£ç èµ·å§‹éƒ¨åˆ†ï¼Œä½äºFlashåˆå§‹åœ°å€ï¼ŒåŒ…å«ç¨‹åºå…¥å£ç‚¹ .reset RESET PAGE &#x3D; 0 å¤ä½å‘é‡æ®µï¼ŒTYPE &#x3D; DSECTè¡¨ç¤ºåªæ˜¯æè¿°æ€§çš„ï¼Œä¸å ç”¨å®é™…ç©ºé—´ .cinit FLASHA PAGE &#x3D; 0 Cè¯­è¨€å…¨å±€å˜é‡åˆå§‹åŒ–è¡¨ï¼ŒALIGN(8)è¡¨ç¤ºæŒ‰8å­—èŠ‚å¯¹é½ .text FLASHBCD PAGE &#x3D; 0 ä¸»è¦ä»£ç æ®µï¼Œæ”¾åœ¨åˆå¹¶çš„å¤§FlashåŒºåŸŸ(24KB)ä»¥å®¹çº³æ›´å¤šä»£ç  .const FLASHF PAGE &#x3D; 0 å¸¸é‡æ•°æ®æ®µï¼Œå­˜æ”¾åœ¨Flashä¸­çš„åªè¯»æ•°æ® .init_array FLASHA PAGE &#x3D; 0 ç”¨äºC++å…¨å±€å¯¹è±¡æ„é€ å‡½æ•°çš„è¡¨ .bss RAMLS5 PAGE &#x3D; 1 æœªåˆå§‹åŒ–çš„å…¨å±€å’Œé™æ€å˜é‡æ®µï¼Œä½äºRAMä¸­ .sysmem RAMGS1 PAGE &#x3D; 1 åŠ¨æ€å†…å­˜åˆ†é…çš„å †åŒºåŸŸï¼Œç”¨äºmalloc()ç­‰å‡½æ•° .TI.ramfunc FLASHEâ†’RAMLS0 PAGE &#x3D; 0â†’1 RAMå‡½æ•°æ®µï¼Œç‰¹æ®Šå¤„ç†ï¼šåœ¨Flashä¸­å­˜å‚¨ä½†è¿è¡Œæ—¶å¤åˆ¶åˆ°RAMä¸­æ‰§è¡Œ .stack RAMGS0 PAGE &#x3D; 1 ç³»ç»Ÿå †æ ˆæ®µï¼Œå·²ç§»è‡³æ›´å¤§çš„å†…å­˜åŒºåŸŸRAMGS0 .data RAMGS0 PAGE &#x3D; 1 å·²åˆå§‹åŒ–çš„å…¨å±€å’Œé™æ€å˜é‡æ®µ .cio RAMLS5 PAGE &#x3D; 1 Cæ ‡å‡†I&#x2F;Oç¼“å†²åŒº .pinit FLASHA PAGE &#x3D; 0 ç”¨äºC++å…¨å±€å¯¹è±¡åˆå§‹åŒ–çš„è¡¨(æ—§æ ¼å¼) .ebss RAMLS5 PAGE &#x3D; 1 æ‰©å±•çš„.bssæ®µï¼ŒCOFFæ ¼å¼å…¼å®¹æ€§ .econst FLASHA PAGE &#x3D; 0 æ‰©å±•çš„å¸¸é‡æ®µï¼ŒCOFFæ ¼å¼å…¼å®¹æ€§ï¼Œå­˜æ”¾åœ¨Flashä¸­ .esysmem RAMGS1 PAGE &#x3D; 1 æ‰©å±•çš„ç³»ç»Ÿå†…å­˜æ®µï¼ŒCOFFæ ¼å¼å…¼å®¹æ€§ GROUP (CPU1TOCPU2RAM) CPU1TOCPU2RAM PAGE &#x3D; 1 CPU1åˆ°CPU2çš„é€šä¿¡ç¼“å†²åŒºï¼ŒåŒ…å«å¤šä¸ªå­æ®µ ramgs0&#x2F;ramgs1 RAMGS0&#x2F;RAMGS1 PAGE &#x3D; 1 æ˜ç¡®æŒ‡å®šè¿™äº›å†…å­˜åŒºåŸŸçš„æ®µåï¼Œä»¥æ¶ˆé™¤é“¾æ¥è­¦å‘Š RAMRAMæ¨¡å¼ä¸»è¦åŒ…æ‹¬MEMORYå’ŒSECTIONSä¸¤ä¸ªå­—æ®µï¼Œè¿™ä¸ªè·ŸFLASHæ¨¡å¼æ˜¯ä¸€æ ·çš„ï¼Œä½†ä¸åŒçš„æ˜¯ï¼š 123456789MEMORY&#123;&#125;SECTIONS&#123;&#125; ä¸€èˆ¬MEMORYä¼šåˆ†æˆä¸¤ä¸ªPAGEï¼šPAGE0å’ŒPAGE1ï¼ŒPAGE0å­˜æ”¾programä»£ç ï¼ˆRAMï¼‰ï¼ŒPAGE1å­˜æ”¾dataä»£ç ï¼ˆRAMï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ä¸ºäº†ä¼˜åŒ–è°ƒè¯•è¿è¡Œé€Ÿåº¦ï¼Œæ‰€æœ‰çš„åº”ç”¨åŠæ•°æ®éƒ½æ”¾åœ¨RAMè¿è¡Œäº† 1234567891011121314151617181920212223242526272829303132333435363738394041424344MEMORY&#123;PAGE 0 : BEGIN : origin = 0x000000, length = 0x000002 RAMM0 : origin = 0x000123, length = 0x0002DD RAMD0 : origin = 0x00B000, length = 0x000800 RAMLS0 : origin = 0x008000, length = 0x000800 RAMLS1 : origin = 0x008800, length = 0x000800 RAMLS2 : origin = 0x009000, length = 0x000800 RAMLS3 : origin = 0x009800, length = 0x000800 RAMLS4 : origin = 0x00A000, length = 0x000800 RESET : origin = 0x3FFFC0, length = 0x000002PAGE 1 : BOOT_RSVD : origin = 0x000002, length = 0x000121 RAMM1 : origin = 0x000400, length = 0x0003F8 RAMD1 : origin = 0x00B800, length = 0x000800 RAMLS0 : origin = 0x008000, length = 0x000800 RAMLS5 : origin = 0x00A800, length = 0x000800 RAMGS0 : origin = 0x00C000, length = 0x001000 RAMGS1 : origin = 0x00D000, length = 0x001000 RAMGS2 : origin = 0x00E000, length = 0x001000 /* åˆå¹¶RAMGS3~5ä¸ºä¸€ä¸ªå¤§åŒº */ RAMGS3_5 : origin = 0x00F000, length = 0x003000 /* æ³¨é‡Šæ‰åŸæœ‰çš„RAMGS3~5 RAMGS3 : origin = 0x00F000, length = 0x001000 RAMGS4 : origin = 0x010000, length = 0x001000 RAMGS5 : origin = 0x011000, length = 0x001000 */ RAMGS6 : origin = 0x012000, length = 0x001000 RAMGS7 : origin = 0x013000, length = 0x001000 RAMGS8 : origin = 0x014000, length = 0x001000 RAMGS9 : origin = 0x015000, length = 0x001000 RAMGS10 : origin = 0x016000, length = 0x001000 RAMGS11 : origin = 0x017000, length = 0x001000 RAMGS12 : origin = 0x018000, length = 0x001000 RAMGS13 : origin = 0x019000, length = 0x001000 RAMGS14 : origin = 0x01A000, length = 0x001000 RAMGS15 : origin = 0x01B000, length = 0x000FF8 CPU2TOCPU1RAM : origin = 0x03F800, length = 0x000400 CPU1TOCPU2RAM : origin = 0x03FC00, length = 0x000400 CANA_MSG_RAM : origin = 0x049000, length = 0x000800 CANB_MSG_RAM : origin = 0x04B000, length = 0x000800&#125; æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‹è¾¹ä»£ç æ®µï¼ˆeabiã€textã€constï¼‰ä»¥åŠæ•°æ®æ®µï¼ˆbssã€funcã€stackã€dataï¼‰å…¨éƒ½å­˜RAMç©ºé—´ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647SECTIONS&#123; codestart : &gt; BEGIN, PAGE = 0 .reset : &gt; RESET, PAGE = 0, TYPE = DSECT /* è®©.textæ®µæ”¾å…¥åˆå¹¶åçš„å¤§åŒº */ .text : &gt; RAMGS3_5, PAGE = 1 .cinit : &gt; RAMM0, PAGE = 0 .switch : &gt; RAMM0, PAGE = 0 .bss : &gt; RAMLS5, PAGE = 1, ALIGN(8) .init_array : &gt; RAMM0, PAGE = 0 .const : &gt; RAMLS5, PAGE = 1 .data : &gt; RAMLS5, PAGE = 1 .sysmem : &gt; RAMLS5, PAGE = 1 .TI.ramfunc : &gt; RAMLS0, PAGE = 1, ALIGN(8) .stack : &gt; RAMM1, PAGE = 1, ALIGN(8) .pinit : &gt; RAMM0, PAGE = 0 .ebss : &gt; RAMLS5, PAGE = 1 .econst : &gt; RAMLS5, PAGE = 1 .esysmem : &gt; RAMLS5, PAGE = 1 Filter_RegsFile : &gt; RAMGS0, PAGE = 1 ramgs0 : &gt; RAMGS0, PAGE = 1 ramgs1 : &gt; RAMGS1, PAGE = 1 /* SDFMä¾‹ç¨‹æ®µç§»åˆ°åé¢æœªç”¨çš„RAMåŒº */ Filter1_RegsFile : &gt; RAMGS6, PAGE = 1, fill=0x1111 Filter2_RegsFile : &gt; RAMGS7, PAGE = 1, fill=0x2222 Filter3_RegsFile : &gt; RAMGS8, PAGE = 1, fill=0x3333 Filter4_RegsFile : &gt; RAMGS9, PAGE = 1, fill=0x4444 Difference_RegsFile : &gt; RAMGS10, PAGE = 1, fill=0x3333 GROUP : &gt; CPU1TOCPU2RAM, PAGE = 1 &#123; PUTBUFFER PUTWRITEIDX GETREADIDX &#125; GROUP : &gt; CPU2TOCPU1RAM, PAGE = 1 &#123; GETBUFFER : TYPE = DSECT GETWRITEIDX : TYPE = DSECT PUTREADIDX : TYPE = DSECT &#125;&#125; æ¯ä¸ªSECTIONSå­—æ®µåŠŸèƒ½è¯¦è§£ æ®µåç§° å†…å­˜ä½ç½® é¡µé¢ è¯´æ˜ codestart BEGIN PAGE &#x3D; 0 ä»£ç èµ·å§‹éƒ¨åˆ†ï¼Œé€šå¸¸åŒ…å«ç¨‹åºå…¥å£ç‚¹å’Œåˆå§‹åŒ–ä»£ç  .reset RESET PAGE &#x3D; 0 å¤ä½å‘é‡æ®µï¼Œç”¨äºå¤„ç†CPUå¤ä½åçš„è·³è½¬åœ°å€ï¼ŒTYPE &#x3D; DSECTè¡¨ç¤ºåªæ˜¯æè¿°æ€§çš„ï¼Œä¸å ç”¨å®é™…ç©ºé—´ .text RAMGS3_5 PAGE &#x3D; 1 ä¸»è¦ä»£ç æ®µï¼ŒåŒ…å«ç¨‹åºçš„æ‰§è¡Œä»£ç ï¼Œæ”¾åœ¨åˆå¹¶çš„å¤§å†…å­˜åŒºåŸŸä¸­ä»¥å®¹çº³æ›´å¤šä»£ç  .cinit RAMM0 PAGE &#x3D; 0 Cè¯­è¨€å…¨å±€å˜é‡åˆå§‹åŒ–è¡¨æ®µï¼Œç”¨äºå­˜å‚¨å…¨å±€å˜é‡çš„åˆå§‹å€¼ .switch RAMM0 PAGE &#x3D; 0 ç”¨äºCè¯­è¨€switchè¯­å¥çš„è·³è½¬è¡¨ .bss RAMLS5 PAGE &#x3D; 1 æœªåˆå§‹åŒ–çš„å…¨å±€å’Œé™æ€å˜é‡æ®µï¼ŒALIGN(8)è¡¨ç¤ºæŒ‰8å­—èŠ‚å¯¹é½ .init_array RAMM0 PAGE &#x3D; 0 ç”¨äºC++å…¨å±€å¯¹è±¡æ„é€ å‡½æ•°çš„è¡¨ .const RAMLS5 PAGE &#x3D; 1 å¸¸é‡æ•°æ®æ®µï¼Œå­˜æ”¾ç¨‹åºä¸­çš„å¸¸é‡å€¼ .data RAMLS5 PAGE &#x3D; 1 å·²åˆå§‹åŒ–çš„å…¨å±€å’Œé™æ€å˜é‡æ®µ .sysmem RAMLS5 PAGE &#x3D; 1 åŠ¨æ€å†…å­˜åˆ†é…çš„å †åŒºåŸŸï¼Œç”¨äºmalloc()ç­‰å‡½æ•° .TI.ramfunc RAMLS0 PAGE &#x3D; 1 RAMå‡½æ•°æ®µï¼Œå­˜æ”¾éœ€è¦åœ¨RAMä¸­æ‰§è¡Œçš„é«˜æ€§èƒ½å‡½æ•° .stack RAMM1 PAGE &#x3D; 1 ç³»ç»Ÿå †æ ˆæ®µï¼Œç”¨äºå‡½æ•°è°ƒç”¨å’Œå±€éƒ¨å˜é‡ .pinit RAMM0 PAGE &#x3D; 0 ç”¨äºC++å…¨å±€å¯¹è±¡åˆå§‹åŒ–çš„è¡¨(æ—§æ ¼å¼) .ebss RAMLS5 PAGE &#x3D; 1 æ‰©å±•çš„.bssæ®µï¼ŒCOFFæ ¼å¼å…¼å®¹æ€§ .econst RAMLS5 PAGE &#x3D; 1 æ‰©å±•çš„å¸¸é‡æ®µï¼ŒCOFFæ ¼å¼å…¼å®¹æ€§ .esysmem RAMLS5 PAGE &#x3D; 1 æ‰©å±•çš„ç³»ç»Ÿå†…å­˜æ®µï¼ŒCOFFæ ¼å¼å…¼å®¹æ€§ Filter_RegsFile RAMGS0 PAGE &#x3D; 1 æ»¤æ³¢å™¨å¯„å­˜å™¨æ–‡ä»¶ï¼Œç”¨äºæ•°å­—æ»¤æ³¢å™¨çš„é…ç½®æ•°æ® ramgs0&#x2F;ramgs1 RAMGS0&#x2F;RAMGS1 PAGE &#x3D; 1 æ˜ç¡®æŒ‡å®šè¿™äº›å†…å­˜åŒºåŸŸçš„æ®µåï¼Œä»¥ä¾¿åœ¨ä»£ç ä¸­ç›´æ¥å¼•ç”¨ Filter1_RegsFileç­‰ RAMGS6-10 PAGE &#x3D; 1 SDFM(Sigma-Deltaæ»¤æ³¢å™¨æ¨¡å—)ä¾‹ç¨‹æ•°æ®åŒºï¼Œfillå€¼ç”¨äºç‰¹å®šçš„åˆå§‹åŒ–æ¨¡å¼ GROUP (CPU1TOCPU2RAM) CPU1TOCPU2RAM PAGE &#x3D; 1 CPU1åˆ°CPU2çš„é€šä¿¡ç¼“å†²åŒºï¼ŒåŒ…å«å¤šä¸ªå­æ®µç”¨äºæ•°æ®ä¼ è¾“å’ŒåŒæ­¥ GROUP (CPU2TOCPU1RAM) CPU2TOCPU1RAM PAGE &#x3D; 1 CPU2åˆ°CPU1çš„é€šä¿¡ç¼“å†²åŒºï¼ŒTYPE &#x3D; DSECTè¡¨ç¤ºè¿™äº›æ®µåœ¨CPU1ä¸­åªæ˜¯æè¿°æ€§çš„","tags":["DSP","LAUNCHXL-F28379D","é“¾æ¥è„šæœ¬"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"LAUNCHXL-F28379Dè‡ªå®šä¹‰æ•°æ®æ ¼å¼æ‰“å°","path":"//launchxl-f28379d-custom-printf.html","content":"å‰è¨€è°ƒè¯•è®¾å¤‡æ—¶å¾€å¾€éœ€è¦æœ‰ä¸€ä¸ªé«˜æ•ˆç®€å•çš„printfå‡½æ•°å¸®åŠ©è¿½è¸ªé”™è¯¯æ—¥å¿—ã€è¿è¡ŒçŠ¶æ€ï¼ŒDSPå¼€å‘ä¹Ÿä¸ä¾‹å¤– ä»‹ç»è‡ªå¸¦printfå¦‚æœæ˜¯æŒ‰ç…§stm32çš„æ–¹å¼é€šè¿‡è‡ªå®šä¹‰fputcæ¥å®ç°çš„è¯ï¼Œå®ƒæ˜¯å¯ä»¥æ‰“å°å­—ç¬¦ä¸²çš„ï¼Œä½†æ˜¯ä¸€æ—¦è‡ªå®šä¹‰æ•°å€¼æ ¼å¼è¾“å‡ºå°±æŠ¥é”™ï¼ˆInterrupt_illegalOperationHandlerï¼‰ 123456789#include &lt;stdio.h&gt;#include &quot;driverlib/sci.h&quot;int fputc(int c, register FILE *stream)&#123; SCI_writeCharBlockingNonFIFO(SCIA_BASE, (uint16_t)c); while(SCI_getTxFIFOStatus(SCIA_BASE) != SCI_FIFO_TX0); return c;&#125; é…ç½®SCIä½¿ç”¨sysconfigé…ç½®SCIAä¸²å£å¼•è„šã€å‚æ•°ï¼ŒSCIAå¯¹åº”çš„æ˜¯æ¿å­åˆ†é…çš„é»˜è®¤ä¸²å£ï¼šRXDå’ŒTXDåˆ†åˆ«å¯¹åº”GPIO43ã€GPIO42 è‡ªå®šä¹‰printfè‡ªå®šä¹‰æ‰“å°å‡½æ•°å®ç°ï¼Œåˆ†åˆ«å®ç°dsp_putcharã€dsp_putsã€print_intã€print_floatã€dsp_printfå‡ ä¸ªå‡½æ•° dsp_putcharé€šè¿‡SCIå‘é€å•ä¸ªå­—ç¬¦ï¼Œå’Œæ ‡å‡†åº“putcharå¯¹åº” 1234void dsp_putchar(char c) &#123; SCI_writeCharBlockingNonFIFO(SCIA_BASE, (uint16_t)c); while(SCI_getTxFIFOStatus(SCIA_BASE) != SCI_FIFO_TX0);&#125; dsp_putsé€šè¿‡SCIå‘é€å­—ç¬¦ä¸²ï¼Œå’Œæ ‡å‡†åº“putså¯¹åº” 12345void dsp_puts(const char *str) &#123; while(*str) &#123; dsp_putchar(*str++); &#125;&#125; print_intå°†æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦å¹¶è¾“å‡º 123456789101112131415161718192021222324252627282930313233void print_int(int32_t num) &#123; char buffer[12]; // è¶³å¤Ÿä¿å­˜32ä½æ•´æ•° int i = 0; int is_negative = 0; // ç‰¹æ®Šå¤„ç†0 if(num == 0) &#123; dsp_putchar(&#x27;0&#x27;); return; &#125; // å¤„ç†è´Ÿæ•° if(num &lt; 0) &#123; is_negative = 1; num = -num; &#125; // è½¬æ¢æ•´æ•°åˆ°å­—ç¬¦ while(num &gt; 0) &#123; buffer[i++] = &#x27;0&#x27; + (num % 10); num /= 10; &#125; // å¦‚æœæ˜¯è´Ÿæ•°ï¼Œæ·»åŠ è´Ÿå· if(is_negative) &#123; dsp_putchar(&#x27;-&#x27;); &#125; // åå‘è¾“å‡ºå­—ç¬¦ while(i &gt; 0) &#123; dsp_putchar(buffer[--i]); &#125;&#125; print_floatå°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºå­—ç¬¦å¹¶è¾“å‡ºï¼ˆå¸¦2ä½å°æ•°ï¼‰ 123456789101112131415161718192021222324void print_float(float num, int decimal_places) &#123; // å¤„ç†è´Ÿæ•° if(num &lt; 0) &#123; dsp_putchar(&#x27;-&#x27;); num = -num; &#125; // æå–æ•´æ•°éƒ¨åˆ† int32_t integer_part = (int32_t)num; print_int(integer_part); // å°æ•°ç‚¹ dsp_putchar(&#x27;.&#x27;); // å¤„ç†å°æ•°éƒ¨åˆ† float fractional_part = num - integer_part; int i; for(i = 0; i &lt; decimal_places; i++) &#123; fractional_part *= 10; int digit = (int)fractional_part; dsp_putchar(&#x27;0&#x27; + digit); fractional_part -= digit; &#125;&#125; dsp_printfç®€å•çš„æ ¼å¼åŒ–æ‰“å°å‡½æ•° - æ”¯æŒ %d, %f, %s, %c 123456789101112131415161718192021222324252627282930313233343536373839404142434445void dsp_printf(const char *format, ...) &#123; va_list args; va_start(args, format); while(*format) &#123; // å¤„ç†æ ¼å¼åŒ–æ ‡è®° if(*format == &#x27;%&#x27;) &#123; format++; // æ ¹æ®æ ¼å¼åŒ–ç±»å‹å¤„ç†å‚æ•° switch(*format) &#123; case &#x27;d&#x27;: case &#x27;i&#x27;: // æ•´æ•° print_int(va_arg(args, int)); break; case &#x27;f&#x27;: // æµ®ç‚¹æ•° print_float(va_arg(args, double), 2); // é»˜è®¤2ä½å°æ•° break; case &#x27;s&#x27;: // å­—ç¬¦ä¸² dsp_puts(va_arg(args, char*)); break; case &#x27;c&#x27;: // å­—ç¬¦ dsp_putchar(va_arg(args, int)); // æ³¨æ„ï¼šcharå‚æ•°è¢«æå‡ä¸ºint break; case &#x27;%&#x27;: // ç™¾åˆ†å· dsp_putchar(&#x27;%&#x27;); break; default: // æœªçŸ¥æ ¼å¼ dsp_putchar(&#x27;%&#x27;); dsp_putchar(*format); &#125; &#125; else &#123; // æ™®é€šå­—ç¬¦ç›´æ¥è¾“å‡º dsp_putchar(*format); &#125; format++; &#125; va_end(args);&#125; æ ¼å¼åŒ–æ•°æ®æµ‹è¯•ç”¨ä¾‹ï¼šç”¨dsp_printfç”Ÿæˆsin(x), cos(x), sin(x)*cos(x), cos(x)*cos(x)æ³¢å½¢ï¼Œ%fè¡¨ç¤ºæµ®ç‚¹æ•°ã€%dè¡¨ç¤ºæ•´å½¢æ•°æ®ï¼Œ%sè¡¨ç¤ºå­—ç¬¦ä¸² 123456789101112131415161718192021222324252627282930313233// æ‰“å°è¡¨å¤´dsp_printf(&quot;Angle,Sin(x),Cos(x),Sin(x)*Cos(x),Cos(x)*Cos(x)\\r &quot;);// ç”Ÿæˆä¸‰è§’å‡½æ•°æ•°æ®float angle = 0.0f; // è§’åº¦(åº¦)float angleRad; // è§’åº¦(å¼§åº¦)float sinVal, cosVal; // sin(x)å’Œcos(x)å€¼float sinCosVal, cosSquareVal; // sin(x)*cos(x)å’Œcos(x)*cos(x)å€¼for(;;) &#123; // æ¯15åº¦è¾“å‡ºä¸€æ¬¡æ•°æ® while(angle &lt;= 360.0f) &#123; // è½¬æ¢ä¸ºå¼§åº¦ angleRad = angle * 0.01745329f; // 0.01745329 = Ï€/180 // è®¡ç®—ä¸‰è§’å‡½æ•°å€¼ sinVal = sin(angleRad); cosVal = cos(angleRad); sinCosVal = sinVal * cosVal; cosSquareVal = cosVal * cosVal; // ä½¿ç”¨æŒ‡å®šæ ¼å¼è¾“å‡ºæ•°æ®ï¼š&quot;%f,%f,%f,%f &quot; dsp_printf(&quot;%f,%f,%f,%f\\r &quot;, sinVal, cosVal, sinCosVal, cosSquareVal); // è§’åº¦å¢åŠ 15åº¦ angle += 15.0f; // å»¶æ—¶ï¼Œé¿å…è¾“å‡ºå¤ªå¿« DEVICE_DELAY_US(10000); // å»¶æ—¶100ms &#125; angle = 0;&#125; æ•°æ®å¯è§†åŒ–ä½¿ç”¨vofa+å·¥å…·æ˜¾ç¤ºFireWaterçš„è‡ªå®šä¹‰æ ¼å¼çš„ä¸²å£æ•°æ®æµ æ€»ç»“è‡ªå®šä¹‰dsp_printfæ›´åŠ é«˜æ•ˆï¼Œæ›´åŠ è‡ªç”±ï¼Œä¾èµ–ä½“ç§¯æ›´å°ï¼Œæ— éœ€å…³å¿ƒstackå¤§å°é™åˆ¶","tags":["DSP","LAUNCHXL-F28379D","printf"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Linuxç³»ç»ŸCANé€šä¿¡å¼€å‘æŒ‡å—","path":"//linux-can-usage.html","content":"ä»‹ç»Linuxè‡ªå¸¦socket CANé©±åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨VCANåŠŸèƒ½æ¥æ¨¡æ‹ŸCANæ•°æ®çš„æ”¶å‘ï¼Œè¿™ä¸ªåœ¨åŸå‹å¼€å‘é˜¶æ®µéå¸¸æœ‰ç”¨ï¼Œæ‹¿ä¸€å°ç¬”è®°æœ¬ç›´æ¥è°ƒè¯•CANè®¾å¤‡ ä½¿ç”¨è™šæ‹ŸCANåŠ è½½vcan.koï¼Œè¿™ä¸ªé©±åŠ¨æ˜¯æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„ï¼Œä½ç½®å‚è€ƒï¼š&#x2F;usr&#x2F;lib&#x2F;modules&#x2F;5.15.0-131-generic&#x2F;kernel&#x2F;drivers&#x2F;net&#x2F;can 1sudo modprobe vcan å¦‚æœä½ çš„Linuxæ“ä½œç³»ç»Ÿæ²¡æœ‰vcané©±åŠ¨ï¼Œè¯·ä¸‹è½½kernelç¼–è¯‘ä¸€ä¸ªï¼ŒVCANé©±åŠ¨æ¨¡å—é…ç½®å¦‚ä¸‹ï¼š æ·»åŠ vcanè®¾å¤‡ï¼švcan0 12sudo ip link add dev vcan0 type vcansudo ip link set up vcan0 vcanå¡è¿æ¥ã€å…³é—­ 12ifconfig vcan0 upifconfig vcan0 down å‘é€éšæœºæ•°æ®ç”¨äºå¼€å‘ã€è°ƒè¯•ã€æµ‹è¯• 12345# ç”¨cansendå‘é€8ä¸ªå­—èŠ‚æ•°æ®æ ¼å¼while true; do cansend vcan0 123#1122334455667788; sleep 1; done;# å‘é€éšæœºæ•°while true; do cansend vcan0 $(printf &quot;%X#%02X%02X%02X%02X%02X%02X%02X%02X&quot; $((RANDOM%0x800)) $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256)) $((RANDOM%256))); sleep 1; done; æ¥æ”¶æ•°æ® 1candump vcan0 canæ•°æ®å‘é€å’Œæ¥æ”¶æƒ…å†µç»Ÿè®¡ 1ip -details -statistics link show vcan0 æ•°æ®åˆ†æï¼šå¯ä»¥ç”¨wiresharkå·¥å…·æŠ“å–canå¸§ çœŸå®CANçœŸå®çš„CANéœ€è¦MCU&#x2F;MPU&#x2F;SOCç«¯æœ‰CANæ§åˆ¶å™¨ï¼ˆå†…éƒ¨é›†æˆï¼Œå¼•è„šæœ‰RXDã€TXDï¼‰ã€åŒ¹é…çš„CANæ”¶å‘å™¨ï¼ˆCANHã€CANLï¼‰ã€ä¸ä¹‹åŒ¹é…çš„ç»ˆç«¯ç”µé˜»ï¼ˆé«˜é€ŸCANä¸º120Î©ï¼‰ï¼Œå¸¸è§çš„CANæ”¶å‘å™¨æœ‰ï¼š TJA1043 MCP2515 &#x2F; MCP2551 SN65HVD230 å¯ç”¨canè®¾å¤‡ï¼šä½¿ç”¨å‰å…ˆè®¾ç½®æ³¢ç‰¹ç‡ï¼Œé«˜é€ŸCANä¸º500k 12sudo ip link set can0 type can bitrate 500000sudo ip link set up can0 æœ¬åœ°æµ‹è¯•ç›´æ¥è®¾ç½®æ•°æ®å›ç¯æ¨¡å¼ï¼Œå¦‚æœä¸éœ€è¦è®°å¾—å…³æ‰ï¼Œå¦åˆ™æ•°æ®å‡ºä¸å»ä¹Ÿè¿›ä¸æ¥ï¼ 1234# å¼€å¯æœ¬åœ°å›ç¯æ¨¡å¼sudo ip link set can0 type can loopback on# å…³é—­æœ¬åœ°å›ç¯æ¨¡å¼sudo ip link set can0 type can loopback off ç¼–ç Linux C++å®ç°CANæ•°æ®æ”¶å‘ã€çŠ¶æ€æ£€æµ‹ã€ç‹¬ç«‹çº¿ç¨‹å¤„ç† can_bus_interface.hCanWorkerè´Ÿè´£å¤„ç†socket CANè¿æ¥çŠ¶æ€å’Œæ•°æ®çš„æ”¶å‘ï¼ŒCanBusInterfaceåˆ™ä½œä¸ºä¸€ä¸ªå•ä¾‹ç®¡ç†CANé€šä¿¡ï¼ˆå¼€è¾Ÿçº¿ç¨‹ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#ifndef CANBUSINTERFACE_H#define CANBUSINTERFACE_H#include &lt;QObject&gt;#include &lt;QSocketNotifier&gt;#include &lt;QThread&gt;#include &lt;QDebug&gt;#include &lt;linux/can.h&gt;#include &lt;string&gt;class CanWorker : public QObject&#123; Q_OBJECTpublic: explicit CanWorker(int socket, QObject *parent = nullptr); ~CanWorker();signals: void frameReceived(const struct can_frame &amp;frame); void errorOccurred(const QString &amp;errorString);private slots: void onSocketActivated(int socket);private: int m_socket; QSocketNotifier *m_notifier;&#125;;class CanBusInterface : public QObject&#123; Q_OBJECTpublic: static CanBusInterface *getInstance();protected: explicit CanBusInterface(QObject *parent = nullptr); ~CanBusInterface();public: bool open(const std::string &amp;interfaceName); void close(); bool isOpen() const; bool sendFrame(const struct can_frame &amp;frame);signals: void frameReceived(const struct can_frame &amp;frame); void errorOccurred(const QString &amp;errorString);private: int m_socket; bool m_isOpen; QThread *m_workerThread; CanWorker *m_worker;&#125;;#endif // CANBUSINTERFACE_H can_bus_interface.cppCanWorkerå’ŒCanBusInterfaceçš„å®ç°éƒ¨åˆ†ï¼ŒsocketCANçš„é…ç½®ï¼šsocket(PF_CAN, SOCK_RAW, CAN_RAW) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152#include &quot;can_bus_interface.h&quot;#include &lt;QDebug&gt;#include &lt;QSocketNotifier&gt;#include &lt;sys/socket.h&gt;#include &lt;sys/ioctl.h&gt;#include &lt;net/if.h&gt;#include &lt;unistd.h&gt;// CanWorker å®ç°CanWorker::CanWorker(int socket, QObject *parent) : QObject(parent), m_socket(socket), m_notifier(nullptr)&#123; // åˆ›å»ºsocketé€šçŸ¥å™¨ m_notifier = new QSocketNotifier(m_socket, QSocketNotifier::Read, this); connect(m_notifier, &amp;QSocketNotifier::activated, this, &amp;CanWorker::onSocketActivated); qRegisterMetaType&lt;can_frame&gt;(&quot;can_frame&quot;);&#125;CanWorker::~CanWorker()&#123; if (m_notifier) &#123; m_notifier-&gt;setEnabled(false); delete m_notifier; &#125;&#125;void CanWorker::onSocketActivated(int socket)&#123; Q_UNUSED(socket); struct can_frame frame; int bytesRead = read(m_socket, &amp;frame, sizeof(frame)); if (bytesRead == sizeof(frame)) &#123; emit frameReceived(frame); &#125; else if (bytesRead &lt; 0) &#123; emit errorOccurred(&quot;Failed to read CAN frame&quot;); &#125;&#125;// CanBusInterface å®ç°CanBusInterface *CanBusInterface::getInstance()&#123; static CanBusInterface instance; return &amp;instance;&#125;CanBusInterface::CanBusInterface(QObject *parent) : QObject(parent), m_socket(-1), m_isOpen(false), m_workerThread(nullptr), m_worker(nullptr)&#123;&#125;CanBusInterface::~CanBusInterface()&#123; close();&#125;bool CanBusInterface::open(const std::string &amp;interfaceName)&#123; if (m_isOpen) &#123; qWarning() &lt;&lt; &quot;CAN interface is already open&quot;; return true; &#125; // åˆ›å»ºsocket m_socket = socket(PF_CAN, SOCK_RAW, CAN_RAW); if (m_socket &lt; 0) &#123; emit errorOccurred(&quot;Failed to create socket&quot;); return false; &#125; // è·å–æ¥å£ç´¢å¼• struct ifreq ifr; strncpy(ifr.ifr_name, interfaceName.c_str(), IFNAMSIZ - 1); ifr.ifr_name[IFNAMSIZ - 1] = &#x27;\\0&#x27;; if (ioctl(m_socket, SIOCGIFINDEX, &amp;ifr) &lt; 0) &#123; emit errorOccurred(&quot;Failed to get interface index&quot;); ::close(m_socket); m_socket = -1; return false; &#125; // ç»‘å®šsocketåˆ°CANæ¥å£ struct sockaddr_can addr; addr.can_family = AF_CAN; addr.can_ifindex = ifr.ifr_ifindex; if (bind(m_socket, (struct sockaddr *)&amp;addr, sizeof(addr)) &lt; 0) &#123; emit errorOccurred(&quot;Failed to bind socket to interface&quot;); ::close(m_socket); m_socket = -1; return false; &#125; // åˆ›å»ºå¹¶å¯åŠ¨å·¥ä½œçº¿ç¨‹ m_workerThread = new QThread(); m_worker = new CanWorker(m_socket); m_worker-&gt;moveToThread(m_workerThread); // è¿æ¥ä¿¡å·æ§½ connect(m_workerThread, &amp;QThread::finished, m_worker, &amp;CanWorker::deleteLater); connect(m_workerThread, &amp;QThread::finished, m_workerThread, &amp;QThread::deleteLater); connect(m_worker, &amp;CanWorker::frameReceived, this, &amp;CanBusInterface::frameReceived); connect(m_worker, &amp;CanWorker::errorOccurred, this, &amp;CanBusInterface::errorOccurred); m_workerThread-&gt;start(); m_isOpen = true; return true;&#125;void CanBusInterface::close()&#123; if (!m_isOpen) return; m_isOpen = false; if (m_workerThread) &#123; m_workerThread-&gt;quit(); m_workerThread-&gt;wait(); m_workerThread = nullptr; m_worker = nullptr; &#125; if (m_socket &gt;= 0) &#123; ::close(m_socket); m_socket = -1; &#125;&#125;bool CanBusInterface::isOpen() const&#123; return m_isOpen;&#125;bool CanBusInterface::sendFrame(const struct can_frame &amp;frame)&#123; if (!m_isOpen) &#123; emit errorOccurred(&quot;CAN interface is not open&quot;); return false; &#125; int bytesWritten = write(m_socket, &amp;frame, sizeof(frame)); if (bytesWritten != sizeof(frame)) &#123; emit errorOccurred(&quot;Failed to write CAN frame&quot;); return false; &#125; return true;&#125; æ³¨æ„ç‚¹1ï¼šè¿™é‡Œéœ€è¦æŠŠcan_frameç±»å‹æ³¨å†Œä¸ºQtèƒ½å¤Ÿè¯†åˆ«çš„å…ƒæ•°æ®ç±»å‹ 1qRegisterMetaType&lt;can_frame&gt;(&quot;can_frame&quot;); æ³¨æ„ç‚¹2ï¼šåªæœ‰ç‹¬ç«‹çš„QObjectæ‰èƒ½ä½¿ç”¨moveToThread 12345m_workerThread = new QThread();m_worker = new CanWorker(m_socket);m_worker-&gt;moveToThread(m_workerThread);m_workerThread-&gt;start();","tags":["CAN","linux"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"QtCreator16.0.1è®¾è®¡é¡µé¢æ— æ³•æ‰“å¼€","path":"//qtcreator-designer-page-problem.html","content":"ä»‹ç»åˆšåˆšå®‰è£…å¥½çš„Qt6.8.3ï¼Œæ‰“å¼€Qt Creator 16.0.1å‘ç°æ— æ³•ä½¿ç”¨è®¾è®¡UIæˆ–è€…QMLæ–‡ä»¶çš„åŠŸèƒ½ï¼Œå·¦ä¾§æ çš„æŒ‰é’®å®Œå…¨æ˜¯ç½®ç°ä¸å¯ç”¨çš„çŠ¶æ€ è§£å†³ç‚¹å‡»èœå•æ  -&gt; å¸®åŠ© -&gt; å…³äºæ’ä»¶ï¼Œæœç´¢Qt Quickï¼Œå‹¾é€‰Qt Quick Designeré‡å¯å³å¯ï¼Œä½†çœ‹æ ·å­åé¢æ˜¯ä¸å¤ªä¼šæ”¯æŒä¸‹å»äº† è®¾è®¡åŠŸèƒ½é‡æ–°æ­£å¸¸ä½¿ç”¨ï¼šQMLç¼–è¾‘å’Œé¢„è§ˆ","tags":["QtCreator","Qt6"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ä¸€ä¸ªç®€å•çš„QMLå·¥ç¨‹å‚è€ƒç¤ºä¾‹","path":"//simple-qml-project.html","content":"ä»‹ç»åœ¨RK3588è§¦æ‘¸å±ä¸Šä½¿ç”¨QMLå¼€å‘æ‰‹æŒè®¾å¤‡åº”ç”¨ CMakeQMLå·¥ç¨‹éœ€è¦åŒ…å«Cã€C++ã€QMLã€QRCã€UIç­‰æ–‡ä»¶ï¼Œå‚è€ƒé…ç½®å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041cmake_minimum_required(VERSION 3.5)project(demo LANGUAGES CXX)set(CMAKE_INCLUDE_CURRENT_DIR ON)set(CMAKE_AUTOUIC ON)set(CMAKE_AUTOMOC ON)set(CMAKE_AUTORCC ON)set(CMAKE_CXX_STANDARD 11)set(CMAKE_CXX_STANDARD_REQUIRED ON)find_package(Qt5 COMPONENTS Core Quick REQUIRED)include_directories($&#123;CMAKE_SOURCE_DIR&#125;)set(SRC_DIR $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;)file(GLOB_RECURSE SRC &quot;$&#123;SRC_DIR&#125;/*.cpp&quot; &quot;$&#123;SRC_DIR&#125;/*.cxx&quot; &quot;$&#123;SRC_DIR&#125;/*.cc&quot; &quot;$&#123;SRC_DIR&#125;/*.c&quot;)file(GLOB_RECURSE HEADERS &quot;$&#123;SRC_DIR&#125;/*.h&quot; &quot;$&#123;SRC_DIR&#125;/*.hpp&quot; &quot;$&#123;SRC_DIR&#125;/*.hxx&quot;)file(GLOB_RECURSE RES &quot;$&#123;SRC_DIR&#125;/*.ui&quot; &quot;$&#123;SRC_DIR&#125;/*.qrc&quot;)add_executable($&#123;PROJECT_NAME&#125; $&#123;SRC&#125; $&#123;HEADERS&#125; $&#123;RES&#125;)target_compile_definitions($&#123;PROJECT_NAME&#125; PRIVATE $&lt;$&lt;OR:$&lt;CONFIG:Debug&gt;,$&lt;CONFIG:RelWithDebInfo&gt;&gt;:QT_QML_DEBUG&gt;)target_link_libraries($&#123;PROJECT_NAME&#125; PRIVATE Qt5::Core Qt5::Quick) ä»£ç main.cppï¼Œä¸æ™®é€šçš„Qt5åº”ç”¨ä¸åŒçš„æ˜¯ï¼šè¿è¡Œçš„ä¸»ä½“å˜æˆäº†main.QMLï¼Œcppæ–‡ä»¶åªæ˜¯æä¾›äº†ä¸€ä¸ªåº”ç”¨å…¥å£ï¼Œé€šå¸¸çš„åšæ³•ä¹Ÿæ˜¯å°†QMLæ”¾åˆ°qrcé‡Œè¾¹æ¥æé«˜è¿è¡Œæ•ˆç‡ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;QGuiApplication&gt;#include &lt;QQmlApplicationEngine&gt;#include &lt;QQuickWindow&gt;#include &lt;QQmlContext&gt;class MainViewObject : public QObject &#123; Q_OBJECT Q_PROPERTY(QString text READ getText WRITE setText NOTIFY textChanged)public: explicit MainViewObject(QObject *parent = nullptr) : QObject(parent) &#123; &#125; ~MainViewObject() &#123; &#125;protected: QString getText() &#123; return m_text; &#125; void setText(const QString &amp;text) &#123; m_text = text; &#125;signals: void textChanged();private: QString m_text = &quot;hello world&quot;;&#125;;int main(int argc, char *argv[]) &#123; QGuiApplication app(argc, argv); QQmlApplicationEngine engine; MainViewObject main; engine.rootContext()-&gt;setContextProperty(&quot;mainObject&quot;, &amp;main); engine.load(QUrl(QStringLiteral(&quot;qrc:/QML/MainView.QML&quot;))); QObject *rootObject = engine.rootObjects().first(); QQuickWindow *window = qobject_cast&lt;QQuickWindow*&gt;(rootObject); if (window) &#123; window-&gt;show(); &#125; return app.exec();&#125;#include &quot;main.moc&quot; MainView.qmlï¼Œç±»jsè„šæœ¬æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°è·ŸC++ç¼–è¯‘å®šä¹‰å¼ä¸ä¸€æ ·çš„æ˜¯ï¼šQMLè¿™é‡Œå¾ˆå¤šå¯¹è±¡æˆ–æ§ä»¶ï¼ˆWindowã€Labelã€Imageã€Rectangleã€Rowã€Timerï¼‰éƒ½å˜æˆäº†å£°æ˜å¼ï¼Œæ ¹æ®å¯¹è±¡çš„å±æ€§ç›´æ¥é…ç½®å°±å¥½ï¼Œå¯¹è±¡ä¹‹é—´çš„è”åŠ¨å¯ä»¥é€šè¿‡ä¿¡å·å’Œæ§½æ¥å®ç° 1234567891011121314151617181920212223242526import QtQuick 2.12import QtQuick.Controls 2.12import QtQuick.Window 2.12Window &#123; id: mainWindow width: 1280 height: 720 visible: true flags: Qt.Window | Qt.FramelessWindowHint color: &quot;white&quot; Label &#123; id: textLabel font &#123; pixelSize: 36 &#125; text: mainObject.text color: &quot;black&quot; anchors.centerIn: parent width: parent.width * 0.8 horizontalAlignment: Text.AlignHCenter verticalAlignment: Text.AlignVCenter &#125;&#125; å¯¹è±¡äº¤äº’å±æ€§è®¿é—®C++ -&gt; QMLï¼šé€šè¿‡context propertyä¼ é€’æˆ–è€…qmlRegisterTypeæ–¹å¼ ç¬¬ä¸€ç§æ–¹å¼ï¼ŒC++ç«¯æ³¨å†ŒmainObjectå¯¹è±¡ï¼Œå¯ä»¥åœ¨QMLç›´æ¥ä½¿ç”¨C++å¯¹è±¡å±æ€§ 1234QQmlApplicationEngine engine;MainViewObject main;engine.rootContext()-&gt;setContextProperty(&quot;mainObject&quot;, &amp;main);engine.load(QUrl(QStringLiteral(&quot;qrc:/QML/MainView.QML&quot;))); æ¯”å¦‚æƒ³è¦åœ¨Labelå¯¹è±¡é‡Œè¾¹ä½¿ç”¨mainObjectå¯¹è±¡çš„å±æ€§ï¼Œéƒ½ä¸éœ€è¦æœ‰æ˜¾å¼çš„importå£°æ˜ 123Label &#123;\ttext: mainObject.text&#125; å¦ä¸€ç§æ–¹å¼æ˜¯ï¼Œæ³¨å†ŒQMLå¯¹è±¡çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥æä¾›æˆå‘˜å‡½æ•°è°ƒç”¨ 1234567891011121314151617181920class QmlObject : public QObject &#123; Q_OBJECTpublic: explicit QmlObject(QObject *parent = nullptr) : QObject(parent) &#123; &#125; ~QmlObject() &#123; &#125; Q_INVOKABLE QString getName() &#123; return m_text; &#125;private: QString m_text = &quot;hello world&quot;;&#125;;qmlRegisterType&lt;QmlObject&gt;(&quot;QmlObject&quot;, 1, 0, &quot;QmlObject&quot;); QMLå¯¹è±¡å¯ä»¥é€šè¿‡ä¸Šé¢çš„å¯¹è±¡åç§°è®¿é—®æˆå‘˜å‡½æ•°æˆ–è€…å±æ€§ï¼Œä¸è¿‡è·Ÿå‰ä¸€ç§ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œéœ€è¦æ˜¾å¼è°ƒç”¨import 123456789101112131415import QmlObject 1.0Window &#123; id: mainWindow width: 1280 height: 720 visible: true flags: Qt.Window | Qt.FramelessWindowHint color: &quot;white&quot; property int demo: 1314 Component.onCompleted: &#123; console.log(&quot;name : &quot;, QmlObject.getName()) &#125;&#125; QML -&gt; C++ å¯ä»¥åœ¨QMLä¾§å®šä¹‰propertyæˆ–è€…æŒ‡å®šå¯¹è±¡çš„objectName 12345678910111213import QtQuick 2.12import QtQuick.Controls 2.12import QtQuick.Window 2.12Window &#123; property int demo: 1314 Label &#123; id: customLabel text: mainObject.text objectName: &quot;myLabel&quot; &#125;&#125; C++ä¾§è®¿é—®QMLå¯¹è±¡å±æ€§å’Œå­å¯¹è±¡ 12345QObject *rootObject = engine.rootObjects().first();qDebug() &lt;&lt; &quot;demo : &quot; &lt;&lt; rootObject-&gt;property(&quot;demo&quot;).toInt();auto label = rootObject-&gt;findChild&lt;QObject *&gt;(&quot;myLabel&quot;);label-&gt;setProperty(&quot;text&quot;, &quot;nice to meet you!&quot;); ä¿¡å·å’Œæ§½C++ä¾§å®šä¹‰updateTextä¿¡å· 1234567891011121314151617181920212223242526272829303132// å¯¹è±¡å®šä¹‰class MainViewObject : public QObject &#123; Q_OBJECT Q_PROPERTY(QString text READ getText WRITE setText NOTIFY textChanged)public: explicit MainViewObject(QObject *parent = nullptr) : QObject(parent) &#123; &#125; ~MainViewObject() &#123; &#125;protected: QString getText() &#123; return m_text; &#125; void setText(const QString &amp;text) &#123; m_text = text; &#125;signals: void textChanged(); void updateText(const QString &amp;text);private: QString m_text = &quot;hello world&quot;;&#125;;// C++ç«¯å‘å‡ºä¿¡å·emit main.updateText(&quot;hywing&quot;); QMLä¾§æ•è·updateTextä¿¡å·ï¼Œéœ€è¦åœ¨Connectionsé‡Œè¾¹å®šä¹‰æ§½å‡½æ•° 12345678910111213141516171819Label &#123; id: textLabel objectName: &quot;myLabel&quot; font &#123; pixelSize: 36 &#125; Connections &#123; target: mainObject function onUpdateText(text) &#123; textLabel.text = text; console.log(text) &#125; &#125; Component.onCompleted: &#123; console.log(&quot;this is myLabel&quot;)\t&#125;&#125; ä¹Ÿå¯ä»¥è¿™æ ·ç»™ä¸€ä¸ªå¯¹è±¡ç»‘å®šä¸€ä¸ªåŒ¿åæ§½å‡½æ•°ï¼ŒtextChangedè¿™ä¸ªä¿¡å·å¿…é¡»åœ¨MainViewObjecté‡Œè¾¹æä¾› 123456Component.onCompleted: &#123; console.log(&quot;this is myLabel&quot;) mainObject.textChanged.connect( function() &#123; console.log(&quot;signal emitted!&quot;) &#125;)&#125; è°ƒè¯•QMLçš„è¿œç¨‹è°ƒè¯•éœ€è¦ç»‘å®šç«¯å£å·æ¥ä½¿ç”¨ï¼Œå®é™…å¼€å‘å¾€å¾€éƒ½æ˜¯ç”¨consoleæ‰“logï¼Œå°±åƒweb htmlé‚£æ ·ï¼›å› æ­¤æˆ‘è§‰å¾—ï¼Œå®ƒåšç•Œé¢å°±å¤Ÿäº†ï¼Œä¸è¦æŠŠå¤æ‚çš„ä¸šåŠ¡é€»è¾‘æ‰“åŒ…åœ¨è„šæœ¬æ–‡ä»¶é‡Œè¾¹ æ€»ç»“ QMLåº“çš„æ°´å¤ªæ·±ï¼Œå®¹æ˜“å¥”æºƒï¼ˆæœ‰æ—¶å€™æ˜¯ç¼–è¯‘ä¸æŠ¥é”™ï¼Œè¿è¡Œæ—¶æŠ¥é”™ï¼Œæœ‰äº›ç‰ˆæœ¬åº“å‘½åä¹Ÿæ²¡æœ‰ç»Ÿä¸€ï¼‰ï¼ŒåšQMLå¼€å‘éœ€è¦å…³æ³¨ä¸åŒQt5ç‰ˆæœ¬çš„å…¼å®¹æ€§é—®é¢˜ï¼Œç›®å‰ç”¨2.12åœ¨Qt5.12.9å’ŒQt5.15.8è¿è¡Œéƒ½æ²¡æœ‰é—®é¢˜ å°è£…ç»§æ‰¿ä¸å¥½å®ç°ï¼Œå› ä¸ºå¦‚æœæ˜¯ç®€å•çš„UIå¯ä»¥ç”¨QMLå°è¯•ï¼Œå¤æ‚è¦ç»§æ‰¿çš„è¯è¿˜æ˜¯èµ°C++å§ ä¸šåŠ¡é€»è¾‘ä¹Ÿä¸æ¨èæ”¾QMLç«¯ï¼Œä¸€ä¸ªè„šæœ¬è§£æå¼•æ“çš„æ•ˆç‡è¦æ‰“ä¸Šé—®å·","tags":["Qt5","QML","è§¦æ‘¸å±","è½¦è½½"],"categories":["åµŒå…¥å¼"]},{"title":"RK3588ç§»æ¤GPSD","path":"//rk3588-port-gpsd.html","content":"ä»‹ç»åœ¨Ubuntu20.04ä¸Šäº¤å‰ç¼–è¯‘gpsd-3.25ï¼Œç›®æ ‡ç³»ç»Ÿä¸ºrk3588 Linuxï¼Œç›®æ ‡ç¼–è¯‘å·¥å…·é“¾ä¸ºaarch64-buildroot-linux-gnu ç§»æ¤rk3588ç¼–è¯‘å·¥å…·é“¾é…ç½® 1234source /opt/rk3588/rk3588-aarch64-buildroot-linux-gnu/environment-setupexport TOOLCHAIN_PATH=/opt/rk3588/rk3588-aarch64-buildroot-linux-gnuexport SYSROOT=$TOOLCHAIN_PATH/aarch64-buildroot-linux-gnu/sysrootexport PATH=$TOOLCHAIN_PATH/bin:$PATH GPSDä½¿ç”¨sconså·¥å…·æ„å»ºï¼ŒUbuntu20.04ä¸Šå®‰è£…scons 1sudo apt install scons sconså·¥å…·å¤§è‡´ç”¨æ³• 123456# æ¸…ç†scons -c# ç¼–è¯‘ï¼ˆå¯å¸¦å‚æ•°ï¼‰scons # å®‰è£…scons install GPSDäº¤å‰ç¼–è¯‘é…ç½® 1scons target=aarch64-buildroot-linux-gnu sysroot=$SYSROOT prefix=$PWD/build gpsd_user=nobody gpsd_group=nogroup install_root=$PWD/build qt=no python=no dbus=no chrpath=no strip=yes ncurses=no ä½¿ç”¨scons installå‘½ä»¤å®‰è£…åˆ°æŒ‡å®šç›®å½•ï¼Œç„¶åéƒ¨ç½²åˆ°rk3588å¼€å‘æ¿ä¸Šå»ï¼ˆadbæˆ–è€…scpï¼‰ è¿è¡Œéƒ¨ç½²è‡³å¼€å‘æ¿çš„&#x2F;userdata&#x2F;adminç›®å½•ï¼Œå®é™…ä¸Šåªè¦binã€sbinã€libä¸‰ä¸ªç›®å½•å°±å¤Ÿäº†ï¼Œç„¶åé…ç½®ç¯å¢ƒå˜é‡ 12export PATH=/userdata/admin/build/bin:/userdata/admin/build/sbin:$PATHexport LD_LIBRARY_PATH=/userdata/admin/build/lib:$LD_LIBRARY_PATH æ‰¾åˆ°GNSSçš„ä¸²å£èŠ‚ç‚¹ï¼Œå¯ä»¥ç”¨catå‘½ä»¤ï¼Œæˆ‘è¿™é‡Œçš„èŠ‚ç‚¹æ˜¯ttyS1 1cat /dev/ttyS1 ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š&#x2F;etc&#x2F;gpsd.conf 123456[gpsd]listen = &quot;0.0.0.0&quot;port = &quot;2947&quot;device = &quot;/dev/ttyS1&quot;speed = &quot;9600&quot;nowake = &quot;true&quot; è¿è¡Œgpsdåº”ç”¨ 1/userdata/admin/build/sbin/gpsd -n -G -F /etc/gpsd.conf æµ‹è¯•å¯ä»¥ç”¨gpsdå‘½ä»¤æ‰“å°å½“å‰çš„å®šä½æ•°æ®ï¼šgpsd -N -n -D5 &#x2F;dev&#x2F;ttyS1 è¿›é˜¶æŠŠgpsdåšæˆä¸€ä¸ªè‡ªå¯åŠ¨çš„service 123456789[Unit]Description=gpsd.service[Service]ExecStart=/usr/bin/bash /userdata/admin/autorun.sh#Restart=always[Install]WantedBy=sysinit.target","tags":["linux","rk3588","gpsd"],"categories":["åµŒå…¥å¼"]},{"title":"stm32f103rct6å¼€å‘æ¿æ— æ³•è°ƒè¯•é—®é¢˜","path":"//stm32f103rct6-board-cannot-debug.html","content":"ä»‹ç»STM32CubeMXé…ç½®åŠç”Ÿæˆå·¥ç¨‹ï¼Œå‘ç°ç”¨Keil5ç¼–è¯‘ã€ä¸‹è½½åå±…ç„¶æ— æ³•åœ¨çº¿è°ƒè¯•ï¼ å¯ä»¥æ˜ç¡®çš„æ˜¯ï¼šç¼–è¯‘å’Œä¸‹è½½æ²¡æœ‰é—®é¢˜ï¼Œä½†å¯åŠ¨ä»¿çœŸä¹‹åå°±ä¼šæŠ¥é”™ å›å¤´çœ‹ST-Link V2è°ƒè¯•å™¨å·²ç»æ‰äº†ï¼Œç›´è§‰æ˜¯è¿™ä¸ªæ¿å­å·²ç»å˜ç –äº†â€¦â€¦ æ•‘ç –Debugé€‰é¡¹æ é…ç½®Connectæ–¹å¼ä¸ºï¼šunder Reset æŒ‰ä½å¼€å‘æ¿RESETæŒ‰é”®ï¼Œç‚¹å‡»DownloadæŒ‰é’®ï¼Œç¨‹åºåˆèƒ½æ­£å¸¸çƒ§å½•äº†ï¼Œä½†è¿˜æ˜¯ä¾æ—§æ— æ³•ä»¿çœŸçš„ ä½†æŒ‰ä½RESETé”®ï¼Œå‘ç°ST-Link V2è°ƒè¯•å™¨æ˜¯èƒ½é‡æ–°è¯†åˆ«çš„ åˆ†æST-Link V2è°ƒè¯•å™¨åº”è¯¥æ²¡æœ‰é—®é¢˜ï¼Œå¤§æ¦‚ç‡æ˜¯é€šä¿¡å‡ºäº†é—®é¢˜ï¼Œæ¯”å¦‚ï¼šSWDçš„GPIOé…ç½®ä¸å¯¹ï¼Œä»”ç»†çœ‹SWDIOå’ŒSWCLKä¸¤ä¸ªå£çš„çŠ¶æ€éƒ½æ˜¯é»„çš„ï¼Œåº”è¯¥æ²¡æœ‰æ­£å¸¸å·¥ä½œ è§£å†³ç‚¹å‡»System Core -&gt; SYSï¼Œé…ç½®Debugé¡¹ä¸ºï¼šSerial Wireï¼Œé‡æ–°ç”Ÿæˆå·¥ç¨‹ä»£ç ç¼–è¯‘çƒ§å½•å³å¯è§£å†³é—®é¢˜ stm32f103rct6çš„SYSé…ç½®è·Ÿstm32g030c8t6çš„æœ‰ç‚¹ä¸å¤§ä¸€æ ·","tags":["debug","stm32","stm32f103rct6","swd"],"categories":["åµŒå…¥å¼"]},{"title":"æ±½è½¦ç”µå­ä¸“ä¸šè‹±è¯­åˆé›†","path":"//automotive-electronics-english.html","content":"å‰è¨€æ±½è½¦ç”µå­é¢†åŸŸä¸“ä¸šè‹±è¯­è¯æ±‡æ±‡æ€»ï¼Œä¸å®šæœŸæ›´æ–° è¯æ±‡èŠ¯ç‰‡ç±» VCUï¼šVehicle Control Unitï¼Œæ•´è½¦æ§åˆ¶å™¨ ECUï¼šElectronic Control Unitï¼Œç”µå­æ§åˆ¶å•å…ƒ AUTOSARï¼šAutomotive Open System ARchitectureï¼Œå¼€æ”¾çš„æ±½è½¦ç”µå­ç³»ç»Ÿè½¯ä»¶æ¶æ„æ ‡å‡† Domain Controllerï¼šåŸŸæ§åˆ¶å™¨ Power Train Domainï¼šåŠ¨åŠ›åŸŸ Chassis Domainï¼šåº•ç›˜åŸŸ Body Domainï¼šè½¦èº«åŸŸ ADAS Domainï¼šæ™ºèƒ½é©¾é©¶åŸŸ HMI Domainï¼šæ™ºèƒ½åº§èˆ±åŸŸ Automotive Domainï¼šè‡ªåŠ¨é©¾é©¶åŸŸ ADASï¼šAdvanced Driver Assistance Systemsï¼Œé«˜é˜¶è¾…åŠ©é©¾é©¶ç³»ç»Ÿ è½¦ç¯ç±» å‰ç…§æ˜ç¯ï¼šFront position lamp åç…§æ˜ç¯ï¼šRear position lamp å·¦ç…§æ˜ç¯ï¼šLeft-side marker lamp å³ç…§æ˜ç¯ï¼šRight-side marker lamp é©¾é©¶å®¤é¡¶ç¯ï¼šCab interior lamp å·¦è½¬å‘ç¯ï¼šLeft turn signal lamp å³è½¬å‘ç¯ï¼šRight turn signal lamp ç¤ºå»Šç¯ï¼šClearance lamp å‰è¿‘å…‰ç¯ï¼šLow beam headlamp å‰è¿œå…‰ç¯ï¼šHigh beam headlamp å‰é›¾ç¯ï¼šFront fog lamp ä¿¡å·æŠ¥è­¦ç¯ï¼šWarning signal lamp æ—‹è½¬æŠ¥è­¦ç¯ï¼šRotating beacon light åˆ¹è½¦ç¯ï¼šStop lamp åç‰Œç…§ç¯ï¼šLicense plate lamp å–‡å­ï¼šHorn å‘åŠ¨æœºç±» å‘åŠ¨æœºè½¬é€Ÿï¼šengine speed æœºæ²¹å‹åŠ›ï¼šengine oil pressure æ°´æ¸©ï¼šwater temperature è´Ÿè½½ç‡ï¼šload rate æœºæ²¹æ¸©åº¦ï¼šengine oil temperature ç¬æ—¶æ²¹è€—ï¼šinstantaneous fuel consumption å¢å‹æ¸©åº¦ï¼šboost temperature å‘åŠ¨æœºæ€»æ²¹è€—ï¼štotal fuel consumption å‘åŠ¨æœºæ€»æ—¶é—´ï¼šengine total hours ç¦»åˆå™¨æ»‘å·®ï¼šclutch slip ä¼ æ„Ÿå™¨ç±» åˆ¹è½¦è¸æ¿ï¼šbrake pedal æ²¹é—¨è¸æ¿ï¼šaccelerator pedal å±¥å¸¦æ¶¨ç´§å‹åŠ›ï¼štrack tension pressure å¸å›æ²¹å‹åŠ›å‘è®¯å™¨ï¼šsuction oil pressure sensor å‘åŠ¨æœºç”µå­é˜»å¡ï¼šEngine Electronic Limp Mode è½¬å‘è§’åº¦ä¼ æ„Ÿå™¨ï¼šSteering Angle Sensor é©¾é©¶å®¤æš–é£ï¼šCab Heater å‘åŠ¨æœºå¾ªç¯æ°´åŠ çƒ­ï¼šEngine Coolant Heating æ•…éšœ å¯ç–‘å‚æ•°ç¼–å·ï¼šsuspect parameter numberï¼ŒSPN æ•…éšœæ¨¡å¼æ ‡è¯†ï¼šfailure mode identifierï¼ŒFMI æ•…éšœå‘ç”Ÿæ¬¡æ•°ï¼šoccurence countï¼ŒOC","tags":["ä¸“ä¸šè‹±è¯­","æ±½è½¦ç”µå­"],"categories":["å­¦ç§‘"]},{"title":"å…³äºæ¨¡æ€å¯¹è¯æ¡†","path":"//about-dialog.html","content":"ä»‹ç»æ¨¡æ€å¯¹è¯æ¡†çš„ç‰¹ç‚¹ å¯¹è¯æ¡†å¯¹è±¡æ˜¯ç½®é¡¶çš„ã€ç‹¬ç«‹çš„ã€å„æ–­çš„ï¼Œä¼šæŠŠç”¨æˆ·çš„è¾“å…¥ç„¦ç‚¹æŠ¢èµ° ç”¨æˆ·åªèƒ½æ“ä½œã€å“åº”è¿™ä¸ªå¯¹è¯æ¡†ï¼Œå®Œæˆå¿…è¦çš„äº¤äº’ä¹‹åæ‰èƒ½é€€å‡º åªèƒ½ä½¿ç”¨ç‰¹å®šçš„æ¥å£æ‰èƒ½é€€å‡ºæ¨¡æ€é¡µé¢ ä½¿ç”¨ä»€ä¹ˆæƒ…å†µä¸‹æ—¶å€™ç”¨Dialog / QDialogè¿™æ ·çš„æ¨¡æ€å¯¹è¯æ¡†ï¼Ÿ å‡çº§ç®¡ç†ï¼šæˆåŠŸã€å¤±è´¥ã€è¿›è¡Œä¸­ WiFiã€è“ç‰™ã€4Gã€ä¸²å£ç­‰é…ç½®ç®¡ç†ç•Œé¢ æç¤ºæ¡†ï¼ˆé”™è¯¯ã€è­¦å‘Šã€ç»“æœï¼‰ æ–‡ä»¶ç®¡ç†å™¨ä¹Ÿå¯ä»¥ è‡ªå®šä¹‰å‚æ•°é…ç½®è¡¨ å…³äºé¡µé¢ å¯†ç è®¾ç½® è¾“å…¥æ³•é”®ç›˜å¯ä»¥æ˜¯ä¸€ä¸ªæ¨¡æ€å¯¹è¯æ¡† ä»€ä¹ˆæ—¶å€™ä¸èƒ½ç”¨æ¨¡æ€å¯¹è¯æ¡†ï¼Ÿ ä¸»ç•Œé¢ ç”Ÿå­˜å‘¨æœŸä¸ºå…¨å±€çš„é¡µé¢ä¸æ¨èä½¿ç”¨æ¨¡æ€ çŠ¶æ€åˆ·æ–°æ§ä»¶ åµŒå¥—åœ¨çˆ¶æ§ä»¶é‡Œè¾¹çš„æ§ä»¶ æ¨¡æ€å¯¹è¯æ¡†ä½¿ç”¨è¦ç‚¹ï¼Ÿ åµŒå…¥å¼è§¦æ‘¸å¹³å°å¤§éƒ½éœ€è¦é‡æ–°å®ç°é¡¶éƒ¨æ ‡é¢˜æ æ ·å¼ï¼šæ ‡é¢˜+é•¿æ–¹å½¢èƒŒæ™¯+é€€å‡ºæŒ‰é’®ï¼Œå› ä¸ºè‡ªå¸¦æ ·å¼å®åœ¨å¤ªä¸‘äº† showå’Œexecä¸¤ä¸ªå‡½æ•°çš„æ ·å¼ä¸ä¸€è‡´ï¼Œç‰¹åˆ«æ˜¯showçš„æ ·å¼å®¹æ˜“è¢«çˆ¶æ§ä»¶æ±¡æŸ“ï¼Œæ¨¡æ€å±æ€§ä¸‹æ ·å¼ç‹¬ç«‹äºçˆ¶æ§ä»¶ å°½é‡é¿å…ä½¿ç”¨staticæˆå‘˜å˜é‡ï¼Œä½†å¯ä»¥ä¼ é€’å‚æ•°ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨æŠŠå¯¹è¯æ¡†å¯¹è±¡å½“ä½œå±€éƒ¨å˜é‡æ¥ä½¿ç”¨ å’ŒQtå®šåˆ¶è¾“å…¥æ³•æœ‰å†²çªï¼Œéœ€è¦æ”¹å˜çª—ä½“å±æ€§æ¥å”¤èµ·è¾“å…¥æ³•ç•Œé¢ å·§ç”¨rejectï¼ˆå‰æ‰ï¼‰å’Œacceptï¼ˆç¡®å®šï¼‰ï¼Œä»€ä¹ˆéƒ½ä¸çŸ¥é“å°±closeï¼ˆå¯¹è¯æ¡†ä¹‹å¤–çš„ç‚¹å‡»ï¼‰ å°½é‡ç”¨QMLï¼ˆDialogï¼‰å§ï¼Œå¯¹è§¦æ‘¸å‹å¥½ä¸€äº›","tags":["Qt","QDialog","æ¨¡æ€"],"categories":["åµŒå…¥å¼","ç¨‹åºè®¾è®¡"]},{"title":"Qt EGLFSæŒ‰é’®è¾¹æ¡†æ®‹å½±é—®é¢˜","path":"//qt-eglfs-button-frame-shadow.html","content":"ä»‹ç»åµŒå…¥å¼Qt EGLFSç”±äºæ²¡æœ‰çª—å£ç³»ç»Ÿï¼Œå¾ˆå¤šæ§ä»¶çš„æ ·å¼æˆ–è€…è¡Œä¸ºéƒ½è·ŸPCã€ç”šè‡³æ˜¯åµŒå…¥å¼çš„wayland-eglã€linuxfbä¸å¤§ä¸€æ ·ï¼Œæ¯”å¦‚QPushButtonèšç„¦çš„æ—¶å€™å®ƒä¼šå¸¦ä¸€ä¸ªè™šçº¿æ¡†ï¼Œè€Œå…¶å®ƒå¹³å°æ˜¯ä¸ä¼šçš„ï¼Œqtvirtualkeyboardè¾“å…¥æ³•æ’ä»¶ä¹Ÿç”¨èµ·æ¥æ€ªæ€ªçš„â€¦â€¦ è§£å†³ç»Ÿä¸€æ§ä»¶çš„é»˜è®¤æ ·å¼å³å¯ï¼Œæ¯”å¦‚Fusionï¼ŒFusion æ˜¯ Qt æä¾›çš„ä¸€ä¸ªè·¨å¹³å° widget æ ·å¼ï¼Œå®ƒä¸ä¾èµ–äºä»»ä½•ç‰¹å®šæ“ä½œç³»ç»Ÿçš„åŸç”Ÿå¤–è§‚ï¼Œè€Œæ˜¯æä¾›äº†ä¸€å¥— Qt è‡ªç»˜çš„ç»Ÿä¸€ç•Œé¢é£æ ¼ 1qputenv(&quot;QT_STYLE_OVERRIDE&quot;, &quot;Fusion&quot;); å¦å¤–è§¦æ‘¸å±ä¸Šçš„QPushButtonå°½é‡ç”¨pressedå±æ€§ï¼Œä¸è®ºæ˜¯æ ·å¼è¡¨è¿˜æ˜¯ä¿¡å·ç»‘å®šï¼Œclickedæœ‰æ—¶å€™ä¼šæ²¡æœ‰ååº”ï¼ï¼ˆç‚¹å‡»äº†æŒ‰é’®æ˜æ˜æ ·å¼å˜äº†ï¼Œå°±æ˜¯ä¸ä¼šè§¦å‘æ§½å‡½æ•°ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯EGLFSçš„é—®é¢˜ï¼‰","tags":["Qt","å®å®šä¹‰"],"categories":["åµŒå…¥å¼"]},{"title":"è·¨å¹³å°å®å®šä¹‰","path":"//crossplatform-macros.html","content":"ä»‹ç»ç”±äºä¸šåŠ¡çš„éœ€è¦ï¼Œç»å¸¸åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå¹³å°ç¼–å†™ä»£ç ï¼Œå„ä¸ªç³»ç»Ÿå¹³å°ï¼ˆç¼–è¯‘å™¨ï¼‰ä¸‹çš„æ¥å£æ€»æœ‰å·®å¼‚ï¼Œè¶Šå¾€åº•å±‚èµ°å·®å¼‚è¶Šå¤§ï¼Œæ¯”å¦‚æ‘„åƒå¤´ï¼Œåœ¨Windowsä¸‹å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªé€šç”¨çš„cameraï¼Œä½†æ˜¯åœ¨Linuxä¸‹ä½ å¾—å†™V4L2è§†é¢‘é‡‡é›†çš„é©±åŠ¨ã€‚æ€ä¹ˆåŠï¼Œä½ åªèƒ½ç”¨ä¸€äº›æ¡ä»¶ç¼–è¯‘çš„æ–¹æ³•æŠŠä¸åŒæ“ä½œç³»ç»Ÿçš„ä¸ªæ€§åŒ–å¤„ç†éš”ç¦»å¼€ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨è·¨å¹³å°çš„å®å®šä¹‰äº† ç¼–è¯‘å™¨ç›¸å…³__aarch64__ ï¼šç‰¹æŒ‡aarch64ç¼–è¯‘å™¨ï¼Œå¦‚RK3588ã€XILINX ZU3EGå¹³å° __linux__ ï¼šLinuxæ“ä½œç³»ç»Ÿï¼Œarmæˆ–è€…x64å‡é€‚ç”¨ _WIN64ï¼šç¼–å†™x64åº”ç”¨æ—¶çš„å®å®šä¹‰ï¼Œè¡¨ç¤ºæ˜¯64ä½çš„MSVCç¼–è¯‘å™¨ _WIN32ï¼šç¼–å†™x32åº”ç”¨æ—¶çš„å®å®šä¹‰ï¼Œè¡¨ç¤ºæ˜¯32ä½çš„MSVCç¼–è¯‘å™¨ WIN32ï¼šè¿™ä¸ªæ˜¯Windowså¹³å°çš„gccå†…ç½®çš„å®å®šä¹‰ QTç›¸å…³Q_OS_WINï¼šè¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸ºWindows Q_OS_WIN32ï¼šè¡¨ç¤ºå½“å‰å¼€å‘ç¨‹åºä¸ºwin32åº”ç”¨ Q_OS_WIN64ï¼šè¡¨ç¤ºå½“å‰å¼€å‘ç¨‹åºä¸ºwin64åº”ç”¨ Q_OS_WINDOWSï¼šè¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸ºWindows Q_OS_LINUXï¼šè¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸ºLinuxï¼Œè¿™ä¸ªå®å¥½åƒæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œè¯†åˆ«ä¸äº†Ubuntu20.04ç³»ç»Ÿ Q_OS_MACï¼šè¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸ºmac Q_OS_FREEBSDï¼šè¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸ºFreeBSD Q_OS_ANDROIDï¼šè¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸ºAndroid å‚è€ƒ gccæŸ¥çœ‹ç¼–è¯‘å™¨å†…ç½®å®å®šä¹‰ï¼šgcc -dM -E - &lt;&#x2F;dev&#x2F;null qtå†…ç½®å®å®šä¹‰","tags":["è·¨å¹³å°","å®å®šä¹‰"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Linuxç¯å¢ƒä¸‹ä½¿ç”¨ADBå‘½ä»¤åšåµŒå…¥å¼å¼€å‘","path":"//adb-command-usage.html","content":"ä»‹ç»adbä¸€èˆ¬æ˜¯ç»™Androidå¼€å‘ç”¨çš„ï¼Œä½†æ˜¯æ¢ä¸ªæ€è·¯ä¹Ÿèƒ½åšåµŒå…¥å¼Linuxå¼€å‘ å®‰è£…ä»¥Ubuntu20.04ä¸ºä¾‹ 1sudo apt install android-tools-adb android-tools-fastboot å®‰è£…æˆåŠŸå¯ä»¥æŸ¥çœ‹adbç‰ˆæœ¬å· å‘½ä»¤æŸ¥çœ‹adbè®¾å¤‡ ç™»å½•shell ä¸Šä¼ æ–‡ä»¶åˆ°è®¾å¤‡æŒ‡å®šç›®å½• æ‹‰å–è®¾å¤‡ä¸Šçš„æ–‡ä»¶åˆ°æœ¬åœ°æŒ‡å®šç›®å½• ç«¯å£è½¬å‘ï¼šè½¬å‘22ç«¯å£ç”¨äºQtCreatorè¿œç¨‹è°ƒè¯• ç„¶åé…ç½®Deviceså‚æ•°ï¼Œè®°å¾—å¤šè½¬å‘å‡ ä¸ªç«¯å£ï¼š10000-10005ï¼ŒHost nameå¤„å¡«å†™localhost ç§»é™¤æ‰€æœ‰ADBç«¯å£è½¬å‘ è¿›é˜¶åˆ©ç”¨udevæœºåˆ¶åœ¨ADBé©±åŠ¨è£…è½½ä¹‹åæ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼šsudo vim /etc/udev/rules.d/99-adb-forward.rules 123ACTION==&quot;add&quot;, SUBSYSTEM==&quot;usb&quot;, ENV&#123;PRODUCT&#125;==&quot;2717/ff08/*&quot;, \\ RUN+=&quot;/bin/bash -c &#x27;echo UDEV_CALLED &gt;&gt; /tmp/udev_test.log &amp;&amp; \\ /bin/su asensing -c \\&quot;/usr/local/bin/adb_forward.sh\\&quot;&#x27;&quot; å…¶ä¸­ï¼ŒENV&#123;PRODUCT&#125;å‚æ•°å¯ä»¥é€šè¿‡sudo udevadm monitor --propertyå‘½ä»¤æŸ¥çœ‹åˆ° adb_forward.shè„šæœ¬å†™æ³•å‚è€ƒ 1234567891011121314151617181920212223242526272829303132333435363738#!/bin/bashexport PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/binLOG_FILE=&quot;/tmp/adb_forward.log&quot;exec &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1echo &quot;=== $(date) ===&quot;echo &quot;UDEV ENV:&quot;printenv | grep -E &#x27;ACTION|DEVPATH|PRODUCT|INTERFACE&#x27; &gt;&gt; &quot;$LOG_FILE&quot;# ç­‰å¾…è®¾å¤‡åˆå§‹åŒ–sleep 3# æ£€æµ‹adbå‘½ä»¤ADB_CMD=$(which adb)if [ -z &quot;$ADB_CMD&quot; ]; then echo &quot;ERROR: adb not found!&quot; &gt;&gt; &quot;$LOG_FILE&quot; exit 1fi# å¯åŠ¨adbæœåŠ¡echo &quot;Starting ADB server...&quot;$ADB_CMD start-server# ç­‰å¾…è®¾å¤‡å°±ç»ª# æ‰§è¡Œç«¯å£è½¬å‘echo &quot;Executing: adb forward tcp:8022 tcp:22&quot; &gt;&gt; &quot;$LOG_FILE&quot;$ADB_CMD forward tcp:8022 tcp:22if [ $? -eq 0 ]; then echo &quot;SUCCESS: Port forwarding established&quot; &gt;&gt; &quot;$LOG_FILE&quot;else echo &quot;ERROR: Port forwarding failed&quot; &gt;&gt; &quot;$LOG_FILE&quot; $ADB_CMD devices -l &gt;&gt; &quot;$LOG_FILE&quot; exit 3fi è¿™æ ·ä½ çš„Linuxè®¾å¤‡ä¸€æ—¦è¿æ¥åˆ°è™šæ‹Ÿæœºï¼ŒUbuntuå°±å¯ä»¥é»˜è®¤å¼€å¯adbç«¯å£è½¬å‘äº† æ—¥å¿—ç›‘æ§ 12touch /tmp/adb_forward.logtail -f /tmp/adb_forward.log æ€»ç»“ç”Ÿå‘½åœ¨äºæŠ˜è…¾ï¼æ²¡æœ‰ç½‘å£çš„æƒ…å½¢ä¸‹å¯ä»¥ç”¨ADBè½¬å‘æ¨¡æ‹Ÿç½‘ç»œé€šä¿¡ï¼Œè¿™æ ·gdbserverã€sshã€smbã€nfsã€tftpç­‰ç½‘ç»œæœåŠ¡å°±å¯ä»¥ä½¿ç”¨äº†","tags":["linux","adb"],"categories":["åµŒå…¥å¼"]},{"title":"ch32v307vct6æ ·ç‰‡ç”³è¯·","path":"//ch32v307vct6-sample-request.html","content":"æ²æ’å¾®ç”µå­å®˜ç½‘çš„ä»‹ç» å—äº¬æ²æ’å¾®ç”µå­è‚¡ä»½æœ‰é™å…¬å¸ä¸“æ³¨äºè¿æ¥æŠ€æœ¯å’Œå¾®å¤„ç†å™¨å†…æ ¸ç ”ç©¶ï¼Œæ˜¯ä¸€å®¶åŸºäºè‡ªç ”ä¸“ä¸šæ¥å£IPã€å¾®å¤„ç†å™¨å†…æ ¸IPæ„å»ºèŠ¯ç‰‡çš„é›†æˆç”µè·¯è®¾è®¡ä¼ä¸šã€‚å…¬å¸è‡´åŠ›äºä¸ºå®¢æˆ·æä¾›ä¸‡ç‰©äº’è”ã€ä¸Šä¸‹äº’é€šçš„èŠ¯ç‰‡åŠè§£å†³æ–¹æ¡ˆï¼Œä¸»è¦äº§å“åŒ…æ‹¬USB&#x2F;è“ç‰™&#x2F;ä»¥å¤ªç½‘æ¥å£èŠ¯ç‰‡å’Œè¿æ¥å‹&#x2F;äº’è”å‹&#x2F;æ— çº¿å‹MCUï¼Œäº§å“ä¾§é‡äºè¿æ¥ã€è”ç½‘å’Œæ§åˆ¶ CH32V307 CH32V305&#x2F;7ç³»åˆ—æ˜¯åŸºäº32ä½RISC-Vè®¾è®¡çš„äº’è”å‹å¾®æ§åˆ¶å™¨ï¼Œé…å¤‡äº†ç¡¬ä»¶å †æ ˆåŒºã€å¿«é€Ÿä¸­æ–­å…¥å£ï¼Œåœ¨æ ‡å‡†RISC-VåŸºç¡€ä¸Šå¤§å¤§æé«˜äº†ä¸­æ–­å“åº”é€Ÿåº¦ã€‚åŠ å…¥å•ç²¾åº¦æµ®ç‚¹æŒ‡ä»¤é›†ï¼Œæ‰©å……å †æ ˆåŒºï¼Œå…·æœ‰æ›´é«˜çš„è¿ç®—æ€§èƒ½ã€‚æ‰©å±•ä¸²å£UARTæ•°é‡åˆ°8ç»„ï¼Œç”µæœºå®šæ—¶å™¨åˆ°4ç»„ã€‚æä¾›USB2.0é«˜é€Ÿæ¥å£ï¼ˆ480Mbpsï¼‰å¹¶å†…ç½®äº†PHYæ”¶å‘å™¨ï¼Œä»¥å¤ªç½‘MACå‡çº§åˆ°åƒå…†å¹¶é›†æˆäº†10M-PHYæ¨¡å— ç”³è¯·æµç¨‹æ‰“å¼€æ²æ’å¾®ç”µå­å®˜ç½‘ ç‚¹å‡»æœåŠ¡æ”¯æŒï¼Œé€‰æ‹©æ ·å“ç´¢å– å¡«å†™ç›¸å…³ä¿¡æ¯ ä¸ä¹…å°±ä¼šæœ‰æŠ€æœ¯æ”¯æŒäººå‘˜è¿‡æ¥ç”µè¯è”ç³»ä½ ï¼ŒåŠ å¾®ä¿¡ï¼Œå‘ŠçŸ¥å¿«é€’ä¿¡æ¯ï¼Œéš”ä¸ªä¸¤ä¸‰å¤©å¿«é€’å°±ä¼šé€åˆ° å®˜æ–¹ç»™çš„èµ„æ–™åŒ…é‡Œè¾¹æœ‰å„ç§å„æ ·çš„å¤–è®¾demoï¼ˆæ”¯æŒå„å¼å„æ ·çš„å›½äº§RTOSï¼‰ã€åŸç†å›¾ã€èŠ¯ç‰‡datasheetï¼Œè¿˜è¶…çº§niceçš„æä¾›äº†PCBå·¥ç¨‹ï¼ å¿«é€’å¼€ç®±ç¾ç…§ æ²æ’è¿˜éå¸¸è´´å¿ƒçš„å¤šç»™äº†ä¸¤å—èŠ¯ç‰‡ ä¸‡ç‰©åŸºäºç‚¹ç¯ï¼Œç¬¬ä¸€æ—¶é—´ç‚¹ç¯ï¼Œå¿…é¡»çš„ï¼ æ„Ÿæ…¨è‡ªä¸­ç¾è´¸æ˜“æˆ˜æ‰“å“ä»¥æ¥ï¼Œå›½å†…çš„mcuèŠ¯ç‰‡äº§ä¸šå¦‚åŒä»¥åæ˜¥ç¬‹ä¸€èˆ¬è“¬å‹ƒå‘å±•ï¼Œå¯¹äºåµŒå…¥å¼å·¥ç¨‹å¸ˆæ¥è¯´æ˜¯ä¸€ä»¶éå¸¸å€¼å¾—é«˜å…´çš„äº‹æƒ…ï¼æ¯•ç«Ÿé€‰æ‹©å¤šäº†å¾ˆå¤šï¼Œä¸å†è®©åˆ«äººå¡è„–å­ï¼ŒRISC-Vè¿™ç§å¼€æºæŒ‡ä»¤é›†æœ€æœ‰å¯èƒ½è®©æˆ‘ä»¬å®ç°å¼¯é“è¶…è½¦ï¼Œå¸Œæœ›å›½äººä¸è¦æ”¾å¼ƒæœºä¼šï¼","tags":["æ²æ’","æ ·ç‰‡","ch32v307vct6"],"categories":["åµŒå…¥å¼"]},{"title":"è‡ªå®šä¹‰æ•°æ®ç±»å‹æ”¯æŒqDebugè¾“å‡º","path":"//qdebug-custom-data.html","content":"å‰è¨€å†™Qtç¨‹åºçš„æ—¶å€™ï¼Œå‘ç°è‡ªå®šä¹‰æ•°æ®æ•°æ®å¯¹è±¡å°±ä¸èƒ½ç”¨qDebugç›´æ¥è¾“å‡ºäº†ï¼Œæ¯æ¬¡éƒ½è¦å†™ä¸€å¤§ä¸²çš„å­—ç¬¦å‚æ•°åˆ—è¡¨æ¥æ‰“å°logï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥ç›´æ¥æ‰“å°å¯¹è±¡å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå†™ä¸ªå‹å…ƒå‡½æ•°å°±OKäº† å®ç°ä»¥ç»“æ„ä½“ç±»å‹ä¸ºä¾‹ï¼Œéœ€è¦å®ç°&lt;&lt;è¿ç®—ç¬¦é‡è½½ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748struct Point&#123; float x; float y; float z; int id; int intensity; int imageX; int imageY; Point() &#123; this-&gt;x = qQNaN(); this-&gt;y = qQNaN(); this-&gt;z = qQNaN(); this-&gt;id = qQNaN(); this-&gt;intensity = qQNaN(); this-&gt;imageX = qQNaN(); this-&gt;imageY = qQNaN(); &#125; Point(const Point &amp;point) &#123; this-&gt;x = point.x; this-&gt;y = point.y; this-&gt;z = point.z; this-&gt;id = point.id; this-&gt;intensity = point.intensity; this-&gt;imageX = point.imageX; this-&gt;imageY = point.imageY; &#125; Point &amp;operator =(const Point &amp;point) &#123; this-&gt;x = point.x; this-&gt;y = point.y; this-&gt;z = point.z; this-&gt;id = point.id; this-&gt;intensity = point.intensity; this-&gt;imageX = point.imageX; this-&gt;imageY = point.imageY; return *this; &#125; friend QDebug operator&lt;&lt;(QDebug dbg, const Point &amp;point) &#123; dbg &lt;&lt; point.id &lt;&lt; &quot; : (&quot; &lt;&lt; point.x &lt;&lt; &quot;,&quot; &lt;&lt; point.y &lt;&lt; &quot;,&quot; &lt;&lt; point.z &lt;&lt; &quot;)&quot; &lt;&lt; &quot; intensity : &quot; &lt;&lt; point.intensity; return dbg; &#125;&#125;; ç„¶åè‡ªå®šä¹‰çš„æ•°æ®å¯ä»¥ç›´æ¥ç”¨qDebugæ‰“å°äº† 1qDebug() &lt;&lt; Point();","tags":["Qt","qDebug"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"githubæ— æ³•æäº¤ä»£ç é—®é¢˜","path":"//github-cannot-push.html","content":"é—®é¢˜æè¿°æäº¤ä»£ç åˆ°ä¸ªäººä»“åº“çš„æ—¶å€™å‘ç°æŠ¥é”™ï¼Œè®¤è¯å¤±è´¥ 12345Username for &#x27;https://github.com&#x27;: hywingPassword for &#x27;https://hywing@github.com&#x27;: remote: Support for password authentication was removed on August 13, 2021.remote: Please see https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.fatal: Authentication failed for &#x27;https://github.com/hywing/rt-thread.git/&#x27; è§£å†³åŠæ³•åœ¨GitHubé¡µé¢ç‚¹å‡»å³ä¸Šè§’ä¸ªäººlogoï¼Œé€‰æ‹©Settingsè¿›å…¥Settingsé¡µé¢ åœ¨Settingsé¡µé¢æ‹‰åˆ°æœ€ä¸‹æ–¹ç‚¹å‡»Developer Settings åœ¨Developer Settingsé¡µé¢ä¾æ¬¡ç‚¹å‡»Personal access tokensï¼ŒToken (classic)ï¼ŒGenerate new tokenï¼ŒGenerate new token (classic) å¡«å†™å£ä»¤ä¿¡æ¯ï¼Œç‚¹å‡»Generate tokenï¼Œç‚¹å‡»ä½ æ‰€éœ€è¦çš„è®¿é—®æƒé™ï¼Œç„¶åæ‹·è´å£ä»¤ ç„¶åä½ éœ€è¦é€šç”¨çš„urlæ ¼å¼æ¥éªŒè¯ä½ å¯¹è¿œç¨‹ä»“åº“çš„æ§åˆ¶æƒé™ 1https://åˆšåˆšæ‹·è´çš„å£ä»¤@github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“åç§°.git å°†ç”Ÿæˆçš„å£ä»¤æ‹·è´ï¼Œä½œä¸º git cloneä»“åº“çš„å‰ç¼€ï¼Œæˆ‘çš„å£ä»¤æ˜¯éšæ„å¡«å†™çš„ï¼Œè¿™é‡Œè¦å¡«ä½ è‡ªå·±çš„tokenå£ä»¤ 1git clone https://aaa_bbbKoJyB0oJbuQYjJOILugksoT9VB93TTTTT@github.com/hywing/rt-thread.git å¦‚æœå·²æœ‰ä»“åº“å¯ä»¥é€šè¿‡set urlçš„æ–¹å¼æ›´æ–°token 1git remote set-url origin https://aaa_bbbKoJyB0oJbuQYjJOILugksoT9VB93TTTTT@github.com/hywing/rt-thread.git è¿™æ ·ï¼Œä½ å°±å¯ä»¥é¡ºåˆ©å¯¹è¿œç¨‹ä»“åº“è¿›è¡Œæ“ä½œäº†","tags":["GitHub"],"categories":["å¼€å‘å·¥å…·"]},{"title":"Qtåœ¨å­æ§ä»¶ä¸Šç»˜å›¾","path":"//qt-subcontrol-painting.html","content":"å‰è¨€æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³æ´¾ç”Ÿä¸€ä¸ªç±»ï¼ˆå¯èƒ½æ˜¯å› ä¸ºæ‡’ï¼Œæ¯•ç«Ÿè¦å†™cppå’Œhæ–‡ä»¶ï¼Œè¿˜è¦é‡å†™å®ƒçš„paintEventè™šå‡½æ•°ï¼‰ï¼Œå¯æ˜¯çˆ¶æ§ä»¶çš„paintEventå¹¶ä¸æ˜¯ä½ æƒ³ç”¨å°±èƒ½ç”¨çš„ï¼Œå› ä¸ºå®ƒåªå±äºçˆ¶æ§ä»¶ï¼›é‚£æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œå¯ä»¥åœ¨çˆ¶æ§ä»¶çš„ç±»é‡Œè¾¹å®ç°å­æ§ä»¶çš„ç»˜å›¾å‘¢ï¼Ÿ ä»‹ç»æˆ‘ä»¬éœ€è¦å¯¹Qtçš„äº‹ä»¶æœºåˆ¶æ¯”è¾ƒç†Ÿæ‚‰ï¼Œæ¯”å¦‚paintEventï¼Œå®ƒæœ¬è´¨æ˜¯ä¸€ä¸ªQEvent::paintçš„äº‹ä»¶ï¼›å¦‚æœåœ¨äº‹ä»¶é˜Ÿåˆ—é‡Œè¾¹æ‹¦æˆªäº†QEvent::paintï¼Œå†è¿›è¡ŒQPainterç»˜å›¾ï¼Œè¿™ä¸ªå’ŒpaintEventæ˜¯ä¸€æ ·çš„æ•ˆæœï¼ ä¸¾ä¾‹è¿™é‡Œçš„ui-&gt;dashboard1æ˜¯ä¸€ä¸ªQLabelï¼Œæˆ‘ä»¬æ‰“ç®—ä¾¦å¬å®ƒçš„äº‹ä»¶ 1ui-&gt;dashboard1-&gt;installEventFilter(this); é‡å†™çˆ¶æ§ä»¶çš„eventFilteräº‹ä»¶ï¼Œä¾¦å¬QEvent::Paintäº‹ä»¶ 1234567bool MainWidget::eventFilter(QObject *obj, QEvent *evt)&#123; if(obj == ui-&gt;dashboard1 &amp;&amp; evt-&gt;type() == QEvent::Paint) &#123; this-&gt;drawArc(ui-&gt;dashboard1); &#125; return QFrame::eventFilter(obj, evt);&#125; å­æ§ä»¶ç»˜å›¾ï¼šè¿™é‡Œå¯ä»¥åŠ å…¥è‡ªå®šä¹‰çš„æ•ˆæœ 123456789void MainWidget::drawArc(QWidget *widget)&#123; QPainter painter(widget); painter.setRenderHint(QPainter::Antialiasing, true); QPointF center(204, 204); painter.setPen(Qt::NoPen); painter.setBrush(Qt::red); painter.drawEllipse(center, 3, 3);&#125;","tags":["Qt","ç»˜å›¾"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"FRDM-MCXW71å¼€å‘æŒ‡å—","path":"//frdm-mcxw71-tutorial.html","content":"å‰è¨€æˆ‘ä»NXPå®˜ç½‘ç”³è¯·äº†FRDM-MCXW71å¼€å‘æ¿ï¼Œè¿™ä¸ªæ˜¯ä¸“é—¨ä¸ºæ— çº¿è¿æ¥è®¾è®¡çš„MCUæ–¹æ¡ˆ ä»‹ç»MCXW71æ˜¯NXPæ¨å‡ºçš„ä¸€æ¬¾ä½åŠŸè€—ã€é«˜å®‰å…¨ç³»æ•°ã€é¢å‘æ— çº¿è¿æ¥çš„MCUï¼Œå®ƒçš„æœ€å¤§ä¸»é¢‘æœ‰96MHzï¼Œå†…æ ¸ä¸ºCortex-M33ï¼Œç‰‡ä¸Šé›†æˆ1MB flashå’Œ128KB SRAMï¼›FRDM-MCXW71æ˜¯ä¸€æ¬¾ç´§å‡‘ä¸”å¯æ‰©å±•çš„å¼€å‘æ¿ï¼Œå¯è®©æ‚¨å¿«é€ŸåŸºäºMCX W71æ— çº¿MCUå¼€å±•åŸå‹è®¾è®¡ã€‚å®ƒå¯ä»¥è½»æ¾åœ°è¯„ä¼°MCX W71å¯¹BLEã€Zigbeeã€Threadå’ŒMatterçš„å¤šåè®®æ— çº¿æ”¯æŒã€‚è¯¥æ¿åŒ…æ‹¬ä¸€ä¸ªæ¿è½½MCU-Linkè°ƒè¯•å™¨ã€ä¾¿äºè®¿é—®MCU I&#x2F;Oçš„è¡Œä¸šæ ‡å‡†å¤´ã€ä¸€ä¸ªåŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ã€ä¸€ä¸ªå…‰ä¼ æ„Ÿå™¨å’Œä¸€ä¸ªå¤–æ¥SPIé—ªå­˜ã€‚ å¼€å‘ç¯å¢ƒ å®‰è£…VSCodeï¼Œæˆ‘è¿™é‡Œå®‰è£…çš„ç‰ˆæœ¬æ˜¯1.96.4 æ‰“å¼€VSCode Extensionsï¼Œå®‰è£…MCUPRESSOæ’ä»¶ å®‰è£…Cortex-Debugæ’ä»¶ å®‰è£…CMakeæ’ä»¶ å¦å¤–PCä¹Ÿè¦å®‰è£…CMake ä¸‹è½½ä¸€ä¸ªNinja arm-gcc-toolchainï¼Œæˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯10.2021.10ç‰ˆæœ¬ NXP SDK Repositoryå¯¼å…¥ï¼Œè¿™ä¸ªè¦ä»GitHubä¸Šé¢æ‹‰å–ï¼Œæ‹‰å–æ—¶é—´æ¯”è¾ƒé•¿ å®‰è£…LinkServerå·¥å…· æˆ‘å®‰è£…çš„æ˜¯1.6.133ç‰ˆæœ¬ï¼ŒVSCodeè‡ªåŠ¨èƒ½å¤Ÿè¯†åˆ« ä¸‹è½½sdkåŒ…ï¼šSDK_2_16_100_FRDM-MCXW71.zipï¼Œåœ¨MCUXPRESSO VSCodeé¢æ¿å¯¼å…¥ æ­å»ºdemoå·¥ç¨‹ ç¼–è¯‘hello_worldå·¥ç¨‹å¤±è´¥ 1d:/software/arm-gc~1/102021~1.10/bin/../lib/gcc/arm-none-eabi/10.3.1/../../../../arm-none-eabi/bin/ld.exe: cannot find -lcr_newlib_nohost éœ€è¦æŠŠarmgcc\\debug\\build.ninjaæ–‡ä»¶çš„éƒ¨åˆ†ä»£ç æ³¨é‡Šæ‰ 1-lcr_newlib_nohost ç„¶åæŒ‰F5è¿›å…¥è°ƒè¯•æ¨¡å¼ï¼Œè¿™æ ·å°±å¯ä»¥è¿›è¡Œå¼€å‘æ¿çš„å¼€å‘å·¥ä½œäº† RT-Threadå·¥ç¨‹DiståŒ…è¯·ç”¨RT-Thread Envå·¥å…·å¯¼å‡ºæ”¯æŒcmakeçš„diståŒ… 1scons --dist distå·¥ç¨‹ç¤ºä¾‹ï¼šæ‰€æœ‰RT-Threadæºç è¢«æ‰“åŒ…è‡³rt-threadç›®å½•ï¼Œå¹¶ä¸”è¢«CMakeList.txtç´¢å¼• VSCodeé…ç½®ä»¥ä¸‹é…ç½®æ–‡ä»¶ç”¨äºæ¿€æ´»VSCode MCUPRESSOå·¥ç¨‹ .vscode\\c_cpp_properties.json 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&#123; &quot;configurations&quot;: [ &#123; &quot;name&quot;: &quot;rt-thread&quot;, &quot;defines&quot;: [ &quot;CPU_MCXW716CMFPA&quot;, &quot;DEBUG&quot;, &quot;RT_USING_LIBC&quot;, &quot;RT_USING_NEWLIBC&quot;, &quot;_POSIX_C_SOURCE=1&quot;, &quot;_REENT_SMALL&quot;, &quot;__RTTHREAD__&quot; ], &quot;intelliSenseMode&quot;: &quot;gcc-arm&quot;, &quot;compilerPath&quot;: &quot;C:/env-windows/tools/gnu_gcc/arm_gcc/mingw/bin/arm-none-eabi-gcc&quot;, &quot;cStandard&quot;: &quot;c99&quot;, &quot;cppStandard&quot;: &quot;c++11&quot;, &quot;compileCommands&quot;: [ &quot;build/compile_commands.json&quot; ], &quot;includePath&quot;: [ &quot;applications&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\include&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\ ewlib&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\include&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\phy&quot;, &quot;board&quot;, &quot;board\\\\MCUX_Config\\\\board&quot;, &quot;Libraries\\\\drivers&quot;, &quot;Libraries\\\\drivers\\\\config&quot;, &quot;rt-thread\\\\components\\\\finsh&quot;, &quot;.&quot;, &quot;rt-thread\\\\include&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\common&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\cortex-m33&quot;, &quot;Libraries\\\\CMSIS\\\\Core\\\\Include&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\romapi\\\\flash&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\romapi\\\\mem_interface&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\romapi\\ boot&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\romapi\\\\runbootloader&quot;, &quot;rt-thread\\\\components\\\\libc\\\\posix\\\\io\\\\epoll&quot;, &quot;rt-thread\\\\components\\\\libc\\\\posix\\\\io\\\\eventfd&quot;, &quot;rt-thread\\\\components\\\\libc\\\\posix\\\\io\\\\poll&quot;, &quot;rt-thread\\\\components\\\\libc\\\\posix\\\\ipc&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\smp_call&quot;, &quot;rt-thread\\\\components\\\\utilities\\\\ulog&quot; ] &#125; ], &quot;version&quot;: 4&#125; .vscode\\launch.json 1234567891011121314151617181920212223242526&#123; &quot;configurations&quot;: [ &#123; &quot;type&quot;: &quot;mcuxpresso-debug&quot;, &quot;name&quot;: &quot;Debug project configuration&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;, &quot;executable&quot;: &quot;&quot;, &quot;stopAtSymbol&quot;: &quot;main&quot;, &quot;probeSerialNumber&quot;: &quot;2NL4XDTOIMBQA&quot;, &quot;isAttach&quot;: false, &quot;probeType&quot;: &quot;&quot;, &quot;skipBuildBeforeDebug&quot;: false, &quot;skipPreFlashActions&quot;: false, &quot;gdbInitCommands&quot;: [ &quot;set remotetimeout 600&quot;, &quot;set debug-file-directory&quot;, &quot;set non-stop off&quot; ], &quot;showDevDebugOutput&quot;: &quot;none&quot; &#125; ]&#125; .vscode\\mcuxpresso-tools.json 12345678910111213141516&#123; &quot;version&quot;: &quot;24.9&quot;, &quot;toolchainPath&quot;: &quot;d:/software/arm-gcc-toolchain/10 2021.10&quot;, &quot;linkedProjects&quot;: [], &quot;trustZoneType&quot;: &quot;none&quot;, &quot;multicoreType&quot;: &quot;none&quot;, &quot;debug&quot;: &#123; &quot;linkserver&quot;: &#123; &quot;device&quot;: &quot;MCXW716CxxxA:FRDM-MCXW71&quot;, &quot;core&quot;: &quot;primary&quot; &#125;, &quot;pemicro&quot;: &#123;&#125;, &quot;segger&quot;: &#123;&#125; &#125;, &quot;projectType&quot;: &quot;cmake-freestanding&quot;&#125; .vscode\\project.json 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146&#123; &quot;RT-Thread&quot;: &quot;D:\\\\project\\\\rt-thread&quot;, &quot;Groups&quot;: [ &#123; &quot;name&quot;: &quot;Applications&quot;, &quot;path&quot;: &quot;applications&quot;, &quot;files&quot;: [ &quot;applications\\\\main.c&quot;, &quot;applications\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;Compiler&quot;, &quot;path&quot;: &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\cctype.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\cstdlib.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\cstring.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\ctime.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\cunistd.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\cwchar.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\ ewlib\\\\syscalls.c&quot;, &quot;rt-thread\\\\components\\\\libc\\\\compilers\\\\common\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;DeviceDrivers&quot;, &quot;path&quot;: &quot;rt-thread\\\\components\\\\drivers\\\\core&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\components\\\\drivers\\\\core\\\\device.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\hwtimer\\\\hwtimer.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\completion_comm.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\completion_up.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\condvar.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\dataqueue.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\pipe.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\ringblk_buf.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\ringbuffer.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\waitqueue.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\ipc\\\\workqueue.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\pin\\\\dev_pin.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\serial\\\\dev_serial.c&quot;, &quot;rt-thread\\\\components\\\\drivers\\\\core\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;Drivers&quot;, &quot;path&quot;: &quot;board&quot;, &quot;files&quot;: [ &quot;board\\\\MCUX_Config\\\\board\\\\clock_config.c&quot;, &quot;board\\\\MCUX_Config\\\\board\\\\pin_mux.c&quot;, &quot;board\\\\board.c&quot;, &quot;Libraries\\\\drivers\\\\drv_pin.c&quot;, &quot;Libraries\\\\drivers\\\\drv_uart.c&quot;, &quot;board\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;Finsh&quot;, &quot;path&quot;: &quot;rt-thread\\\\components\\\\finsh&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\components\\\\finsh\\\\msh_parse.c&quot;, &quot;rt-thread\\\\components\\\\finsh\\\\shell.c&quot;, &quot;rt-thread\\\\components\\\\finsh\\\\msh.c&quot;, &quot;rt-thread\\\\components\\\\finsh\\\\cmd.c&quot;, &quot;rt-thread\\\\components\\\\finsh\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;Kernel&quot;, &quot;path&quot;: &quot;.&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\src\\\\clock.c&quot;, &quot;rt-thread\\\\src\\\\components.c&quot;, &quot;rt-thread\\\\src\\\\cpu_up.c&quot;, &quot;rt-thread\\\\src\\\\defunct.c&quot;, &quot;rt-thread\\\\src\\\\idle.c&quot;, &quot;rt-thread\\\\src\\\\ipc.c&quot;, &quot;rt-thread\\\\src\\\\irq.c&quot;, &quot;rt-thread\\\\src\\\\kservice.c&quot;, &quot;rt-thread\\\\src\\\\mem.c&quot;, &quot;rt-thread\\\\src\\\\mempool.c&quot;, &quot;rt-thread\\\\src\\\\object.c&quot;, &quot;rt-thread\\\\src\\\\scheduler_comm.c&quot;, &quot;rt-thread\\\\src\\\\scheduler_up.c&quot;, &quot;rt-thread\\\\src\\\\thread.c&quot;, &quot;rt-thread\\\\src\\\\timer.c&quot;, &quot;.\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;klibc&quot;, &quot;path&quot;: &quot;rt-thread\\\\src\\\\klibc&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\src\\\\klibc\\\\rt_vsnprintf_tiny.c&quot;, &quot;rt-thread\\\\src\\\\klibc\\\\kerrno.c&quot;, &quot;rt-thread\\\\src\\\\klibc\\\\rt_vsscanf.c&quot;, &quot;rt-thread\\\\src\\\\klibc\\\\kstring.c&quot;, &quot;rt-thread\\\\src\\\\klibc\\\\kstdio.c&quot;, &quot;rt-thread\\\\src\\\\klibc\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;libcpu&quot;, &quot;path&quot;: &quot;rt-thread\\\\libcpu\\\\arm\\\\common&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\libcpu\\\\arm\\\\common\\\\atomic_arm.c&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\common\\\\div0.c&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\common\\\\showmem.c&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\cortex-m33\\\\context_gcc.S&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\cortex-m33\\\\cpuport.c&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\cortex-m33\\\\syscall_gcc.S&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\cortex-m33\\\\trustzone.c&quot;, &quot;rt-thread\\\\libcpu\\\\arm\\\\common\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;Libraries&quot;, &quot;path&quot;: &quot;Libraries\\\\MCXW71&quot;, &quot;files&quot;: [ &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_edma.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_cmc.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\system_MCXW716C.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_common_arm.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_crc.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_spc.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_clock.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_ccm32k.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\gcc\\\\startup_MCXW716C.S&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_lpuart.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_gpio.c&quot;, &quot;Libraries\\\\MCXW71\\\\MCXW71\\\\drivers\\\\fsl_common.c&quot;, &quot;Libraries\\\\MCXW71\\\\SConscript&quot; ] &#125;, &#123; &quot;name&quot;: &quot;Utilities&quot;, &quot;path&quot;: &quot;rt-thread\\\\components\\\\utilities\\\\ulog&quot;, &quot;files&quot;: [ &quot;rt-thread\\\\components\\\\utilities\\\\ulog\\\\backend\\\\console_be.c&quot;, &quot;rt-thread\\\\components\\\\utilities\\\\ulog\\\\ulog.c&quot;, &quot;rt-thread\\\\components\\\\utilities\\\\ulog\\\\SConscript&quot; ] &#125; ]&#125; .vscode\\settings.json 12345678&#123; &quot;cmake.configureOnOpen&quot;: false, &quot;C_Cpp.errorSquiggles&quot;: &quot;disabled&quot;, &quot;C_Cpp.default.configurationProvider&quot;: &quot;ms-vscode.cmake-tools&quot;, &quot;cmake.useCMakePresets&quot;: &quot;always&quot;, &quot;cmake.buildTask&quot;: true, &quot;cmake.sourceDirectory&quot;: &quot;$&#123;workspaceFolder&#125;&quot;&#125; .vscode\\tasks.json 123456789101112131415161718192021222324252627282930313233343536373839404142&#123; &quot;version&quot;: &quot;2.0.0&quot;, &quot;tasks&quot;: [ &#123; &quot;type&quot;: &quot;cmake&quot;, &quot;label&quot;: &quot;CMake: build&quot;, &quot;command&quot;: &quot;build&quot;, &quot;preset&quot;: &quot;debug&quot;, &quot;targets&quot;: [ &quot;all&quot; ], &quot;group&quot;: &#123; &quot;kind&quot;: &quot;build&quot;, &quot;isDefault&quot;: true &#125;, &quot;problemMatcher&quot;: [ &quot;$gcc&quot; ], &quot;detail&quot;: &quot;CMake template build task&quot; &#125;, &#123; &quot;type&quot;: &quot;cmake&quot;, &quot;label&quot;: &quot;CMake: clean&quot;, &quot;command&quot;: &quot;clean&quot;, &quot;preset&quot;: &quot;debug&quot;, &quot;problemMatcher&quot;: [ &quot;$gcc&quot; ], &quot;detail&quot;: &quot;CMake template clean task&quot; &#125;, &#123; &quot;type&quot;: &quot;cmake&quot;, &quot;label&quot;: &quot;CMake: configure&quot;, &quot;command&quot;: &quot;configure&quot;, &quot;preset&quot;: &quot;debug&quot;, &quot;problemMatcher&quot;: [ &quot;$gcc&quot; ], &quot;detail&quot;: &quot;CMake template configure task&quot; &#125; ]&#125; CMakePresets.json 123456789101112131415161718192021222324252627282930313233343536373839404142434445&#123; &quot;version&quot;: 7, &quot;cmakeMinimumRequired&quot;: &#123; &quot;major&quot;: 3 &#125;, &quot;configurePresets&quot;: [ &#123; &quot;name&quot;: &quot;debug&quot;, &quot;displayName&quot;: &quot;debug&quot;, &quot;generator&quot;: &quot;Ninja&quot;, &quot;toolchainFile&quot;: &quot;D:/repository/core/tools/cmake_toolchain_files/armgcc.cmake&quot;, &quot;cacheVariables&quot;: &#123; &quot;CMAKE_BUILD_TYPE&quot;: &quot;debug&quot;, &quot;GNinja&quot;: &quot;D:/software/ninja.exe&quot; &#125;, &quot;inherits&quot;: &quot;debug-env&quot; &#125;, &#123; &quot;name&quot;: &quot;release&quot;, &quot;displayName&quot;: &quot;release&quot;, &quot;generator&quot;: &quot;Ninja&quot;, &quot;toolchainFile&quot;: &quot;D:/repository/core/tools/cmake_toolchain_files/armgcc.cmake&quot;, &quot;cacheVariables&quot;: &#123; &quot;CMAKE_BUILD_TYPE&quot;: &quot;release&quot;, &quot;GNinja&quot;: &quot;D:/software/ninja.exe&quot; &#125;, &quot;inherits&quot;: &quot;release-env&quot; &#125; ], &quot;buildPresets&quot;: [ &#123; &quot;name&quot;: &quot;debug&quot;, &quot;displayName&quot;: &quot;debug&quot;, &quot;configurePreset&quot;: &quot;debug&quot; &#125;, &#123; &quot;name&quot;: &quot;release&quot;, &quot;displayName&quot;: &quot;release&quot;, &quot;configurePreset&quot;: &quot;release&quot; &#125; ], &quot;include&quot;: [ &quot;mcux_include.json&quot; ]&#125; mcux_include.json 123456789101112131415161718192021222324252627282930313233&#123; &quot;version&quot;: 7, &quot;cmakeMinimumRequired&quot;: &#123; &quot;major&quot;: 3 &#125;, &quot;configurePresets&quot;: [ &#123; &quot;name&quot;: &quot;debug-env&quot;, &quot;displayName&quot;: &quot;debug-env&quot;, &quot;hidden&quot;: true, &quot;environment&quot;: &#123; &quot;ARMGCC_DIR&quot;: &quot;d:/software/arm-gcc-toolchain/10 2021.10&quot;, &quot;SdkRootDirPath&quot;: &quot;&quot;, &quot;POSTPROCESS_UTILITY&quot;: &quot;&quot;, &quot;MCUX_VENV_PATH&quot;: &quot;&quot;, &quot;PATH&quot;: &quot;$env&#123;MCUX_VENV_PATH&#125;;$penv&#123;PATH&#125;&quot; &#125; &#125;, &#123; &quot;name&quot;: &quot;release-env&quot;, &quot;displayName&quot;: &quot;release-env&quot;, &quot;hidden&quot;: true, &quot;environment&quot;: &#123; &quot;ARMGCC_DIR&quot;: &quot;d:/software/arm-gcc-toolchain/10 2021.10&quot;, &quot;SdkRootDirPath&quot;: &quot;&quot;, &quot;POSTPROCESS_UTILITY&quot;: &quot;&quot;, &quot;MCUX_VENV_PATH&quot;: &quot;&quot;, &quot;PATH&quot;: &quot;$env&#123;MCUX_VENV_PATH&#125;;$penv&#123;PATH&#125;&quot; &#125; &#125; ], &quot;buildPresets&quot;: []&#125; åç»­æ–‡ç« ä¼šä»‹ç»æ€ä¹ˆç§»æ¤RT-Thread","tags":["MCU","NXP","MCXW71"],"categories":["åµŒå…¥å¼"]},{"title":"STM32G030ç§»æ¤RT-Thread","path":"//stm32g030-port-rtt.html","content":"ç§»æ¤æµç¨‹ç§»æ¤å‰éœ€è¦å®‰è£…Keil.STM32G0xx_DFP.1.2.0.packç»„ä»¶ï¼Œå¤§è‡´çš„ç§»æ¤è¿‡ç¨‹ï¼š CubeMXé…ç½® RT-Threadç»„ä»¶é…ç½® å·¥ç¨‹æ¨¡æ¿é…ç½® å‚è€ƒä¾‹ç¨‹é…ç½®ï¼šæ‹·è´ä»“åº“åŸæœ‰çš„stm32g070-st-nucleoå·¥ç¨‹ï¼Œç„¶åå¦èµ·ä¸€ä¸ªåå­—ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ å®Œæ•´çš„RT-Thread BSPéœ€è¦è€ƒè™‘çš„æ”¹åŠ¨ç‚¹ï¼š æ–‡æ¡£ï¼šæŠŠä¸¤ä¸ªREADMEæ–‡æ¡£æ”¹ä¸€ä¸‹ï¼Œæ”¹æˆstm32g030ç›¸å…³çš„è¯´æ˜ èŠ¯ç‰‡ï¼šboardç›®å½•ä¸‹æ˜¯è·Ÿstm32g030ç›¸å…³çš„CubeMXé…ç½®ã€é“¾æ¥è„šæœ¬ã€æ¿çº§åˆå§‹åŒ–æ–‡ä»¶ MDK5ï¼štemplateå·¥ç¨‹æ˜¯å‘½ä»¤scons --target=mdk5ç”Ÿæˆå·¥ç¨‹çš„æ¨¡æ¿ ç³»ç»Ÿï¼š.configæ–‡ä»¶ä¿å­˜RT-Threadç³»ç»Ÿçš„åŸºæœ¬ç»„ä»¶é…ç½®ï¼Œrtconfig.hä¸ä¹‹å…³è” CubeMXé…ç½®æ—¶é’Ÿé…ç½®åœ¨Caegoriesæ ç‚¹å‡»System Coreä¸€æ ï¼Œç„¶åé€‰æ‹©RCCï¼Œå®é™…ä¸ŠHSEå’ŒLSEä¹Ÿå¯ä»¥ä¸ç”¨é…ç½®ï¼Œå› ä¸ºstm32å·²ç»é›†æˆäº†æ™¶æŒ¯ï¼Œåœ¨GPIOèµ„æºç´§å¼ æ—¶å¯ä»¥ä¸é…ç½® è¿™é‡Œé€‰æ‹©ä¸é…ç½®æ—¶é’Ÿï¼ŒClock Configurationé…ç½®å¦‚ä¸‹ï¼š ç³»ç»Ÿæ»´ç­”ç‚¹å‡»SYSé¡¹ï¼Œé…ç½®å¦‚ä¸‹å›¾æ‰€ç¤º ä¸²å£é…ç½®åœ¨Connectivityæ ç‚¹å‡»USART1é¡¹ï¼Œé…ç½®PB6ã€PB7ä¸¤ä¸ªGPIOï¼Œè®¾ç½®æ³¢ç‰¹ç‡ç­‰ä¸²å£å‚æ•° å·¥ç¨‹é…ç½®Project Manageré…ç½®é¡¹å‚è€ƒ Code Generatoré…ç½®ï¼Œæœ€åç‚¹å‡»å³ä¸Šè§’GENERATE CODE ç»„ä»¶é…ç½®å…ˆè¯´ç»“è®ºï¼Œä¸€ä¸ªæˆåŠŸç§»æ¤äº†GPIOå’ŒUSARTçš„ç³»ç»Ÿå·¥ç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š Kconfig 123456789101112131415161718192021222324252627mainmenu &quot;RT-Thread Configuration&quot;BSP_DIR := .RTT_DIR := ../../..PKGS_DIR := packagesconfig SOC_STM32G030RB bool select SOC_SERIES_STM32G0 select RT_USING_COMPONENTS_INIT select RT_USING_USER_MAIN default yconfig BOARD_STM32G030_TINY_BOARD bool select BOARD_SERIES_STM32_NUCLEO_64 default ysource &quot;$(RTT_DIR)/Kconfig&quot;osource &quot;$PKGS_DIR/Kconfig&quot;rsource &quot;../libraries/Kconfig&quot;if !RT_USING_NANOrsource &quot;board/Kconfig&quot;endif board&#x2F;Kconfig 1234567891011121314151617181920212223242526272829303132333435363738menu &quot;Hardware Drivers Config&quot;menu &quot;Onboard Peripheral Drivers&quot;endmenumenu &quot;On-chip Peripheral Drivers&quot; config BSP_USING_GPIO bool &quot;Enable GPIO&quot; select RT_USING_PIN default y menuconfig BSP_USING_UART bool &quot;Enable UART1&quot; default y select RT_USING_SERIAL if BSP_USING_UART config BSP_STM32_UART_V1_TX_TIMEOUT int &quot;UART TX timeout&quot; default 2000 depends on RT_USING_SERIAL_V1 config BSP_USING_UART1 bool &quot;Enable UART1&quot; default y endif source &quot;$(BSP_DIR)/../libraries/HAL_Drivers/drivers/Kconfig&quot;endmenumenu &quot;Board extended module Drivers&quot;endmenuendmenu board&#x2F;SConscript 1234567891011121314151617181920212223242526272829import osimport rtconfigfrom building import *Import(&#x27;SDK_LIB&#x27;)cwd = GetCurrentDir()# add general driverssrc = Split(&#x27;&#x27;&#x27;board.cCubeMX_Config/Src/stm32g0xx_hal_msp.c&#x27;&#x27;&#x27;)path = [cwd]path += [cwd + &#x27;/CubeMX_Config/Inc&#x27;]startup_path_prefix = SDK_LIBif rtconfig.PLATFORM in [&#x27;gcc&#x27;]: src += [startup_path_prefix + &#x27;/STM32G0xx_HAL/CMSIS/Device/ST/STM32G0xx/Source/Templates/gcc/startup_stm32g030xx.s&#x27;]elif rtconfig.PLATFORM in [&#x27;armcc&#x27;, &#x27;armclang&#x27;]: src += [startup_path_prefix + &#x27;/STM32G0xx_HAL/CMSIS/Device/ST/STM32G0xx/Source/Templates/arm/startup_stm32g030xx.s&#x27;]elif rtconfig.PLATFORM in [&#x27;iccarm&#x27;]: src += [startup_path_prefix + &#x27;/STM32G0xx_HAL/CMSIS/Device/ST/STM32G0xx/Source/Templates/iar/startup_stm32g030xx.s&#x27;]CPPDEFINES = [&#x27;STM32G030xx&#x27;]group = DefineGroup(&#x27;Drivers&#x27;, src, depend = [&#x27;&#x27;], CPPPATH = path, CPPDEFINES = CPPDEFINES)Return(&#x27;group&#x27;) board&#x2F;board.h 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/* * Copyright (c) 2006-2025 RT-Thread Development Team * * SPDX-License-Identifier: Apache-2.0 * * Change Logs: * Date Author Notes * 2018-11-5 SummerGift first version */#ifndef __BOARD_H__#define __BOARD_H__#include &lt;rtthread.h&gt;#include &lt;stm32g0xx.h&gt;#include &quot;drv_common.h&quot;#include &quot;drv_gpio.h&quot;#ifdef __cplusplusextern &quot;C&quot; &#123;#endif#define STM32_FLASH_START_ADRESS ((uint32_t)0x08000000)#define STM32_FLASH_SIZE (64 * 1024)#define STM32_FLASH_END_ADDRESS ((uint32_t)(STM32_FLASH_START_ADRESS + STM32_FLASH_SIZE))/* Internal SRAM memory size[Kbytes] &lt;8-64&gt;, Default: 64*/#define STM32_SRAM_SIZE 8#define STM32_SRAM_END (0x20000000 + STM32_SRAM_SIZE * 1024)#if defined(__ARMCC_VERSION)extern int Image$$RW_IRAM1$$ZI$$Limit;#define HEAP_BEGIN ((void *)&amp;Image$$RW_IRAM1$$ZI$$Limit)#elif __ICCARM__#pragma section=&quot;CSTACK&quot;#define HEAP_BEGIN (__segment_end(&quot;CSTACK&quot;))#elseextern int __bss_end;#define HEAP_BEGIN ((void *)&amp;__bss_end)#endif#define HEAP_END STM32_SRAM_ENDvoid SystemClock_Config(void);#ifdef __cplusplus&#125;#endif#endif /* __BOARD_H__ */ board&#x2F;board.c 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/* * Copyright (c) 2006-2025 RT-Thread Development Team * * SPDX-License-Identifier: Apache-2.0 * * Change Logs: * Date Author Notes * 2018-12-21 zylx first version */#include &quot;board.h&quot;void SystemClock_Config(void)&#123; RCC_OscInitTypeDef RCC_OscInitStruct = &#123;0&#125;; RCC_ClkInitTypeDef RCC_ClkInitStruct = &#123;0&#125;; /** Configure the main internal regulator output voltage */ HAL_PWREx_ControlVoltageScaling(PWR_REGULATOR_VOLTAGE_SCALE1); /** Initializes the RCC Oscillators according to the specified parameters * in the RCC_OscInitTypeDef structure. */ RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI; RCC_OscInitStruct.HSIState = RCC_HSI_ON; RCC_OscInitStruct.HSIDiv = RCC_HSI_DIV1; RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT; RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE; if (HAL_RCC_OscConfig(&amp;RCC_OscInitStruct) != HAL_OK) &#123; Error_Handler(); &#125; /** Initializes the CPU, AHB and APB buses clocks */ RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK |RCC_CLOCKTYPE_PCLK1; RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_HSI; RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1; RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1; if (HAL_RCC_ClockConfig(&amp;RCC_ClkInitStruct, FLASH_LATENCY_0) != HAL_OK) &#123; Error_Handler(); &#125;&#125; board&#x2F;linker_scipts&#x2F;link.icf 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157/* * linker script for STM32F10x with GNU ld *//* Program Entry, set to mark it as &quot;used&quot; and avoid gc */MEMORY&#123; ROM (rx) : ORIGIN = 0x08000000, LENGTH = 64k /* 64KB flash */ RAM (rw) : ORIGIN = 0x20000000, LENGTH = 8k /* 8K sram */&#125;ENTRY(Reset_Handler)_system_stack_size = 0x400;SECTIONS&#123; .text : &#123; . = ALIGN(4); _stext = .; KEEP(*(.isr_vector)) /* Startup code */ . = ALIGN(4); *(.text) /* remaining code */ *(.text.*) /* remaining code */ *(.rodata) /* read-only data (constants) */ *(.rodata*) *(.glue_7) *(.glue_7t) *(.gnu.linkonce.t*) /* section information for finsh shell */ . = ALIGN(4); __fsymtab_start = .; KEEP(*(FSymTab)) __fsymtab_end = .; . = ALIGN(4); __vsymtab_start = .; KEEP(*(VSymTab)) __vsymtab_end = .; /* section information for initial. */ . = ALIGN(4); __rt_init_start = .; KEEP(*(SORT(.rti_fn*))) __rt_init_end = .; . = ALIGN(4); PROVIDE(__ctors_start__ = .); KEEP (*(SORT(.init_array.*))) KEEP (*(.init_array)) PROVIDE(__ctors_end__ = .); . = ALIGN(4); _etext = .; &#125; &gt; ROM = 0 /* .ARM.exidx is sorted, so has to go in its own output section. */ __exidx_start = .; .ARM.exidx : &#123; *(.ARM.exidx* .gnu.linkonce.armexidx.*) /* This is used by the startup in order to initialize the .data secion */ _sidata = .; &#125; &gt; ROM __exidx_end = .; /* .data section which is used for initialized data */ .data : AT (_sidata) &#123; . = ALIGN(4); /* This is used by the startup in order to initialize the .data secion */ _sdata = . ; *(.data) *(.data.*) *(.gnu.linkonce.d*) PROVIDE(__dtors_start__ = .); KEEP(*(SORT(.dtors.*))) KEEP(*(.dtors)) PROVIDE(__dtors_end__ = .); . = ALIGN(4); /* This is used by the startup in order to initialize the .data secion */ _edata = . ; &#125; &gt;RAM .stack : &#123; . = ALIGN(4); _sstack = .; . = . + _system_stack_size; . = ALIGN(4); _estack = .; &#125; &gt;RAM __bss_start = .; .bss : &#123; . = ALIGN(4); /* This is used by the startup in order to initialize the .bss secion */ _sbss = .; *(.bss) *(.bss.*) *(COMMON) . = ALIGN(4); /* This is used by the startup in order to initialize the .bss secion */ _ebss = . ; *(.bss.init) &#125; &gt; RAM __bss_end = .; _end = .; /* Stabs debugging sections. */ .stab 0 : &#123; *(.stab) &#125; .stabstr 0 : &#123; *(.stabstr) &#125; .stab.excl 0 : &#123; *(.stab.excl) &#125; .stab.exclstr 0 : &#123; *(.stab.exclstr) &#125; .stab.index 0 : &#123; *(.stab.index) &#125; .stab.indexstr 0 : &#123; *(.stab.indexstr) &#125; .comment 0 : &#123; *(.comment) &#125; /* DWARF debug sections. * Symbols in the DWARF debugging sections are relative to the beginning * of the section so we begin them at 0. */ /* DWARF 1 */ .debug 0 : &#123; *(.debug) &#125; .line 0 : &#123; *(.line) &#125; /* GNU DWARF 1 extensions */ .debug_srcinfo 0 : &#123; *(.debug_srcinfo) &#125; .debug_sfnames 0 : &#123; *(.debug_sfnames) &#125; /* DWARF 1.1 and DWARF 2 */ .debug_aranges 0 : &#123; *(.debug_aranges) &#125; .debug_pubnames 0 : &#123; *(.debug_pubnames) &#125; /* DWARF 2 */ .debug_info 0 : &#123; *(.debug_info .gnu.linkonce.wi.*) &#125; .debug_abbrev 0 : &#123; *(.debug_abbrev) &#125; .debug_line 0 : &#123; *(.debug_line) &#125; .debug_frame 0 : &#123; *(.debug_frame) &#125; .debug_str 0 : &#123; *(.debug_str) &#125; .debug_loc 0 : &#123; *(.debug_loc) &#125; .debug_macinfo 0 : &#123; *(.debug_macinfo) &#125; /* SGI/MIPS DWARF 2 extensions */ .debug_weaknames 0 : &#123; *(.debug_weaknames) &#125; .debug_funcnames 0 : &#123; *(.debug_funcnames) &#125; .debug_typenames 0 : &#123; *(.debug_typenames) &#125; .debug_varnames 0 : &#123; *(.debug_varnames) &#125;&#125; board&#x2F;linker_scipts&#x2F;link.sctï¼Œè¿™ä¸ªæ˜¯MDKçš„é“¾æ¥è„šæœ¬æ–‡ä»¶ï¼Œéœ€è¦åŠ ä¸Šrti_fnä¿è¯RT-Threadç»„ä»¶çš„åˆå§‹åŒ– 1234567891011121314; *************************************************************; *** Scatter-Loading Description File generated by uVision ***; *************************************************************LR_IROM1 0x08000000 0x00010000 &#123; ; load region size_region ER_IROM1 0x08000000 0x00010000 &#123; ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) &#125; RW_IRAM1 0x20000000 0x00002000 &#123; ; RW data .ANY (+RW +ZI) &#125;&#125; board&#x2F;linker_scripts&#x2F;link.ldsï¼Œè¿™ä¸ªæ˜¯arm gccçš„é“¾æ¥è„šæœ¬ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157/* * linker script for STM32F10x with GNU ld *//* Program Entry, set to mark it as &quot;used&quot; and avoid gc */MEMORY&#123; ROM (rx) : ORIGIN = 0x08000000, LENGTH = 64k /* 128KB flash */ RAM (rw) : ORIGIN = 0x20000000, LENGTH = 8k /* 8K sram */&#125;ENTRY(Reset_Handler)_system_stack_size = 0x400;SECTIONS&#123; .text : &#123; . = ALIGN(4); _stext = .; KEEP(*(.isr_vector)) /* Startup code */ . = ALIGN(4); *(.text) /* remaining code */ *(.text.*) /* remaining code */ *(.rodata) /* read-only data (constants) */ *(.rodata*) *(.glue_7) *(.glue_7t) *(.gnu.linkonce.t*) /* section information for finsh shell */ . = ALIGN(4); __fsymtab_start = .; KEEP(*(FSymTab)) __fsymtab_end = .; . = ALIGN(4); __vsymtab_start = .; KEEP(*(VSymTab)) __vsymtab_end = .; /* section information for initial. */ . = ALIGN(4); __rt_init_start = .; KEEP(*(SORT(.rti_fn*))) __rt_init_end = .; . = ALIGN(4); PROVIDE(__ctors_start__ = .); KEEP (*(SORT(.init_array.*))) KEEP (*(.init_array)) PROVIDE(__ctors_end__ = .); . = ALIGN(4); _etext = .; &#125; &gt; ROM = 0 /* .ARM.exidx is sorted, so has to go in its own output section. */ __exidx_start = .; .ARM.exidx : &#123; *(.ARM.exidx* .gnu.linkonce.armexidx.*) /* This is used by the startup in order to initialize the .data secion */ _sidata = .; &#125; &gt; ROM __exidx_end = .; /* .data section which is used for initialized data */ .data : AT (_sidata) &#123; . = ALIGN(4); /* This is used by the startup in order to initialize the .data secion */ _sdata = . ; *(.data) *(.data.*) *(.gnu.linkonce.d*) PROVIDE(__dtors_start__ = .); KEEP(*(SORT(.dtors.*))) KEEP(*(.dtors)) PROVIDE(__dtors_end__ = .); . = ALIGN(4); /* This is used by the startup in order to initialize the .data secion */ _edata = . ; &#125; &gt;RAM .stack : &#123; . = ALIGN(4); _sstack = .; . = . + _system_stack_size; . = ALIGN(4); _estack = .; &#125; &gt;RAM __bss_start = .; .bss : &#123; . = ALIGN(4); /* This is used by the startup in order to initialize the .bss secion */ _sbss = .; *(.bss) *(.bss.*) *(COMMON) . = ALIGN(4); /* This is used by the startup in order to initialize the .bss secion */ _ebss = . ; *(.bss.init) &#125; &gt; RAM __bss_end = .; _end = .; /* Stabs debugging sections. */ .stab 0 : &#123; *(.stab) &#125; .stabstr 0 : &#123; *(.stabstr) &#125; .stab.excl 0 : &#123; *(.stab.excl) &#125; .stab.exclstr 0 : &#123; *(.stab.exclstr) &#125; .stab.index 0 : &#123; *(.stab.index) &#125; .stab.indexstr 0 : &#123; *(.stab.indexstr) &#125; .comment 0 : &#123; *(.comment) &#125; /* DWARF debug sections. * Symbols in the DWARF debugging sections are relative to the beginning * of the section so we begin them at 0. */ /* DWARF 1 */ .debug 0 : &#123; *(.debug) &#125; .line 0 : &#123; *(.line) &#125; /* GNU DWARF 1 extensions */ .debug_srcinfo 0 : &#123; *(.debug_srcinfo) &#125; .debug_sfnames 0 : &#123; *(.debug_sfnames) &#125; /* DWARF 1.1 and DWARF 2 */ .debug_aranges 0 : &#123; *(.debug_aranges) &#125; .debug_pubnames 0 : &#123; *(.debug_pubnames) &#125; /* DWARF 2 */ .debug_info 0 : &#123; *(.debug_info .gnu.linkonce.wi.*) &#125; .debug_abbrev 0 : &#123; *(.debug_abbrev) &#125; .debug_line 0 : &#123; *(.debug_line) &#125; .debug_frame 0 : &#123; *(.debug_frame) &#125; .debug_str 0 : &#123; *(.debug_str) &#125; .debug_loc 0 : &#123; *(.debug_loc) &#125; .debug_macinfo 0 : &#123; *(.debug_macinfo) &#125; /* SGI/MIPS DWARF 2 extensions */ .debug_weaknames 0 : &#123; *(.debug_weaknames) &#125; .debug_funcnames 0 : &#123; *(.debug_funcnames) &#125; .debug_typenames 0 : &#123; *(.debug_typenames) &#125; .debug_varnames 0 : &#123; *(.debug_varnames) &#125;&#125; main.cï¼Œæœ€å°ä¾‹ç¨‹é‡Œè¾¹å¸¦äº†LEDé—ªçƒåŠŸèƒ½ 123456789101112131415161718192021222324252627282930313233343536/* * Copyright (c) 2006-2025 RT-Thread Development Team * * SPDX-License-Identifier: Apache-2.0 * * Change Logs: * Date Author Notes * 2025-3-17 hywing first version */#include &lt;board.h&gt;#include &lt;rtthread.h&gt;#ifndef RT_USING_NANO#include &lt;rtdevice.h&gt;#endif /* RT_USING_NANO *//* defined the LED0 pin: PB4 */#define LED0_PIN GET_PIN(B, 4)int main(void)&#123; /* set LED0 pin mode to output */ rt_pin_mode(LED0_PIN, PIN_MODE_OUTPUT); rt_kprintf(&quot;Welcome to the world of IoT Stuff!\\r &quot;); while (1) &#123; rt_pin_write(LED0_PIN, PIN_HIGH); rt_thread_mdelay(500); rt_pin_write(LED0_PIN, PIN_LOW); rt_thread_mdelay(500); &#125; return RT_EOK;&#125; å·¥ç¨‹æ¨¡æ¿æˆ‘ä»¬å…ˆæŠŠTemplateå·¥ç¨‹é…ç½®å¥½ï¼Œç„¶ååé¢å°±å¯ä»¥é€šè¿‡sconsè‡ªåŠ¨ç”Ÿæˆæƒ³è¦çš„å·¥ç¨‹é…ç½®ï¼Œæ‰“å¼€Templateå·¥ç¨‹æ¨¡æ¿é€‰æ‹©STM32G030C8TX æ—¶é’Ÿé…ç½®ä¸º16MHzï¼Œæ£€æŸ¥IROM1å’ŒIRAM1çš„èµ·å§‹åœ°å€ä»¥åŠå¤§å°æ˜¯å¦æ­£ç¡® ä¸‹è½½å™¨é…ç½®ä¸ºST-Link Debugger ST-Link Debugé…ç½®ï¼ŒClock Reqè®¾ä¸º10MHz Flash Downloadé…ç½® Include Pathsè°ƒæ•´ï¼šæ‹·è´è¿‡æ¥çš„ä¾‹ç¨‹æœ‰äº›æ˜¯ä¸å¯¹çš„ï¼Œéœ€è¦ä¿®æ­£è¿‡æ¥ å¯¼å‡ºMDK Keil5å·¥ç¨‹ 1scons --target=mdk5 å¯¼å‡ºçš„rtconfig.hæ–‡ä»¶é…ç½®å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391#ifndef RT_CONFIG_H__#define RT_CONFIG_H__#define SOC_STM32G030RB#define BOARD_STM32G030_TINY_BOARD/* RT-Thread Kernel *//* klibc options *//* rt_vsnprintf options */#define RT_KLIBC_USING_LIBC_VSNPRINTF/* end of rt_vsnprintf options *//* rt_vsscanf options */#define RT_KLIBC_USING_LIBC_VSSCANF/* end of rt_vsscanf options *//* rt_memset options *//* end of rt_memset options *//* rt_memcpy options *//* end of rt_memcpy options *//* rt_memmove options *//* end of rt_memmove options *//* rt_memcmp options *//* end of rt_memcmp options *//* rt_strstr options *//* end of rt_strstr options *//* rt_strcasecmp options *//* end of rt_strcasecmp options *//* rt_strncpy options *//* end of rt_strncpy options *//* rt_strcpy options *//* end of rt_strcpy options *//* rt_strncmp options *//* end of rt_strncmp options *//* rt_strcmp options *//* end of rt_strcmp options *//* rt_strlen options *//* end of rt_strlen options *//* rt_strnlen options *//* end of rt_strnlen options *//* end of klibc options */#define RT_NAME_MAX 8#define RT_CPUS_NR 1#define RT_ALIGN_SIZE 8#define RT_THREAD_PRIORITY_32#define RT_THREAD_PRIORITY_MAX 32#define RT_TICK_PER_SECOND 1000#define RT_USING_OVERFLOW_CHECK#define RT_USING_HOOK#define RT_HOOK_USING_FUNC_PTR#define RT_USING_IDLE_HOOK#define RT_IDLE_HOOK_LIST_SIZE 4#define IDLE_THREAD_STACK_SIZE 256/* kservice options *//* end of kservice options */#define RT_USING_DEBUG#define RT_DEBUGING_ASSERT#define RT_DEBUGING_COLOR#define RT_DEBUGING_CONTEXT/* Inter-Thread communication */#define RT_USING_SEMAPHORE#define RT_USING_MUTEX#define RT_USING_EVENT#define RT_USING_MAILBOX#define RT_USING_MESSAGEQUEUE/* end of Inter-Thread communication *//* Memory Management */#define RT_USING_MEMPOOL#define RT_USING_SMALL_MEM#define RT_USING_SMALL_MEM_AS_HEAP#define RT_USING_HEAP/* end of Memory Management */#define RT_USING_DEVICE#define RT_USING_CONSOLE#define RT_CONSOLEBUF_SIZE 128#define RT_CONSOLE_DEVICE_NAME &quot;uart1&quot;#define RT_VER_NUM 0x50200#define RT_BACKTRACE_LEVEL_MAX_NR 32/* end of RT-Thread Kernel */#define ARCH_ARM#define ARCH_ARM_CORTEX_M#define ARCH_ARM_CORTEX_M0/* RT-Thread Components */#define RT_USING_COMPONENTS_INIT#define RT_USING_USER_MAIN#define RT_MAIN_THREAD_STACK_SIZE 1024#define RT_MAIN_THREAD_PRIORITY 10#define RT_USING_MSH#define RT_USING_FINSH#define FINSH_USING_MSH#define FINSH_THREAD_NAME &quot;tshell&quot;#define FINSH_THREAD_PRIORITY 20#define FINSH_THREAD_STACK_SIZE 768#define FINSH_USING_HISTORY#define FINSH_HISTORY_LINES 5#define FINSH_USING_SYMTAB#define FINSH_CMD_SIZE 80#define MSH_USING_BUILT_IN_COMMANDS#define FINSH_USING_DESCRIPTION#define FINSH_ARG_MAX 10#define FINSH_USING_OPTION_COMPLETION/* DFS: device virtual file system *//* end of DFS: device virtual file system *//* Device Drivers */#define RT_USING_DEVICE_IPC#define RT_UNAMED_PIPE_NUMBER 64#define RT_USING_SERIAL#define RT_USING_SERIAL_V1#define RT_SERIAL_USING_DMA#define RT_SERIAL_RB_BUFSZ 64#define RT_USING_PIN/* end of Device Drivers *//* C/C++ and POSIX layer *//* ISO-ANSI C layer *//* Timezone and Daylight Saving Time */#define RT_LIBC_USING_LIGHT_TZ_DST#define RT_LIBC_TZ_DEFAULT_HOUR 8#define RT_LIBC_TZ_DEFAULT_MIN 0#define RT_LIBC_TZ_DEFAULT_SEC 0/* end of Timezone and Daylight Saving Time *//* end of ISO-ANSI C layer *//* POSIX (Portable Operating System Interface) layer *//* Interprocess Communication (IPC) *//* Socket is in the &#x27;Network&#x27; category *//* end of Interprocess Communication (IPC) *//* end of POSIX (Portable Operating System Interface) layer *//* end of C/C++ and POSIX layer *//* Network *//* end of Network *//* Memory protection *//* end of Memory protection *//* Utilities *//* end of Utilities *//* Using USB legacy version *//* end of Using USB legacy version *//* end of RT-Thread Components *//* RT-Thread Utestcases *//* end of RT-Thread Utestcases *//* RT-Thread online packages *//* IoT - internet of things *//* Wi-Fi *//* Marvell WiFi *//* end of Marvell WiFi *//* Wiced WiFi *//* end of Wiced WiFi *//* CYW43012 WiFi *//* end of CYW43012 WiFi *//* BL808 WiFi *//* end of BL808 WiFi *//* CYW43439 WiFi *//* end of CYW43439 WiFi *//* end of Wi-Fi *//* IoT Cloud *//* end of IoT Cloud *//* end of IoT - internet of things *//* security packages *//* end of security packages *//* language packages *//* JSON: JavaScript Object Notation, a lightweight data-interchange format *//* end of JSON: JavaScript Object Notation, a lightweight data-interchange format *//* XML: Extensible Markup Language *//* end of XML: Extensible Markup Language *//* end of language packages *//* multimedia packages *//* LVGL: powerful and easy-to-use embedded GUI library *//* end of LVGL: powerful and easy-to-use embedded GUI library *//* u8g2: a monochrome graphic library *//* end of u8g2: a monochrome graphic library *//* end of multimedia packages *//* tools packages *//* end of tools packages *//* system packages *//* enhanced kernel services *//* end of enhanced kernel services *//* acceleration: Assembly language or algorithmic acceleration packages *//* end of acceleration: Assembly language or algorithmic acceleration packages *//* CMSIS: ARM Cortex-M Microcontroller Software Interface Standard *//* end of CMSIS: ARM Cortex-M Microcontroller Software Interface Standard *//* Micrium: Micrium software products porting for RT-Thread *//* end of Micrium: Micrium software products porting for RT-Thread *//* end of system packages *//* peripheral libraries and drivers *//* HAL &amp; SDK Drivers *//* STM32 HAL &amp; SDK Drivers *//* end of STM32 HAL &amp; SDK Drivers *//* Infineon HAL Packages *//* end of Infineon HAL Packages *//* Kendryte SDK *//* end of Kendryte SDK *//* end of HAL &amp; SDK Drivers *//* sensors drivers *//* end of sensors drivers *//* touch drivers *//* end of touch drivers *//* end of peripheral libraries and drivers *//* AI packages *//* end of AI packages *//* Signal Processing and Control Algorithm Packages *//* end of Signal Processing and Control Algorithm Packages *//* miscellaneous packages *//* project laboratory *//* end of project laboratory *//* samples: kernel and components samples *//* end of samples: kernel and components samples *//* entertainment: terminal games and other interesting software packages *//* end of entertainment: terminal games and other interesting software packages *//* end of miscellaneous packages *//* Arduino libraries *//* Projects and Demos *//* end of Projects and Demos *//* Sensors *//* end of Sensors *//* Display *//* end of Display *//* Timing *//* end of Timing *//* Data Processing *//* end of Data Processing *//* Data Storage *//* Communication *//* end of Communication *//* Device Control *//* end of Device Control *//* Other *//* end of Other *//* Signal IO *//* end of Signal IO *//* Uncategorized *//* end of Arduino libraries *//* end of RT-Thread online packages */#define SOC_FAMILY_STM32#define SOC_SERIES_STM32G0#define BOARD_SERIES_STM32_NUCLEO_64/* Hardware Drivers Config *//* Onboard Peripheral Drivers *//* On-chip Peripheral Drivers */#define BSP_USING_GPIO#define BSP_USING_UART#define BSP_STM32_UART_V1_TX_TIMEOUT 2000#define BSP_USING_UART1/* end of On-chip Peripheral Drivers *//* Board extended module Drivers *//* end of Hardware Drivers Config */#endif é‡åˆ°çš„é—®é¢˜ æ–­ç‚¹å¤±æ•ˆï¼šå°½é‡ä¸ç”¨Browse Informationå°±OK æ²¡æœ‰mshæç¤ºç¬¦è¾“å‡ºï¼šæŠŠmshçº¿ç¨‹çš„æ ˆç©ºé—´å¤§å°FINSH_THREAD_STACK_SIZEè°ƒå°ä¸€ç‚¹å°±OKï¼Œ512ä¹Ÿæ˜¯å¯ä»¥çš„ä½†pså‘½ä»¤ä¼šå¡æ­» 1#define FINSH_THREAD_STACK_SIZE 768 èµ„æºç´§å¼ ï¼ŒSRAMæ¯”è¾ƒæœ‰é™ï¼Œä»»åŠ¡çš„å †æ ˆå°½é‡å°ä¸€äº› å¼€æºç§»æ¤çš„å·¥ç¨‹å·²ç»pushåˆ°RT-Thread GitHubä»“åº“ï¼šrt-thread&#x2F;bsp&#x2F;stm32&#x2F;stm32g030-tiny-board at master Â· RT-Thread&#x2F;rt-thread","tags":["RT-Thread","stm32"],"categories":["åµŒå…¥å¼"]},{"title":"å¦‚ä½•æ’¤é”€ç¼“å†²åŒºçš„æäº¤","path":"//git-reset-command.html","content":"ä»‹ç»ä¸€æ¬¡è¯¯æ“ä½œå‘ç°commitçš„æ—¶å€™æ¼æäº¤ä¸€äº›æ–‡ä»¶ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰pushåˆ°è¿œç«¯ä»“åº“ï¼Œç¼“å†²åŒºå¯ä»¥çœ‹åˆ°æäº¤è®°å½• è§£å†³git-bashç”¨resetå‘½ä»¤å°†commitæ’¤é”€æ‰ï¼ˆæœ€è¿‘ä¸€æ¬¡æäº¤è®°å½•ä¼šæ²¡æœ‰ï¼‰ï¼Œç„¶åä¿®æ”¹çš„æ–‡ä»¶ä¿å­˜åˆ°å½“å‰å·¥ä½œåŒºï¼Œç”¨æˆ·å¯ä»¥å†æ¬¡æäº¤ 1git reset --soft HEAD^ tortoiseGitåœ¨ä»“åº“æ‰€åœ¨æ–‡ä»¶å¤¹å³é”®èœå•æ‰“å¼€Show logåˆ—è¡¨ï¼Œç„¶åé€‰ä¸­æŸæ¡æäº¤è®°å½•å³é”®å†å¼¹å‡ºèœå•ï¼Œç‚¹å‡»Reset xxx to this ...å°±å¯ä»¥å›é€€äº†","tags":["git"],"categories":["å¼€å‘å·¥å…·"]},{"title":"å€ç¦å®˜æ–¹ADSç»„ä»¶ä½¿ç”¨","path":"//beckhoff-ads-usage.html","content":"ä»‹ç»å€ç¦å®˜æ–¹æŠŠADSé€šä¿¡ç»„ä»¶åšæˆäº†è·¨å¹³å°ï¼ˆWindowsã€Linuxã€BSDï¼‰ï¼Œè€Œä¸”è¿˜å¼€æºï¼Œè¿™ä¸‹åœ¨Unixå¼€å‘å·¥æ§æœºä¸Šä½æœºè½¯ä»¶å°±é—®é¢˜ä¸å¤§äº†ï¼Œè¿™æ˜¯å®˜æ–¹çš„ç¼–è¯‘å™¨é…ç½®è¦æ±‚ï¼š Currently (2024-12-13) tested with: host os host target compiler Alpine 3.21 amd64 amd64 gcc 14.2.0 Arch Linux amd64 amd64 clang 18.1.8 Arch Linux amd64 amd64 gcc 14.2.1 Debian 12 amd64 amd64 clang 14.0.6 Debian 12 amd64 amd64 gcc 12.2.0-14 Debian 12 amd64 i686 gcc 12.2.0-14 Debian 12 amd64 mips gcc 12.2.0-14 Debian 12 amd64 win32 gcc 10.2.1-6 Debian 12 amd64 riscv64 gcc 12.2.0-13 Debian 12 arm64 arm64 gcc 12.2.0-14 TC&#x2F;BSD 14 amd64 amd64 clang 18.1.5 Windows 10 amd64 win64 msvc 19.36.33134 ç¼–è¯‘å¼€æºå·¥ç¨‹æ˜¯ç”¨cmakeæ„å»ºçš„ï¼Œåœ¨Windowsä¸‹å¯ä»¥ç›´æ¥ç”¨QtCreatoræ‰“å¼€ é…ç½®ç¼–è¯‘çš„ç±»å‹ã€æ„å»ºè·¯å¾„ã€å®‰è£…ç›®å½• ç”¨MSVC2017ç¼–è¯‘éœ€è¦åœ¨é¡¶å±‚cmakeåŠ å…¥ä¸€è¡Œä»£ç  æ„å»ºå·¥ç¨‹çš„è¿‡ç¨‹ä¸­ä¼šé‡åˆ°Linké”™è¯¯ï¼Œæ˜æ˜¾è¿™ä¸ªæ˜¯ä¸ªé™æ€åº“lib åœ¨AdsLibé‡Œè¾¹æ”¹ä¸€ä¸‹åº“çš„é…ç½®ç±»å‹ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠå‰é¢é‚£ä¸ªBUILD_SHARED_LIBSçš„é€‰é¡¹å»æ‰ ç„¶åç‚¹å‡»é‡æ–°æ„å»ºå°±å¥½ æµ‹è¯•ADSç»„ä»¶é‡Œè¾¹è‡ªå¸¦çš„exampleä¾‹ç¨‹ä¹Ÿå¾ˆç®€å•ï¼Œè·Ÿä»¥å¤ªç½‘é€šä¿¡é‚£ä¸€å¥—ç±»ä¼¼ï¼Œéƒ½æ˜¯å¯¹æŒ‡å®šIPåœ°å€å’Œç«¯å£å‘èµ·è¿æ¥ï¼ŒTC3çš„ç«¯å£ä¸º851 1234567891011121314151617static void runExample(std::ostream&amp; out)&#123; static const AmsNetId remoteNetId &#123; 192, 168, 0, 231, 1, 1 &#125;; static const char remoteIpV4[] = &quot;ads-server&quot;; // uncomment and adjust if automatic AmsNetId deduction is not working as expected //bhf::ads::SetLocalAddress(&#123;192, 168, 0, 1, 1, 1&#125;); AdsDevice route &#123;remoteIpV4, remoteNetId, AMSPORT_R0_PLC_TC3&#125;; notificationExample(out, route); notificationByNameExample(out, route); readExample(out, route); readByNameExample(out, route); readWriteExample(out, route); readWriteArrayExample(out, route); readStateExample(out, route);&#125; AdsDeviceç±»å‹ï¼Œéœ€è¦é…ç½®AdsDeviceçš„åœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯åè¯»å–æŒ‡å®šåœ°å€æˆ–åç§°çš„å¯„å­˜å™¨å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647struct AdsDevice &#123; AdsDevice(const std::string&amp; ipV4, AmsNetId netId, uint16_t port); DeviceInfo GetDeviceInfo() const; /** Get handle to access AdsVariable by indexGroup/Offset */ AdsHandle GetHandle(uint32_t offset) const; /** Get handle for access by symbol name */ AdsHandle GetHandle(const std::string&amp; symbolName) const; /** Get notification handle */ AdsHandle GetHandle(uint32_t indexGroup, uint32_t indexOffset, const AdsNotificationAttrib&amp; notificationAttributes, PAdsNotificationFuncEx callback, uint32_t hUser) const; /** Get handle to access files */ AdsHandle OpenFile(const std::string&amp; filename, uint32_t flags) const; long GetLocalPort() const; AdsDeviceState GetState() const; void SetState(const ADSSTATE AdsState, const ADSSTATE DeviceState) const; uint32_t GetTimeout() const; void SetTimeout(const uint32_t timeout) const; long ReadReqEx2(uint32_t group, uint32_t offset, size_t length, void* buffer, uint32_t* bytesRead) const; long ReadWriteReqEx2(uint32_t indexGroup, uint32_t indexOffset, size_t readLength, void* readData, size_t writeLength, const void* writeData, uint32_t* bytesRead) const; long WriteReqEx(uint32_t group, uint32_t offset, size_t length, const void* buffer) const; AdsResource&lt;const AmsNetId&gt; m_NetId; const AmsAddr m_Addr;private: AdsResource&lt;const long&gt; m_LocalPort; long CloseFile(uint32_t handle) const; long DeleteNotificationHandle(uint32_t handle) const; long DeleteSymbolHandle(uint32_t handle) const;&#125;; AdsVariableæ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»å‹ï¼Œå°è£…äº†å„ç§å„æ ·çš„å¯„å­˜å™¨ç±»å‹çš„æ•°æ®è®¿é—®ï¼ˆIndexGroupã€groupã€offsetæˆ–è€…symbolNameï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566template&lt;typename T&gt;struct AdsVariable &#123; AdsVariable(const AdsDevice&amp; route, const std::string&amp; symbolName) : m_Route(route), m_IndexGroup(ADSIGRP_SYM_VALBYHND), m_Handle(route.GetHandle(symbolName)) &#123;&#125; AdsVariable(const AdsDevice&amp; route, const uint32_t group, const uint32_t offset) : m_Route(route), m_IndexGroup(group), m_Handle(route.GetHandle(offset)) &#123;&#125; operator T() const &#123; T buffer; Read(sizeof(buffer), &amp;buffer); return buffer; &#125; void operator=(const T&amp; value) const &#123; Write(sizeof(T), &amp;value); &#125; template&lt;typename U, size_t N&gt; operator std::array&lt;U, N&gt;() const &#123; std::array&lt;U, N&gt; buffer; Read(sizeof(U) * N, buffer.data()); return buffer; &#125; template&lt;typename U, size_t N&gt; void operator=(const std::array&lt;U, N&gt;&amp; value) const &#123; Write(sizeof(U) * N, value.data()); &#125; void Read(const size_t size, void* data) const &#123; uint32_t bytesRead = 0; auto error = m_Route.ReadReqEx2(m_IndexGroup, *m_Handle, size, data, &amp;bytesRead); if (error || (size != bytesRead)) &#123; throw AdsException(error); &#125; &#125; void Write(const size_t size, const void* data) const &#123; auto error = m_Route.WriteReqEx(m_IndexGroup, *m_Handle, size, data); if (error) &#123; throw AdsException(error); &#125; &#125;private: const AdsDevice&amp; m_Route; const uint32_t m_IndexGroup; const AdsHandle m_Handle;&#125;; æ ¹æ®groupå’Œoffsetè¯»å–å¯„å­˜å™¨å€¼ 123456789static void readExample(std::ostream&amp; out, const AdsDevice&amp; route)&#123; AdsVariable&lt;uint8_t&gt; readVar &#123;route, 0x4020, 0&#125;; out &lt;&lt; __FUNCTION__ &lt;&lt; &quot;(): &quot;; for (size_t i = 0; i &lt; 8; ++i) &#123; out &lt;&lt; &quot;ADS read &quot; &lt;&lt; std::hex &lt;&lt; (uint32_t)readVar &lt;&lt; &#x27; &#x27;; &#125;&#125; æ ¹æ®nameè¯»å–å¯„å­˜å™¨å€¼ 123456789static void readByNameExample(std::ostream&amp; out, const AdsDevice&amp; route)&#123; AdsVariable&lt;uint8_t&gt; readVar &#123;route, &quot;MAIN.byByte[4]&quot;&#125;; out &lt;&lt; __FUNCTION__ &lt;&lt; &quot;(): &quot;; for (size_t i = 0; i &lt; 8; ++i) &#123; out &lt;&lt; &quot;ADS read &quot; &lt;&lt; std::hex &lt;&lt; (uint32_t)readVar &lt;&lt; &#x27; &#x27;; &#125;&#125; è¯»å†™ç¤ºä¾‹ 1234567891011static void readWriteExample(std::ostream&amp; out, const AdsDevice&amp; route)&#123; AdsVariable&lt;uint8_t&gt; simpleVar &#123;route, &quot;MAIN.byByte[0]&quot;&#125;; AdsVariable&lt;uint8_t&gt; validation &#123;route, &quot;MAIN.byByte[0]&quot;&#125;; out &lt;&lt; __FUNCTION__ &lt;&lt; &quot;(): &quot;; simpleVar = 0xA5; out &lt;&lt; &quot;Wrote &quot; &lt;&lt; 0xA5 &lt;&lt; &quot; to MAIN.byByte and read &quot; &lt;&lt; (uint32_t)validation &lt;&lt; &quot; back &quot;; simpleVar = 0x5A; out &lt;&lt; &quot;Wrote &quot; &lt;&lt; (uint32_t)simpleVar &lt;&lt; &quot; to MAIN.byByte and read &quot; &lt;&lt; (uint32_t)validation &lt;&lt; &quot; back &quot;;&#125; åº”ç”¨æ„å»ºå¥½ä¹‹ååœ¨installç›®å½•ä¸‹ä¼šç”Ÿæˆç›¸å…³çš„åº“æ–‡ä»¶ã€å¤´æ–‡ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ‹¿åˆ°è‡ªå·±çš„é¡¹ç›®ä½¿ç”¨ åœ¨cmakeé‡Œè¾¹åŒ…å«å’Œé“¾æ¥adsç»„ä»¶ 123include_directories($&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/ads)target_link_libraries(demoApp PUBLIC ads)","tags":["è‡ªåŠ¨åŒ–","ADS"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"å¼€å‘æ¿ç¡¬ä»¶æµ‹è¯•","path":"//board-test.html","content":"å‰è¨€ä½œä¸ºä¸€åç”µå­å·¥ç¨‹å¸ˆï¼Œä½ å¯ä»¥ä¸æ‡‚åµŒå…¥å¼ï¼Œä½†ä½ ç»å¯¹ä¸èƒ½ä¸æ‡‚ç¤ºæ³¢å™¨ï¼ ä»‹ç»åµŒå…¥å¼å·¥ç¨‹å¸ˆæ‹¿åˆ°å¼€å‘æ¿ç¬¬ä¸€æ—¶é—´éœ€è¦æ£€æŸ¥å¼€å‘æ¿åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œç¤ºæ³¢å™¨ç”¨æ¥åšç¡¬ä»¶æµ‹è¯•æœ€å¥½ä¸è¿‡äº†ï¼Œè¿™é‡Œä»¥æ•°å­—ç”µè·¯ä¸ºä¾‹åˆ—ä¸¾ä¸€äº›å¸¸è§çš„æµ‹è¯•æ–¹æ³• ç”µæºç”µæºå¤±ç¨³æœ‰å¯èƒ½å¯¼è‡´èŠ¯ç‰‡æ— æ³•æ­£å¸¸å·¥ä½œï¼Œç”µæºæµ‹è¯•ä¸»è¦æ˜¯é’ˆå¯¹USBç”µæºã€ä¸‰ç«¯ç¨³å‹å™¨ï¼ˆçº¿æ€§ç”µæºï¼‰ã€GPIOç”µå¹³ã€LEDç”µæºæŒ‡ç¤ºç¯ç­‰ æ—¶é’Ÿæ™¶æŒ¯ä¸èµ·æŒ¯å¯èƒ½ä¼šå¯¼è‡´èŠ¯ç‰‡æ— æ³•å·¥ä½œï¼Œä¸è¿‡åƒstm32è¿™æ ·çš„èŠ¯ç‰‡éƒ½å†…ç½®æ™¶æŒ¯ï¼Œè¿™ä¸ªå¯ä»¥å¸®å¿™åˆ¤æ–­æ£€æŸ¥å¤–ç½®æ™¶æŒ¯æˆ–RTCæ˜¯å¦èµ·æŒ¯ï¼Œä½†ä¸èƒ½ä½œä¸ºèŠ¯ç‰‡ä¸èƒ½å·¥ä½œçš„å”¯ä¸€ä¾æ® æŒ‰é”®ä¸»è¦æ˜¯å¤ä½æŒ‰é”®ä»¥åŠç”¨æˆ·æŒ‰é”®çš„å·¥ä½œçŠ¶å†µï¼ˆæ˜¯å¦èƒ½ç¨³å®šè¾“å‡ºè„‰å†²ï¼‰ å¤–è®¾æ¯”å¦‚i2cä¸»ä»è®¾å¤‡é€šä¿¡æ˜¯å¦æ­£å¸¸ï¼ˆå¦‚ç¡¬ä»¶å¿˜äº†ç»™SDAã€SCLä¸Šæ‹‰ç”µé˜»ï¼‰ï¼Œå›½äº§ç¤ºæ³¢å™¨é€šå¸¸è‡ªå¸¦åè®®è§£ç çš„åŠŸèƒ½ï¼Œæ¨èç”¨å›½äº§ç¤ºæ³¢å™¨æ¥æµ‹è¯• PWMæ³¢å½¢ä¹Ÿä¸ä¾‹å¤–","tags":["å¼€å‘æ¿","ç¤ºæ³¢å™¨"],"categories":["åµŒå…¥å¼"]},{"title":"ä¸Šä½æœºæ•°æ®å¯è§†åŒ–ï¼šä½¿ç”¨QtChartsç»˜åˆ¶æ³¢å½¢å›¾","path":"//qt-charts-design.html","content":"å·¥ç¨‹é…ç½®CMakeæ–‡ä»¶ 123find_package(Qt5 COMPONENTS Charts REQUIRED)target_link_libraries(zhd-desktop PRIVATE Qt5::Charts) åŒ…å«å¤´æ–‡ä»¶ä»¥åŠåç§°ç©ºé—´ï¼ˆè¿™ä¸ªå¾ˆé‡è¦ï¼Œæ²¡æœ‰åŒ…å«åç§°ç©ºé—´ç¼–è¯‘å™¨ä¼šæç¤ºæ‰¾ä¸åˆ°ç›¸å…³çš„ç±»å‹ï¼‰ 123#include &lt;QtCharts&gt;using namespace QtCharts; åˆå§‹åŒ–åˆå§‹åŒ–Chart 1234567891011121314// åˆ›å»ºå›¾è¡¨QChart *chart = new QChart();chart-&gt;setTitle(&quot;Valve Data&quot;);// éšè—å›¾ä¾‹chart-&gt;legend()-&gt;setVisible(false);// åˆ›å»ºå›¾è¡¨è§†å›¾QChartView *chartView = new QChartView(chart);chartView-&gt;setRenderHint(QPainter::Antialiasing);QHBoxLayout *hLayout = new QHBoxLayout(ui-&gt;view);hLayout-&gt;addWidget(chartView);hLayout-&gt;setContentsMargins(0, 0, 0, 0); æ³¢å½¢æ¯ä¸€é“æ³¢å½¢å°±æ˜¯ä¸€ä¸ªQLineSeriesï¼Œæ¯ä¸ªQLineSerieséƒ½è¦å’ŒXè½´å’ŒYè½´è¿›è¡Œç»‘å®š 123456789101112131415m_temperature = new QLineSeries();m_temperature-&gt;setColor(Qt::red);m_temperature-&gt;setPointsVisible(true);m_pressure = new QLineSeries();m_pressure-&gt;setColor(Qt::blue);m_pressure-&gt;setPointsVisible(true);m_position = new QLineSeries();m_position-&gt;setColor(Qt::black);m_position-&gt;setPointsVisible(true);m_pressureSetpt = new QLineSeries();m_pressureSetpt-&gt;setColor(Qt::darkYellow);m_pressureSetpt-&gt;setPointsVisible(true); ä¸ºäº†ä½¿æ³¢å½¢æ›´æœ‰åŒºåˆ†åº¦ï¼Œéœ€è¦é…ç½®ä¸åŒçš„é¢œè‰²ï¼Œå»ºè®®è·ŸYè½´åˆ»åº¦çš„é¢œè‰²ä¿æŒä¸€è‡´ï¼Œç‰¹åˆ«æ˜¯è½´æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ 1234567void setAxisColor(QAbstractAxis *axis, const QColor &amp;color)&#123; axis-&gt;setGridLineColor(color); axis-&gt;setLinePenColor(color); axis-&gt;setLabelsColor(color); axis-&gt;setTitleBrush(color);&#125; Xè½´Xè½´ä¸€èˆ¬æ˜¯æ—¶é—´è½´ï¼Œæ—¶åˆ†ç§’æ ¼å¼ï¼šhh:mm:ss 123456QDateTimeAxis *timeAxis = new QDateTimeAxis();timeAxis-&gt;setTitleText(&quot;Time&quot;);timeAxis-&gt;setFormat(&quot;hh:mm:ss&quot;);chart-&gt;addAxis(timeAxis, Qt::AlignBottom);series1-&gt;attachAxis(timeAxis);series2-&gt;attachAxis(timeAxis); Yè½´Yè½´ï¼šå·¦ä¾§å’Œå³ä¾§éƒ½å¯ä»¥æ·»åŠ åˆ»åº¦å°º 12345678910111213141516171819202122232425// å·¦ä¾§åˆ»åº¦å°ºQValueAxis *pressureSetpt = new QValueAxis();pressureSetpt-&gt;setTitleText(&quot;Pressure Setpt (Torr)&quot;);pressureSetpt-&gt;setRange(0, 25);chart-&gt;addAxis(pressureSetpt, Qt::AlignLeft);series1-&gt;attachAxis(pressureSetpt);QValueAxis *pressure = new QValueAxis();pressure-&gt;setTitleText(&quot;Pressure (Torr)&quot;);pressure-&gt;setRange(0, 25);chart-&gt;addAxis(pressure, Qt::AlignLeft);series1-&gt;attachAxis(pressure);// å³ä¾§åˆ»åº¦å°ºQValueAxis *driverTemperature = new QValueAxis();driverTemperature-&gt;setTitleText(&quot;Driver temperature&quot;);driverTemperature-&gt;setRange(0, 100);chart-&gt;addAxis(driverTemperature, Qt::AlignRight);series2-&gt;attachAxis(driverTemperature);QValueAxis *positionAxis = new QValueAxis();positionAxis-&gt;setTitleText(&quot;Position (%)&quot;);positionAxis-&gt;setRange(0, 100);chart-&gt;addAxis(positionAxis, Qt::AlignRight);series2-&gt;attachAxis(positionAxis); ç»˜å›¾å®æ—¶ç»˜åˆ¶æ³¢å½¢ç‚¹ï¼šå¾€QLineSeriesé‡Œè¾¹æ·»åŠ æ•°æ®ï¼Œç”¨appendæ¥å£ 1234567891011121314151617181920212223242526272829303132QDateTime currentTime = QDateTime::currentDateTime();if(m_resumePause) &#123; m_timeAxis-&gt;setRange(currentTime.addSecs(-10), currentTime);&#125;if(m_channels[0]) &#123; m_pressure-&gt;append(currentTime.toMSecsSinceEpoch(), pressure); if (m_pressure-&gt;count() &gt; m_max) &#123; m_pressure-&gt;remove(0); &#125;&#125;if(m_channels[1]) &#123; m_position-&gt;append(currentTime.toMSecsSinceEpoch(), position); if (m_position-&gt;count() &gt; m_max) &#123; m_position-&gt;remove(0); &#125;&#125;if(m_channels[2]) &#123; m_pressureSetpt-&gt;append(currentTime.toMSecsSinceEpoch(), pressureSetpt); if (m_pressureSetpt-&gt;count() &gt; m_max) &#123; m_pressureSetpt-&gt;remove(0); &#125;&#125;if(m_channels[3]) &#123; m_temperature-&gt;append(currentTime.toMSecsSinceEpoch(), valveTemperature); if (m_temperature-&gt;count() &gt; m_max) &#123; m_temperature-&gt;remove(0); &#125;&#125; æ³¨æ„äº‹é¡¹ï¼š 1.æ—¶é—´è½´è¦å®æ—¶ç§»åŠ¨åˆ°æ­£ç¡®çš„æ—¶é—´çª—å£èŒƒå›´ 2.QLineSeriesæ³¢å½¢ç‚¹ä¹‹ååˆ°è¾¾ä¸€å®šçš„æ•°æ®é‡éœ€è¦åˆ é™¤ä¸€äº›ç‚¹ä»¥ç¡®ä¿bufferä¸ä¼šå†™çˆ†ï¼ˆé¢‘ç¹ç”³è¯·å†…å­˜å¯¼è‡´å¡é¡¿ï¼‰ è¿›é˜¶QtChartsè‡ªå¸¦çš„æ—¶é—´è½´æ¯”è¾ƒä¸‘é™‹ï¼Œå¦‚æœæƒ³è¦å®šåˆ¶çš„è¯ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ–¹æ³•è¿›è¡Œæ ·å¼ä¿®æ”¹ è‡ªå®šä¹‰QValueAxisä½œä¸ºXè½´ æ•è·QValueAxis::rangeChangedä¿¡å·ï¼Œè·å–QChartViewé‡Œè¾¹çš„sceneï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è·å–åˆ°åˆ»åº¦çš„å·¦å³è¾¹ç•Œminå’Œmax åˆ é™¤sceneï¼ˆQGraphicsSceneï¼‰é‡Œè¾¹çš„æ‰€æœ‰itemsï¼Œå³åŸæœ‰çš„åˆ»åº¦ä¸è¦äº† åœ¨QGraphicsSceneå³åŸºç¡€ä¸Šç”»åˆ»åº¦ï¼Œæ¯ä¸€ä¸ªåˆ»åº¦å°±æ˜¯ä¸€ä¸ªQGraphicsLineItem ä»£ç å‚è€ƒ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970// åŠ¨æ€ä¿®æ”¹ X è½´æ ‡ç­¾ä¸ºæ—¶é—´æ ¼å¼ï¼Œå¹¶ç»˜åˆ¶åˆ»åº¦çº¿QObject::connect(axisX, &amp;QValueAxis::rangeChanged, [axisX, chartView](qreal min, qreal max) &#123; QGraphicsScene *scene = chartView-&gt;scene(); // æ£€æŸ¥ min å’Œ max æ˜¯å¦æœ‰æ•ˆ if (qIsNaN(min) || qIsNaN(max) || qIsInf(min) || qIsInf(max)) &#123; // qWarning() &lt;&lt; &quot;Invalid min or max value:&quot; &lt;&lt; min &lt;&lt; max; return; &#125; // æ£€æŸ¥ plotArea æ˜¯å¦æœ‰æ•ˆ if (chartView-&gt;chart()-&gt;plotArea().width() &lt;= 0 || chartView-&gt;chart()-&gt;plotArea().height() &lt;= 0) &#123; // qWarning() &lt;&lt; &quot;Invalid plot area size&quot;; return; &#125; // æ¸…é™¤æ—§çš„æ ‡ç­¾å’Œåˆ»åº¦çº¿ for (QGraphicsItem *item : scene-&gt;items()) &#123; if (item-&gt;data(0).toString() == &quot;custom_label&quot; || item-&gt;data(0).toString() == &quot;custom_line&quot;) &#123; scene-&gt;removeItem(item); delete item; &#125; &#125; // ç”Ÿæˆ 10 ä¸ªåˆ»åº¦ int tickCount = 10; // æ€»å…± 10 ä¸ªåˆ»åº¦ qreal tickInterval = (max - min) / (tickCount - 1); // è®¡ç®—åˆ»åº¦é—´éš” for (int i = 0; i &lt; tickCount; ++i) &#123; qreal value = min + i * tickInterval; // æ£€æŸ¥ value æ˜¯å¦æœ‰æ•ˆ if (qIsNaN(value) || qIsInf(value)) &#123; // qWarning() &lt;&lt; &quot;Invalid value:&quot; &lt;&lt; value; continue; &#125; QDateTime dateTime = QDateTime::fromSecsSinceEpoch(value); // è®¡ç®—åˆ»åº¦çº¿çš„ä½ç½® qreal x = chartView-&gt;chart()-&gt;plotArea().left() + (value - min) / (max - min) * chartView-&gt;chart()-&gt;plotArea().width(); // æ£€æŸ¥ x æ˜¯å¦æœ‰æ•ˆ if (qIsNaN(x) || qIsInf(x)) &#123; // qWarning() &lt;&lt; &quot;Invalid x coordinate:&quot; &lt;&lt; x; continue; &#125; // åªåœ¨å¶æ•°åˆ»åº¦ç»˜åˆ¶æ—¶é—´æ ‡ç­¾å’Œé»‘çº¿ if (i % 2 == 0) &#123; // ç»˜åˆ¶æ—¶é—´æ ‡ç­¾ QString label = dateTime.toString(&quot;hh:mm:ss&quot;); QGraphicsTextItem *textItem = scene-&gt;addText(label); qreal textWidth = textItem-&gt;boundingRect().width(); // è·å–æ ‡ç­¾å®½åº¦ qreal textHeight = textItem-&gt;boundingRect().height(); // è·å–æ ‡ç­¾é«˜åº¦ // è°ƒæ•´æ ‡ç­¾ä½ç½®ï¼Œä½¿å…¶å±…ä¸­å¯¹é½åˆ»åº¦çº¿ textItem-&gt;setPos(x - textWidth / 2, chartView-&gt;chart()-&gt;plotArea().bottom() + 10); textItem-&gt;setData(0, &quot;custom_label&quot;); // æ ‡è®°ä¸ºè‡ªå®šä¹‰æ ‡ç­¾ // ç»˜åˆ¶é»‘çº¿ qreal lineLength = 10; // åˆ»åº¦çº¿é•¿åº¦ QGraphicsLineItem *lineItem = scene-&gt;addLine(x, chartView-&gt;chart()-&gt;plotArea().bottom(), x, chartView-&gt;chart()-&gt;plotArea().bottom() + lineLength, QPen(Qt::black)); lineItem-&gt;setData(0, &quot;custom_line&quot;); // æ ‡è®°ä¸ºè‡ªå®šä¹‰åˆ»åº¦çº¿ &#125; &#125;&#125;); æ‰“åŒ…è½¯ä»¶æ‰“åŒ…ï¼Œéœ€è¦æ·»åŠ Qt5Chartsè¿™ä¸ªdll 1Qt5Charts.dll ç‰ˆæƒç‰ˆæƒé—®é¢˜ï¼šæ®è¯´æ˜¯LGPLæˆæƒï¼Œå•†ç”¨çš„è¯å¯èƒ½ä¼šè¢«Qtè¯·å–èŒ¶","tags":["Qt","ä¸Šä½æœº","Charts"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ä¸Šä½æœºæ•°æ®å¯è§†åŒ–ï¼šQtè¡¨æ ¼ç¾åŒ–","path":"//qt-table-design.html","content":"ä»‹ç»è¡¨æ ¼æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç®¡ç†ç•Œé¢å½¢å¼ï¼Œåœ¨å¤§æ‰¹é‡çš„æ•°æ®äº¤äº’æƒ…å½¢ä¸‹ä½¿ç”¨çš„æ¯”è¾ƒå¤š è¡¨æ ¼å¯ä»¥é€šè¿‡æ ·å¼è¡¨è®¾ç½®çº¿æ¡ä»¥åŠè¾¹æ¡†çš„é¢œè‰² 12345QTableWidget&#123; gridline-color : rgb(55, 60, 62); border: 1px solid rgb(62,112,181); &#125; è¡¨å¤´å¦‚æœè¡¨å¤´å’Œç¬¬ä¸€è¡Œçš„åˆ†å‰²çº¿æ˜¾ç¤ºï¼Œè¯·è®¾ç½®ä¸€ä¸‹è¡¨å¤´çš„æ ·å¼è¡¨ 1234QHeaderView::section &#123; border: 1px solid gray; &#125; è¡¨å¤´ä¸æ˜¯å¿…é¡»çš„ï¼Œå¯ä»¥è®¾ç½®horizontalHeaderVisiableå±æ€§æŠŠå®ƒéšè—æ‰ åˆ—åˆ—çš„æ•°ç›®ï¼šcolumnCount åˆ—åºå·ï¼Œæ¯”è¾ƒä¸ç¾è§‚ï¼Œæœ€å¥½éšè—æ‰ï¼šverticalHeaderVisible -&gt; false åˆ—å®½æ§åˆ¶ 1234for (int i = 0; i &lt; ui-&gt;tableWidget-&gt;columnCount(); ++i) &#123; ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setSectionResizeMode(i, QHeaderView::Fixed); ui-&gt;tableWidget-&gt;setColumnWidth(i, width);&#125; è¡Œè¡Œçš„æ•°ç›®ï¼šrowCount è¡Œé«˜æ§åˆ¶ 123for (int i = 0; i &lt; tableWidget-&gt;rowCount(); ++i) &#123; ui-&gt;tableWidget-&gt;setRowHeight(i, 30); &#125; å•å…ƒæ ¼æ ·å¼è¡¨ä¿®æ”¹ï¼Œåªè¦æŒ‡å®šitemé¡¹ï¼Œä¾¿å¯ä»¥ä¿®æ”¹ç›¸å…³çš„æ–‡å­—é¢œè‰²ã€èƒŒæ™¯è‰²ã€å­—ä½“å¤§å°ã€æ–‡å­—å¯¹é½ç­‰æ ·å¼ 1234567QTableWidget::item&#123; color: red; background-color: blue; font-size: 14px; text-align: center;&#125; è®¾ç½®åªè¯»çŠ¶æ€ 123item = new QTableWidgetItem;item-&gt;setText(QString::number(p-&gt;suggestedFlow, &#x27;f&#x27;, 2));item-&gt;setFlags(item-&gt;flags() &amp; ~Qt::ItemIsEditable); æ’å…¥è‡ªå®šä¹‰æ§ä»¶ 12345auto itemWidget = new QComboBox;itemWidget-&gt;addItem(&quot;OFF&quot;);itemWidget-&gt;addItem(&quot;ON&quot;);itemWidget-&gt;setCurrentIndex(p-&gt;speedup);ui-&gt;tableWidget-&gt;setCellWidget(5, 1, itemWidget); è·å–å•å…ƒæ ¼æ•°æ®ï¼š1.è‡ªå¸¦itemï¼›2.è‡ªå®šä¹‰æ§ä»¶item 1234// å¦‚æœæ˜¯ä¸€ä¸ªtext itemm_pid.gamma = ui-&gt;tableWidget-&gt;item(row, 1)-&gt;text().toFloat();// å¦‚æœæ˜¯ä¸€ä¸ªwidget itemm_pid.type = qobject_cast&lt;QComboBox *&gt;(ui-&gt;tableWidget-&gt;cellWidget(row, 1))-&gt;currentIndex(); å•å…ƒæ ¼æ”¹å˜ 123connect(ui-&gt;tableWidget, &amp;QTableWidget::cellChanged, this, [=](int row, int column) &#123; this-&gt;onCellChanged(row, column);&#125;); ç¦æ­¢å•å…ƒæ ¼å¤šé€‰ 1ui-&gt;tableWidget-&gt;setSelectionMode(QAbstractItemView::SingleSelection); æ»šåŠ¨æ¡æ°´å¹³æ»šåŠ¨æ¡ï¼šä¸€èˆ¬éƒ½æ˜¯è®¾ç½®ä¸ºå…³é—­ï¼Œå¼€å¯çš„è¯æ¯”è¾ƒä¸‘é™‹ å‚ç›´æ»šåŠ¨æ¡ï¼šè‡ªå¸¦çš„æ¯”è¾ƒä¸‘ï¼Œå¦‚æœå¼€å¯çš„è¯éœ€è¦è‡ªå®šä¹‰ä¸€ä¸‹æ ·å¼è¡¨ æ»šåŠ¨æ¡æ ·å¼å‚è€ƒ 1234567// æ°´å¹³æ»šåŠ¨æ¡ui-&gt;tableWidget-&gt;horizontalScrollBar()-&gt;setStyleSheet(&quot;QScrollBar&#123;background:rgb(43, 44, 49);height:20px;border: 1px solid rgb(43, 44, 49);&#125;\\QScrollBar::handle&#123;border: 1px solid rgb(62 ,73 ,84);&#125;&quot;);// å‚ç›´æ»šåŠ¨æ¡ui-&gt;tableWidget-&gt;verticalScrollBar()-&gt;setStyleSheet(&quot;QScrollBar&#123;background:rgb(43, 44, 49);width:20px;border: 1px solid rgb(43, 44, 49);&#125;\\QScrollBar::handle&#123;border: 1px solid rgb(62 ,73 ,84);&#125;&quot;); é—®é¢˜é—®é¢˜ä¸€ç‚¹å‡»å•å…ƒæ ¼çš„æ—¶å€™ï¼Œæ•´ä¸ªè¡¨æ ¼å¯èƒ½ä¼šæœ‰å·¦å³åç§»çš„ç°è±¡ è¿™æ˜¯æ•´ä¸ªæ»‘åŠ¨åŒºåŸŸçš„å®½åº¦ï¼ˆæ‰€æœ‰çš„åˆ—å®½å’Œï¼‰å¤§äºè¡¨æ ¼çš„å®½åº¦å¯¼è‡´çš„æ¼‚ç§»ï¼Œéœ€è¦ï¼š1.æŒ‡å®šåˆ—å®½ï¼›2.å›ºå®šè¡¨å¤´åˆ—å®½ 12345678910int width = ui-&gt;tableWidget1-&gt;width() / 2 - 1;for (int i = 0; i &lt; ui-&gt;tableWidget1-&gt;columnCount(); ++i) &#123; ui-&gt;tableWidget1-&gt;horizontalHeader()-&gt;setSectionResizeMode(i, QHeaderView::Fixed); ui-&gt;tableWidget1-&gt;setColumnWidth(i, width);&#125;for (int i = 0; i &lt; ui-&gt;tableWidget2-&gt;columnCount(); ++i) &#123; ui-&gt;tableWidget2-&gt;horizontalHeader()-&gt;setSectionResizeMode(i, QHeaderView::Fixed); ui-&gt;tableWidget2-&gt;setColumnWidth(i, width);&#125; ä¸Šä¸‹åç§»ä¹Ÿä¸æ­¤åŒç†ï¼Œåªè¦ä¸è¶…è¿‡è¡¨æ ¼æ§ä»¶çš„é«˜åº¦å°±è¡Œ é—®é¢˜äºŒç¼–è¾‘åŠ¨ä½œçš„æ•è·ï¼šæœ‰cellChangedå’ŒcloseEditorä¸¤ä¸ªä¿¡å·ï¼Œå‰è€…æ˜¯å•å…ƒæ ¼å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ï¼Œä½†è¿™ä¸ªå½“æ§ä»¶æ–°å»ºæ—¶ä¹Ÿä¼šè§¦å‘ï¼›å¦‚æœæƒ³è¦å•çº¯çš„æ•è·ç¼–è¾‘åŠ¨ä½œæœ¬èº«ï¼Œå»ºè®®ç”¨åè€… 12345connect(ui-&gt;tableWidget-&gt;itemDelegate(), &amp;QAbstractItemDelegate::closeEditor, this, [=]() &#123; int row = ui-&gt;tableWidget-&gt;currentRow(); int column = ui-&gt;tableWidget-&gt;currentColumn(); this-&gt;onCellChanged(row, column);&#125;); å¦‚æœå•å…ƒæ ¼æ’å…¥äº†ä¸€äº›è‡ªå®šä¹‰çš„æ§ä»¶ï¼Œä¾‹å¦‚QComboBoxï¼Œéœ€è¦ç»Ÿä¸€ä¸€ä¸ªä¸“é—¨å¤„ç†å•å…ƒæ ¼çš„å‡½æ•°ï¼Œå°†rowå’Œcolumnçš„å‚æ•°ä¼ åˆ°åŒä¸€çš„æ¥å£å¤„ç† 123456789itemWidget = new QComboBox;itemWidget-&gt;addItem(&quot;ç¦ç”¨&quot;);itemWidget-&gt;addItem(&quot;å›ºå®šæ—¶é—´&quot;);itemWidget-&gt;addItem(&quot;å›ºå®šå¡åº¦&quot;);itemWidget-&gt;setCurrentIndex(p-&gt;rampMode);ui-&gt;tableWidget-&gt;setCellWidget(6, 1, itemWidget);connect(itemWidget, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged), this, [=](int) &#123; this-&gt;onCellChanged(6, 1);&#125;);","tags":["Qt","ä¸Šä½æœº","è¡¨æ ¼"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"å¼€å‘æ¿LEDç”µè·¯é—®é¢˜å®šä½","path":"//board-led-problem.html","content":"èƒŒæ™¯æ·˜å®ä¹°çš„RK3399å¼€å‘æ¿çš„ç”µæºLED1çªç„¶ä¸äº®äº†ï¼Œåˆšå¼€å§‹è¢«å“åˆ°ä»¥ä¸ºçƒ§åäº†ï¼Œä½†æ˜¯å¼€å‘æ¿ä¸Šç”µæ²¡æœ‰é—®é¢˜ï¼Œåœ¨ç»™å®¢æœæŠ•è¯‰ä¹‹å‰ç§‰æŒç€ä¸“ä¸šçš„ç²¾ç¥ç»™å®ƒåšäº†ä¸ªåˆ†æ ç”µè·¯å›¾LED1ä¸²è”äº†ä¸€ä¸ª10kÎ©çš„ç”µé˜»ï¼Œè¿™ä¸ªç”µè·¯å›¾è´¼ç®€å•ï¼Œç”µé˜»ä¸»è¦æ˜¯åˆ†å‹é™æµçš„ä½œç”¨ï¼Œè¿™ä¸ªLEDæ˜¯çº¢è‰²çš„ LEDçš„æ­£å¸¸å·¥ä½œç”µå‹ç”µæµå‚è€ƒï¼ˆç”µæµå¤§å°æ— éæ˜¯äº®åº¦å¼ºå¼±çš„é—®é¢˜ï¼Œå®é™…åªè¦åç½®ç”µå‹ç»™å¤Ÿå°±è¡Œï¼‰ é¢œè‰² ç”µå‹ ç”µæµ çº¢è‰² 1.8-2.2V 20mA ç»¿è‰² 2.0-2.4V 20mA è“è‰² 3-4V 20mA ç™½è‰² 3-3.4V 20mA ä¸‡ç”¨è¡¨æ—è¾¹çš„çº¢å…‰LED2æ­£å¸¸ç‚¹äº®ï¼Œé‡äº†ä¸€ä¸‹ç”µå‹ï¼Œå¤§æ¦‚åœ¨1.8Vå·¦å³ï¼Œè¿™ä¸ªæ­£å¥½å¯ä»¥ä½œä¸ºå¯¹æ¯” å†é‡ä¸€ä¸‹LED1çš„ç”µå‹ï¼Œæµ‹é‡å€¼ä¸º5Vï¼Œè¯´æ˜åˆ†å‹çš„ç”µé˜»æ ¹æœ¬æ²¡æœ‰ç”µæµé€šè¿‡ï¼ŒLED1å†…éƒ¨å·²ç»å¼€è·¯äº† è§£å†³åŠæ³•æ‰‹åŠ¨æ›´æ¢ã€ç„Šæ¥ä¸€ä¸ªçº¢å…‰LEDï¼Œåªèƒ½è‡ªå·±æé’±ä¹°ä¸€ä¸ªLEDç¯äº†","tags":["LED","ç¡¬ä»¶","RK3399"],"categories":["åµŒå…¥å¼"]},{"title":"å…³äºåƒå¹´è™«é—®é¢˜çš„æ€è€ƒ","path":"//y2k-problem-thinking.html","content":"èƒŒæ™¯åƒå¹´è™«é—®é¢˜ï¼ˆY2K Problemï¼‰ï¼Œåˆç§°â€œ2000å¹´é—®é¢˜â€æˆ–â€œY2Kæ¼æ´â€ï¼Œæ˜¯æŒ‡åœ¨20ä¸–çºªçš„è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œå¹´ä»½é€šå¸¸åªç”¨ä¸¤ä½æ•°å­—è¡¨ç¤ºï¼ˆä¾‹å¦‚â€œ98â€ä»£è¡¨1998å¹´ï¼‰ï¼Œå½“æ—¶é—´ä»1999å¹´12æœˆ31æ—¥è·¨å…¥2000å¹´1æœˆ1æ—¥æ—¶ï¼Œç³»ç»Ÿå¯èƒ½ä¼šå°†â€œ00â€é”™è¯¯åœ°è¯†åˆ«ä¸º1900å¹´ï¼Œä»è€Œå¯¼è‡´è®¡ç®—æœºç¨‹åºå‡ºç°é€»è¾‘é”™è¯¯æˆ–å´©æºƒã€‚ ä»‹ç»æœ€è¿‘åœ¨åšåµŒå…¥å¼è‡ªåŠ¨åŒ–è®¾å¤‡å¼€å‘é‡åˆ°ä¸€ä¸ªæ—¶é—´æˆ³çš„é—®é¢˜ï¼Œè¦ç”¨è¿™ä¸ªæ—¶é—´æˆ³ä¿å­˜ä¸€äº›è®¾å¤‡ä¿¡æ¯ã€è¿è¡ŒçŠ¶æ€ä¿¡æ¯ã€æ³¢å½¢æ•°æ®ã€æ–‡ä»¶ä¿¡æ¯ï¼Œæ—¶é—´ç²¾åº¦è¦æ±‚1msï¼Œä¸‹ä½æœºæ˜¯æ²¡æœ‰RTCçš„ï¼å› ä¸ºå•ç‰‡æœºæ˜¯32ä½çš„ï¼Œæ‰€ä»¥è‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°ç”¨uint32_tæ¥è¡¨ç¤ºè¿™ä¸ªæ—¶é—´æˆ³ï¼Œä½†è®¤çœŸæƒ³æƒ³è¿™ä¸ªæ—¶é—´æˆ³å…¶å®æ˜¯æœ‰ä¸€äº›æ¼æ´åœ¨é‡Œè¾¹çš„ï¼Œå¥½æ¯”å¦‚ä¸Šé¢ä»‹ç»çš„åƒå¹´è™«é—®é¢˜ uint32_tæˆ‘ä»¬è®¡ç®—ä¸€ä¸‹uint32_tå˜é‡ä¿å­˜çš„æ¯«ç§’æœ€å¤§èƒ½å­˜å‚¨å¤šå°‘å¤© uint64_tæˆ‘ä»¬è®¡ç®—ä¸€ä¸‹uint64_tå˜é‡ä¿å­˜çš„æ¯«ç§’æœ€å¤§èƒ½å­˜å‚¨å¤šå°‘å¤© æ€»ç»“ç»¼ä¸Šï¼Œæˆ‘æœ€åé€‰æ‹©äº†uint64_tä½œä¸ºæ—¶é—´æˆ³çš„å­˜å‚¨å˜é‡ç±»å‹ï¼Œå› ä¸ºè‡ªåŠ¨åŒ–è®¾å¤‡æ˜¯ä¸€å¹´365å¤©ä¸åœæœºçš„ï¼Œå¦‚æœç”¨uint32_tï¼Œè®¾å¤‡éš”äº†50å¤©å°±å¤ä½æ—¶é—´æˆ³äº†ï¼Œè¿™ä¸ªè‚¯å®šä¸èƒ½æ»¡è¶³è¦æ±‚ï¼","tags":["æ—¶é—´æˆ³","åƒå¹´è™«"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"QtCreatorå¿«æ·é”®åˆé›†","path":"//qtcreator-shortcuts.html","content":"å‰è¨€QtCreatoræ˜¯ä¸€æ¬¾è·¨å¹³å°çš„IDEï¼Œä¸“ä¸ºQtå¼€å‘è®¾è®¡ï¼Œæ”¯æŒC/C++/JS/Pythonç¼–ç¨‹ï¼Œæ”¯æŒè®¾å¤‡è¿œç¨‹è°ƒè¯•ï¼Œæ”¯æŒä»£ç é«˜äº®ï¼Œé›†æˆå¸®åŠ©æ–‡æ¡£ï¼ŒåŸç”Ÿæ”¯æŒcmakeå’Œgitï¼Œç¡®å®æ˜¯ä¸€æ¬¾æœ´å®è€Œåˆå¼ºå¤§çš„é›†æˆå¼€å‘ç¯å¢ƒï¼Œè®©äººæœ‰ç§çˆ±ä¸é‡Šæ‰‹çš„æ„Ÿè§‰ ç¼–è¾‘ åŠŸèƒ½ å¿«æ·é”® å¤åˆ¶ Ctrl + C ç²˜è´´ Ctrl + V å‰ªåˆ‡ Ctrl + X ä»£ç ç‰‡æ®µæ ¼å¼åŒ–ï¼ˆè‡ªåŠ¨ç¼©è¿›ï¼‰ Ctrl + I ç»Ÿä¸€ä¿®æ”¹æŸä¸ªå…³é”®å­— Ctrl + Shift + R ä»£ç æ³¨é‡Šå¼€å…³ Ctrl + &#x2F; æŸ¥çœ‹ç²˜è´´æ¿ Ctrl + Shift + V å¯è§†åŒ–ç©ºç™½å­—ç¬¦ Ctrl + E, Ctrl + V å‰ªåˆ‡è¡Œ Shift + Del å¤åˆ¶è¡Œ Ctrl + Ins å¤§å†™è½¬æ¢ Alt + Shift + U å°å†™è½¬æ¢ Alt + U ä»£ç æŠ˜å  Ctrl + &lt; ä»£ç å±•å¼€ Ctrl + &gt; è·³è½¬åˆ°å—èµ·å§‹ Ctrl + [ è·³è½¬åˆ°å—æœ«å°¾ Ctrl + ] åˆ‡æ¢ä¹¦ç­¾ Ctrl + M å®šä½åˆ°æŸä¸€è¡Œä»£ç  Ctrl + L å¢å¤§å­—ä½“ Ctrl + + å‡å°å­—ä½“ Ctrl + - é‡ç½®å­—ä½“å¤§å° Ctrl + 0 æ–‡ä»¶ åŠŸèƒ½ å¿«æ·é”® æ‰“å¼€æ–‡ä»¶ Ctrl + O å…³é—­æ–‡ä»¶ Ctrl + W å…³é—­æ‰€æœ‰æ–‡ä»¶ Ctrl + Shift + W ä¿å­˜æ‰€æœ‰æ–‡ä»¶ Ctrl + Shift + S åˆ‡æ¢å¤´æ–‡ä»¶&#x2F;æºæ–‡ä»¶ F4 æ˜¾ç¤ºå†å²æ‰“å¼€æ–‡ä»¶åˆ—è¡¨ Ctrl + Tab &#x2F; Ctrl + Shift + Tab çª—å£ åŠŸèƒ½ å¿«æ·é”® å…¨å± Ctrl + Shift + F11 å·¦ä¾§æ æ”¶èµ·&#x2F;å±•å¼€ Alt + 0 å³ä¾§æ æ”¶èµ·&#x2F;å±•å¼€ Alt + Shift + 0 ä¸Šä¸‹åˆ†å‰²çª—å£ Ctrl + E + 2 å·¦å³åˆ†å‰²çª—å£ Ctrl + E + 3 çª—å£å¤åŸ Ctrl + E + 1 é€€å‡ºè½¯ä»¶ Ctrl + Q åˆ‡æ¢åŠŸèƒ½æ¨¡å¼ Ctrl + 1&#x2F;2&#x2F;3&#x2F;4&#x2F;5 åˆ‡æ¢æ§åˆ¶å°åŠŸèƒ½ Alt + 1-8 å…³é—­IDE Ctrl + Q å…³é—­å½“å‰ä»£ç æ–‡ä»¶çª—å£ Ctrl + W è°ƒè¯• åŠŸèƒ½ å¿«æ·é”® è¿è¡Œ Ctrl + R æ„å»ºå½“å‰å·¥ç¨‹ Ctrl + B æ„å»ºæ‰€æœ‰å·¥ç¨‹ Ctrl + Shift + B åˆ‡æ¢æ„å»ºæ¨¡å¼ Ctrl + T å¼€å§‹è°ƒè¯• F5 ä¸­æ–­&#x2F;ç»§ç»­ F5 å•æ­¥è·³è¿‡ F10 å•æ­¥è¿›å…¥ F11 å•æ­¥è·³å‡º Shift + F11 åˆ‡æ¢æ–­ç‚¹ F9 æ£€ç´¢ åŠŸèƒ½ å¿«æ·é”® å®šä½å™¨ï¼ˆæ–‡ä»¶&#x2F;ç¬¦å·æ£€ç´¢ï¼‰ Ctrl + K å¿«é€Ÿæ£€ç´¢æ–‡ä»¶å¼•ç”¨å‡ºå¤„ Ctrl + Shift + U å¸®åŠ©æ–‡æ¡£ F1ï¼ˆæŒ‰ä¸¤æ¬¡ï¼‰ å¸®åŠ©é¡µé¢å®šä½åˆ°æœç´¢æ¡† Alt + L ç‰ˆæœ¬æ§åˆ¶ åŠŸèƒ½ å¿«æ·é”® æŸ¥çœ‹å½“å‰æ–‡ä»¶æ”¹åŠ¨ Alt + G, Alt + D æŸ¥çœ‹å½“å‰å·¥ç¨‹æ”¹åŠ¨ Alt + G, Alt + Shift + D å½“å‰æ–‡ä»¶ä¿®æ”¹è®°å½• Alt + G, Alt + L æŸ¥çœ‹å½“å‰å·¥ç¨‹ä¿®æ”¹è®°å½• Alt + G, Alt + K æš‚å­˜åŒºä»£ç æäº¤ Alt + G, Alt + C","tags":["Qt","å¿«æ·é”®","QtCreator","IDE"],"categories":["å¼€å‘å·¥å…·"]},{"title":"æŒ‰é’®Tabåˆ†æ åŠŸèƒ½å®ç°","path":"//exclusive-tab-buttons.html","content":"å‰è¨€æˆ‘æƒ³å®ç°ä¸€ä¸ªå·¦ä¾§çš„ä¸Šä¸‹çš„Tabåˆ†æ åŠŸèƒ½ï¼Œçœ‹äº†Qtå®˜æ–¹çš„æ–‡æ¡£å¥½åƒæ²¡æœ‰åˆé€‚çš„è§£å†³æ–¹æ¡ˆï¼Œäºæ˜¯è‡ªå·±è‡ªå®šä¹‰äº†ä¸€ä¸ª ä»‹ç»åœ¨ä¸Šä½æœºå¼€å‘ä¸­ï¼Œå¦‚æœæƒ³è¦åšä¸€ä¸ªä¾§è¾¹æ ç‚¹å‡»åˆ‡æ¢åˆ†é¡µçš„åŠŸèƒ½ï¼Œå¤§å®¶éƒ½æƒ³åˆ°ç”¨ä¸€ç»„QPushButtonå’Œè‡ªå®šä¹‰çš„QWidgetæ¥åš ç„¶åæˆ‘ä»¬ç”¨æ ·å¼è¡¨ä¿®é¥°QPushButtonï¼ŒåŒæ—¶ç”¨QWidgetè‡ªå®šä¸€äº›Pages 123456789101112131415QPushButton &#123; font-size: 18px; / color: white; background-color: rgb(10,88,163); border: 2px solid rgb(114,188,51); text-align: left; padding-left: 10px; font-weight: bold;&#125;QPushButton:focus &#123; background-color: rgb(41,51,57);\tcolor: rgb(114,188,51);\tborder-width: 4px;&#125; ç”¨ä¿¡å·å’Œæ§½æŠŠButtonså’ŒPagesç»‘å®šèµ·æ¥ï¼Œå¾ˆå¿«ï¼Œä¸€ä¸ªåˆ‡æ¢åˆ†æ çš„ç”¨æˆ·ç•Œé¢å°±å¤§åŠŸå‘Šæˆäº† 123456789101112131415connect(ui-&gt;button1, &amp;QPushButton::clicked, this, [=]() &#123; page1-&gt;setVisible(true);&#125;);connect(ui-&gt;button2, &amp;QPushButton::clicked, this, [=]() &#123; page2-&gt;setVisible(true);&#125;);connect(ui-&gt;button3, &amp;QPushButton::clicked, this, [=]() &#123; page3-&gt;setVisible(true);&#125;);connect(ui-&gt;button4, &amp;QPushButton::clicked, this, [=]() &#123; page4-&gt;setVisible(true);&#125;); é—®é¢˜è¿™æ ·åšçš„æ€è·¯å¹¶æ²¡æœ‰é”™ï¼Œä½†æ˜¯ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå°±æ˜¯Pagesé‡Œè¾¹å¦‚æœæœ‰ä¸€äº›å¼ºç„¦ç‚¹å±æ€§çš„æ§ä»¶ï¼Œå¾ˆå®¹æ˜“æŠŠå·¦ä¾§æ çš„Buttonsç„¦ç‚¹æ‹¿èµ°ï¼Œå¯¼è‡´focusæ ·å¼å¤±æ•ˆï¼é—®é¢˜çš„å…³é”®åœ¨äºä¾§è¾¹æ å’Œåˆ†é¡µæ˜¯åœ¨åŒä¸€ä¸ªç•Œé¢ä¸‹çš„ï¼ŒButtonsçš„ç„¦ç‚¹æ˜¯å¾ˆå®¹æ˜“ä¸§å¤±çš„ è§£å†³å¼•å…¥QButtonGroupåŠŸèƒ½ï¼Œç¡®ä¿æ¯ä¸ªButtonéƒ½æ˜¯exclusiveçš„ 12345678m_group = new QButtonGroup(this);m_group-&gt;setExclusive(true);m_group-&gt;addButton(ui-&gt;alarm);m_group-&gt;addButton(ui-&gt;operate);m_group-&gt;addButton(ui-&gt;communication);m_group-&gt;addButton(ui-&gt;systemLearn);m_group-&gt;addButton(ui-&gt;conductanceCurves);m_group-&gt;addButton(ui-&gt;about); åœ¨Buttonåˆ‡æ¢ç„¦ç‚¹çš„æ—¶å€™å˜æ›´æ ·å¼ï¼Œæ•è·QButtonGroupçš„buttonClickedä¿¡å· 12345678910111213141516171819202122connect(m_group, QOverload&lt;QAbstractButton *&gt;::of(&amp;QButtonGroup::buttonClicked), [=](QAbstractButton *button)&#123; for(auto &amp;but : m_group-&gt;buttons()) &#123; if(button != but) &#123; but-&gt;setStyleSheet(&quot;QPushButton &#123; font-size: 18px;\\ color: white;\\ background-color: rgb(10,88,163);\\ border: 2px solid rgb(114,188,51);\\ text-align: left;\\ padding-left: 10px;\\ font-weight: bold;&#125;&quot;); &#125; else &#123; but-&gt;setStyleSheet(&quot;QPushButton &#123; font-size: 18px;\\ color: rgb(114,188,51);\\ background-color: rgb(41,51,57);\\ border: 4px solid rgb(114,188,51);\\ text-align: left;\\ padding-left: 10px;\\ font-weight: bold;&#125;&quot;); &#125; &#125;&#125;); ç›´æ¥ä¸è¦æ ·å¼è¡¨é‡Œè¾¹çš„focuså±æ€§äº†ï¼Œå¤§è‡´çš„å®ç°æ•ˆæœå¦‚ä¸‹ å½“ç„¶ï¼Œè¦è®°å¾—é»˜è®¤ä¸€ä¸ªæœ€å¼€å§‹çš„Button 12345678ui-&gt;operate-&gt;setFocus();ui-&gt;operate-&gt;setStyleSheet(&quot;QPushButton &#123; font-size: 18px;\\ color: rgb(114,188,51);\\ background-color: rgb(41,51,57);\\ border: 4px solid rgb(114,188,51);\\ text-align: left;\\ padding-left: 10px;\\ font-weight: bold;&#125;&quot;); æ€»ç»“æ ·å¼è¡¨èƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ï¼Œä½†æ˜¯ä¸€äº›è¾¹è¾¹è§’è§’çš„ä¸œè¥¿éœ€è¦è‡ªå·±ç¢ç£¨ï¼ˆå†™C++ä»£ç ï¼‰å®ç°","tags":["Qt","GUI","æŒ‰é”®"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"å¼€æºè½¯ä»¶æ¨èæŒ‡å—","path":"//open-software-guide.html","content":"ä»‹ç»å¼€æºï¼Œæå¤§ä¿ƒè¿›äº†è½¯ä»¶è¡Œä¸šçš„ç¹è£ï¼›çŸ¥è¯†å…±äº«ã€æŠ€æœ¯è¿­ä»£ã€ååŒå·¥ä½œæˆäº†21ä¸–çºªä¿¡æ¯æ—¶ä»£çš„ä¸»æµï¼›å¼€æºä¸æ˜¯å…è´¹ï¼Œç”¨æˆ·ä»å¯ä»¥é€‰æ‹©ä¸ºæŠ€æœ¯æœåŠ¡ä¹°å•ï¼Œæ—¥å¸¸å·¥ä½œã€ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½äº«å—åˆ°å¼€æºæ–¹æ¡ˆæˆ–è€…å·¥å…·å¸¦æ¥çš„ä¾¿åˆ©å’Œå¿«ä¹â€¦â€¦æ¯”å¦‚æ— å¤„ä¸åœ¨çš„Androidæ‰‹æœºã€é“¶è¡Œçš„å¤è€è€Œç¨³å®šçš„ï¼ˆUnixã€Linuxï¼‰æœåŠ¡å™¨ã€ç”šè‡³è¿èŠ¯ç‰‡å¤§å‚ä¹Ÿæ‹¥æŠ±ç¡¬ä»¶å’Œè½¯ä»¶çš„å¼€æºï¼ˆæ–¹æ¡ˆå…è´¹å¼€æºï¼Œå„ç§è¯„ä¼°æ¡ˆä¾‹å‚è€ƒï¼‰ç­‰ è§†é¢‘æ’­æ”¾VLC Media Playerï¼Œä¸€æ¬¾å¼€æºã€å¼ºå¤§çš„éŸ³è§†é¢‘æ’­æ”¾è½¯ä»¶ï¼Œæ”¯æŒç½‘ç»œæ’­æ”¾æº å›¾åƒç¼–è¾‘GIMPæ˜¯Photoshopçš„ç»ä½³æ›¿ä»£å“ï¼Œæ”¯æŒå¤šä¸ªæ“ä½œç³»ç»Ÿå¹³å°ï¼Œå¼€æºã€å°å·§ã€å…è´¹ï¼Œæ—¥å¸¸ä¿®å›¾éœ€æ±‚éƒ½å¯ä»¥æ»¡è¶³ï¼Œä½¿ç”¨æ•™ç¨‹å¯ä»¥å‚è€ƒæˆ‘çš„CSDNä¸“æ  æ–‡æœ¬ç¼–è¾‘å™¨VSCodeæ˜¯ä¸€æ¬¾åŠŸèƒ½å ªæ¯”IDEçš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå®ƒèƒ½æ— ç¼åˆ‡æ¢åµŒå…¥å¼ã€Webã€PCã€ç§»åŠ¨ç«¯çš„å¼€å‘ç¯å¢ƒï¼Œè€Œä¸”è¿˜å¼€æºå’Œè·¨å¹³å°ï¼Œæ”¯æŒå¤šç§å¼€å‘æ’ä»¶ï¼Œåƒå¸¸è§çš„cmakeã€gitã€gdbã€stlinkéƒ½èƒ½é›†æˆï¼Œä½¿ç”¨å‚è€ƒï¼šROSå¼€å‘ã€NXP MCUå¼€å‘ nodepad++ï¼Œæ¨èå®ƒçš„åŸå› æ˜¯å› ä¸ºå°å·§ç²ç‘ï¼Œç•Œé¢å¹²å‡€æ•´æ´ï¼Œè€Œä¸”å®ƒä»ä¸å¡é¡¿ å¼€æºIDEQtCreatoræ˜¯Qtå®˜æ–¹å‡ºå“çš„é›†æˆå¼€å‘ç¯å¢ƒï¼Œæ”¯æŒåµŒå…¥å¼ã€ç§»åŠ¨ç«¯ã€PCå¼€å‘ï¼Œç”šè‡³å†™é©±åŠ¨ä»£ç ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå¯¹cmakeçš„æ”¯æŒå ªç§°ä¸€æµï¼ä»£ç é«˜äº®ã€æ–‡æ¡£æŸ¥çœ‹ä¹Ÿç›¸å½“ä¸é”™ï¼Œæ”¯æŒå¤šä¸ªæ“ä½œç³»ç»Ÿå¹³å°ï¼Œæ¯”VSæ›´è½»é‡çº§ï¼Œä½¿ç”¨å‚è€ƒï¼šå¿«æ·é”®ã€Qt6å®‰è£…åŠä½¿ç”¨ æ–‡æ¡£ç³»ç»ŸMrDocæ˜¯åŸºäºPythonå¼€å‘çš„åœ¨çº¿æ–‡æ¡£ç³»ç»Ÿï¼Œé€‚åˆä½œä¸ºä¸ªäººå’Œä¸­å°å‹å›¢é˜Ÿçš„ç§æœ‰äº‘æ–‡æ¡£ã€äº‘ç¬”è®°å’ŒçŸ¥è¯†ç®¡ç†å·¥å…·ï¼Œè‡´åŠ›äºæˆä¸ºä¼˜ç§€çš„ç§æœ‰åŒ–åœ¨çº¿æ–‡æ¡£éƒ¨ç½²æ–¹æ¡ˆ å¼€æºäº‘ç›˜openmediavaultï¼Œè¿™ä¸ªæœ¬è´¨æ˜¯ä¸€ä¸ªNASæ–¹æ¡ˆï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨ç§äººçš„æ•°æ®ï¼Œé€šè¿‡å®‰è£…ä¸ªæ€§åŒ–çš„appå’Œæ’ä»¶å®ç°å„ç§æ•°æ®å­˜å‚¨æœåŠ¡ é¡¹ç›®ç®¡ç†Overview - Redmineæ˜¯ä¸€æ¬¾å·¥ä½œåœ¨webç«¯çš„é¡¹ç›®ç®¡ç†è½¯ä»¶ï¼Œæ”¯æŒè¿›åº¦æŸ¥çœ‹ã€å·¥æ—¶ç™»è®°ç­‰åŠŸèƒ½ ç¼ºé™·ç®¡ç†Bugzillaçš„ç•Œé¢ç®€å•ï¼Œä½†æ˜¯åŠŸèƒ½é½å…¨ï¼Œæ”¯æŒBugçš„è¿½æº¯æŸ¥çœ‹ï¼Œç¼ºé™·è¯„è®ºã€é‚®ä»¶æœåŠ¡ä¹Ÿä¸é”™ åŠå…¬å¥—ä»¶LibreOfficeï¼Œå¦‚æœåŒå€¦äº†WPSå’ŒMS officeçš„å¹¿å‘Šå’Œé›æ€»ï¼Œè¿™ä¸ªè½¯ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼æ­£çœŸè‡ªç”±å…è´¹çš„å…¨èƒ½åŠå…¬å¥—ä»¶ï¼Œä»¥å‰å®‰è£…Ubuntuéƒ½ä¼šè‡ªå¸¦è¿™ä¸ªåŠå…¬å¥—ä»¶ ç½‘ç»œè°ƒè¯•wiresharkæ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç½‘ç»œæ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œèƒ½æŠ“å–å¤šç§ç½‘ç»œæ¥å£ï¼ˆä»¥å¤ªç½‘ã€WLANã€CANï¼‰çš„æ•°æ®åŒ…å¹¶å°†æ•°æ®å¯è§†åŒ–ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°è°ƒè¯•å’Œåˆ†æç½‘ç»œé€šä¿¡çš„è¿‡ç¨‹ä»¥åŠå¼‚å¸¸æƒ…å†µ é«˜æ•ˆè°ƒè¯•SavvyCANæ˜¯ä¸€æ¬¾å°å·§å¼ºå¤§çš„CANåˆ†æè¯Šæ–­å·¥å…·ï¼Œæ”¯æŒCAN&#x2F;CANFDæ•°æ®è¡¨æ ¼å¯è§†åŒ–ã€æ”¯æŒDBCåè®®è§£æã€æ”¯æŒæ•°æ®è¿‡æ»¤ã€UDSåè®®æ‰«æä¸è§£ç ã€æ”¯æŒè„šæœ¬æ¥å£æ‰©å±•åŠŸèƒ½ï¼Œæ˜¯æ±½è½¦ç”µå­å·¥ä½œè€…çš„å¿…å¤‡ç¥å™¨ï¼ è§†é¢‘å‰ªè¾‘OpenShotæ˜¯ä¸€æ¬¾å¼ºå¤§ã€å¼€æºã€è·¨å¹³å°çš„è§†é¢‘å‰ªè¾‘è½¯ä»¶ï¼Œæœ‰è¯¦å°½çš„æ–‡æ¡£æ“ä½œæŒ‡å—ï¼Œæ”¯æŒéŸ³è§†é¢‘æ··åˆç¼–è¾‘ã€3DåŠ¨ç”» æ‰“åŒ…å·¥å…·Windowså¹³å°çš„exeæ‰“åŒ…å·¥å…·ï¼šInno Setupï¼Œç»å…¸å°å·§åˆè€ç”¨ï¼Œåšä¸Šä½æœºå¼€å‘å¿…å¤‡å·¥å…·ï¼Œä½¿ç”¨æ•™ç¨‹å¯ä»¥å‚è€ƒé“¾æ¥ MODBUSQModBusæ˜¯ä¸€æ¬¾å°å·§ã€å¼€æºå…è´¹ã€åŸºäºQtç•Œé¢å¼€å‘çš„Modbusä¸»ç«™å·¥å…·ï¼Œæ”¯æŒRS485å’ŒEtherNeté€šä¿¡æ–¹å¼ï¼Œå®ƒçš„åè®®æ ˆåŸºäºlibmodbusï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ååŠ©æˆ‘ä»¬è¿›è¡Œmodbusé€šä¿¡æµ‹è¯•ï¼Œæ˜¯è‡ªåŠ¨åŒ–ã€ç‰©è”ç½‘å¼€å‘è€…ä¸å¯å¤šå¾—çš„ç¥å™¨ï¼","tags":["å¼€æº"],"categories":["å¼€æºç¤¾åŒº"]},{"title":"cmakeè‡ªå®šä¹‰è½¯ä»¶ä¿¡æ¯","path":"//cmake-define-software-info.html","content":"ç”¨æ³•ç‰ˆæœ¬å· 1add_definitions(-DSOFTWARE_VERSION=&quot;1.0.2&quot;) ç¼–è¯‘ç±»å‹ 1add_definitions(-DBUILD_TYPE=&quot;Debug&quot;) ä½œè€…ä¿¡æ¯ 1add_definitions(-DAUTHOR=&quot;hywing&quot;) å…¬å¸ 1add_definitions(-DCOMPANY=&quot;iotstuff&quot;) ç¼–è¯‘ç”Ÿæˆæ—¶é—´ 12string(TIMESTAMP CURRENT_TIME &quot;%Y-%m-%d %H:%M:%S&quot;)add_definitions(-DBUILD_DATE=&quot;$&#123;CURRENT_TIME&#125;&quot;) ä»¥ä¸Šä¿¡æ¯åœ¨cmakeä¸­é€šè¿‡add_definitionså…³é”®å­—ç”Ÿæˆç›¸åº”çš„å®å®šä¹‰ï¼Œåœ¨ä»£ç ä¸­åªè¦ç›´æ¥ä½¿ç”¨è¿™äº›å®å°±å¯ä»¥äº† 12ui-&gt;version-&gt;setText(SOFTWARE_VERSION);ui-&gt;buildDate-&gt;setText(BUILD_DATE); å¦‚æœä½ åœ¨ä¸€ä¸ªå·¥ç¨‹ä»£ç ä¸­ç‚¹å‡»æ‰¾ä¸åˆ°å®å®šä¹‰çš„å‡ºå¤„ï¼Œé‚£ä¹ˆå®ƒå¤§æ¦‚ç‡åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­è¢«å®šä¹‰äº†ï¼ æ³¨æ„å¦‚æœä½ è¦å‘å¸ƒç‰ˆæœ¬ï¼Œè¿™ç§åšæ³•éœ€è¦æ¯æ¬¡ç¼–è¯‘æ‰“åŒ…å‰æ‰§è¡Œä¸€ä¸‹cmakeï¼Œå¦åˆ™ä½ çš„æ—¶é—´ä¿¡æ¯æœ‰å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ï¼","tags":["cmake"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"RT-Threadæ‹‰æ–°å·¥ç¨‹ç¼–è¯‘æŠ¥é”™","path":"//rt-thread-new-project-compile-problem.html","content":"é—®é¢˜ä¸€æ‹‰æ–°RT-Threadå¼€æºä»£ç åå‘ç°ç¼–è¯‘å‡ºé”™ï¼Œrt_vsnprintfåº“ç¼–è¯‘æœ‰é—®é¢˜ 1.\\build\\keil\\Obj\\rt-thread.axf: Error: L6218E: Undefined symbol rt_vsnprintf (referred from kstdio.o). æ‰“å¼€menuconfig ï¼šRT-Thread Kernel â†’ klibc options â†’ rt_vsnprintf optionsï¼Œå¼€å¯ä»¥ä¸‹é€‰é¡¹ é—®é¢˜äºŒrt_vsscanfåº“ç¼–è¯‘é—®é¢˜ 1.\\build\\keil\\Obj\\rt-thread.axf: Error: L6218E: Undefined symbol rt_vsscanf (referred from kstdio.o). æ‰“å¼€menuconfig ï¼šRT-Thread Kernel â†’ klibc options â†’ rt_vsscanf optionsï¼Œå¼€å¯ä»¥ä¸‹é€‰é¡¹ æ€»ç»“è¿™ä¸¤ä¸ªé—®é¢˜æ˜¯å› ä¸ºRT-Threadæ”¹äº†rt_vsnprintfå’Œrt_vsscanfä¸¤ä¸ªåº“çš„é“¾æ¥æ–¹å¼ï¼šåšæˆäº†å¼€å…³çš„é…ç½®å½¢å¼","tags":["RT-Thread"],"categories":["åµŒå…¥å¼"]},{"title":"stm32ç§»æ¤LCD2002é©±åŠ¨","path":"//stm32-lcd2002-driver.html","content":"ä»‹ç»LCD2002æ”¯æŒ20X2ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼Œå¼•è„šåŠŸèƒ½å’Œè¯»å†™æ—¶åºè·ŸLCD1602éƒ½å¾ˆåƒ LCDç±»å‹ï¼šå­—ç¬¦ç‚¹é˜µ ç‚¹ é˜µ æ•°ï¼š20Ã—2 å¤–å½¢å°ºå¯¸ï¼š116.0mmÃ—37.0mmï¼ˆé•¿å®½ï¼‰ è§†åŸŸå°ºå¯¸ï¼š83.0mmÃ—18.6mm ç‚¹ è· ç¦»ï¼š0.05mmÃ—0.05mm ç‚¹ å¤§ å°ï¼š0.65mmÃ—0.6mm æ§ åˆ¶ å™¨ï¼šSPLC780 ç»ç’ƒç±»å‹ï¼šFSTNæˆ–STN æ˜¾ç¤ºå†…å®¹ï¼š20ï¼ˆä¾‹ï¼‰Ã—2ï¼ˆè¡Œï¼‰ èƒŒå…‰ç±»å‹ï¼šLEDç™½å…‰ï¼ˆç™½åº•é»‘å­—ï¼Œè“åº•ç™½å­—ï¼‰ æ•°æ®ä¼ è¾“ï¼šå¹¶å£ å·¥ä½œç”µå‹ï¼š5V LCD2002çš„åº”ç”¨åœºæ™¯æœ‰ï¼š ç‰©è”ç½‘æ•°æ®é‡‡é›†ç«¯æ˜¾ç¤ºï¼šå±•ç¤ºä¼ æ„Ÿå™¨æ•°å€¼ å·¥ä¸šè‡ªåŠ¨åŒ–ï¼šç”µæœºæ§åˆ¶å±•ç¤ºä¿¡æ¯ åµŒå…¥å¼åœºæ™¯ï¼šæ™ºèƒ½å®¶å±…ç»ˆç«¯è®¾å¤‡ å¼•è„šLCD2002æœ‰16Pinå¼•è„šï¼Œæ¯ä¸ªå¼•è„šåŠŸèƒ½å¦‚ä¸‹ ç®¡è„šå· ç¬¦å· åŠŸèƒ½ 1 Vss ç”µæºåœ°ï¼ˆ GNDï¼‰ 2 Vdd ç”µæºç”µå‹(+5V) 3 V0 LCD é©±åŠ¨ç”µå‹(å¯è°ƒ) 4 RS å¯„å­˜å™¨é€‰æ‹©è¾“å…¥ç«¯ï¼Œè¾“å…¥ MPU é€‰æ‹©æ¨¡å—å†…éƒ¨å¯„å­˜å™¨ç±»å‹ä¿¡å·ï¼šRS&#x3D;0ï¼Œå½“ MPU è¿›è¡Œå†™æ¨¡å—æ“ä½œï¼ŒæŒ‡å‘æŒ‡ä»¤å¯„å­˜å™¨ï¼›å½“ MPU è¿›è¡Œè¯»æ¨¡å—æ“ä½œï¼ŒæŒ‡å‘åœ°å€è®¡æ•°å™¨ï¼›RS&#x3D;1ï¼Œæ— è®º MPU è¯»æ“ä½œè¿˜æ˜¯å†™æ“ä½œï¼Œå‡æŒ‡å‘æ•°æ®å¯„å­˜å™¨ 5 R&#x2F;W è¯»å†™æ§åˆ¶è¾“å…¥ç«¯ï¼Œè¾“å…¥ MPU é€‰æ‹©è¯»&#x2F;å†™æ¨¡å—æ“ä½œä¿¡å·ï¼šR&#x2F;W&#x3D;0 è¯»æ“ä½œï¼› R&#x2F;W&#x3D;1 å†™æ“ä½œ 6 E ä½¿èƒ½ä¿¡å·è¾“å…¥ç«¯ï¼Œè¾“å…¥ MPU è¯»&#x2F;å†™æ¨¡å—æ“ä½œä½¿èƒ½ä¿¡å·ï¼šè¯»æ“ä½œæ—¶ï¼Œé«˜ç”µå¹³æœ‰æ•ˆï¼›å†™æ“ä½œæ—¶ï¼Œä¸‹é™æ²¿æœ‰æ•ˆ 7 DB0 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 8 DB1 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 9 DB2 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 10 DB3 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 11 DB4 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 12 DB5 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 13 DB6 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 14 DB7 æ•°æ®è¾“å…¥&#x2F;è¾“å‡ºå£ï¼Œ MPU ä¸æ¨¡å—ä¹‹é—´çš„æ•°æ®ä¼ é€é€šé“ 15 A èƒŒå…‰çš„æ­£ç«¯+5V 16 K èƒŒå…‰çš„è´Ÿç«¯ 0V åŸè£…çš„LCDå¹¶æ²¡æœ‰ç„Šæ¥æ’é’ˆï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨ç„Šæ¥ ç§»æ¤å¼•è„šå®šä¹‰ï¼Œä¸€èˆ¬åªéœ€è¦ç”¨åˆ°ä»¥ä¸‹13ä¸ªPin 12345678910111213#define LCD_RS_PIN GET_PIN(A, 4)#define LCD_RW_PIN GET_PIN(A, 5)#define LCD_E_PIN GET_PIN(A, 6)#define LCD_D0_PIN GET_PIN(A, 7)#define LCD_D1_PIN GET_PIN(B, 0)#define LCD_D2_PIN GET_PIN(B, 1)#define LCD_D3_PIN GET_PIN(B, 2)#define LCD_D4_PIN GET_PIN(B, 10)#define LCD_D5_PIN GET_PIN(B, 11)#define LCD_D6_PIN GET_PIN(B, 12)#define LCD_D7_PIN GET_PIN(B, 13)#define LCD_V0 GET_PIN(B, 4)#define LCD_BL GET_PIN(B, 5) åˆå§‹åŒ–LCD2002å¼•è„š 12345678910111213141516void LCD_GPIO_Init() &#123; rt_pin_mode(LCD_V0, PIN_MODE_OUTPUT); rt_pin_mode(LCD_BL, PIN_MODE_OUTPUT); rt_pin_mode(LCD_RS_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_RW_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_E_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D0_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D1_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D2_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D3_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D4_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D5_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D6_PIN, PIN_MODE_OUTPUT); rt_pin_mode(LCD_D7_PIN, PIN_MODE_OUTPUT);&#125; å†™æ•°æ® 1234567891011121314151617void LCD_WriteData(uint8_t data) &#123; rt_pin_write(LCD_RS_PIN, PIN_HIGH); rt_pin_write(LCD_RW_PIN, PIN_LOW); rt_pin_write(LCD_E_PIN, PIN_LOW); rt_pin_write(LCD_D0_PIN, (data &amp; 0x01) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D1_PIN, (data &amp; 0x02) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D2_PIN, (data &amp; 0x04) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D3_PIN, (data &amp; 0x08) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D4_PIN, (data &amp; 0x10) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D5_PIN, (data &amp; 0x20) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D6_PIN, (data &amp; 0x40) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D7_PIN, (data &amp; 0x80) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_E_PIN, PIN_HIGH); rt_thread_mdelay(5); rt_pin_write(LCD_E_PIN, PIN_LOW); &#125; å†™å‘½ä»¤ 1234567891011121314151617void LCD_WriteCommand(uint8_t command) &#123; rt_pin_write(LCD_RS_PIN, PIN_LOW); rt_pin_write(LCD_RW_PIN, PIN_LOW); rt_pin_write(LCD_E_PIN, PIN_LOW); rt_pin_write(LCD_D0_PIN, (command &amp; 0x01) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D1_PIN, (command &amp; 0x02) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D2_PIN, (command &amp; 0x04) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D3_PIN, (command &amp; 0x08) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D4_PIN, (command &amp; 0x10) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D5_PIN, (command &amp; 0x20) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D6_PIN, (command &amp; 0x40) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_D7_PIN, (command &amp; 0x80) ? PIN_HIGH : PIN_LOW); rt_pin_write(LCD_E_PIN, PIN_HIGH); rt_thread_mdelay(5); rt_pin_write(LCD_E_PIN, PIN_LOW); &#125; è®¾ç½®å…‰æ ‡ä½ç½® 12345678void LCD_SetCursor(uint8_t col, uint8_t row) &#123; uint8_t address = col; if (row == 1) &#123; address += 0x40; &#125; LCD_WriteCommand(0x80 | address); &#125; ç»˜åˆ¶å­—ç¬¦ï¼Œéœ€è¦é…åˆLCD_SetCursoræ¥å£ä½¿ç”¨ 123456void LCD_Print(char* str) &#123; while (*str) &#123; LCD_WriteData(*str++); &#125;&#125; LCDåˆå§‹åŒ–ï¼Œè®¾ç½®æ¸…å±ã€å…‰æ ‡ä½ç½®è‡ªåŠ¨ç´¯åŠ ç­‰ 12345678910111213void LCD_Init() &#123; rt_pin_write(LCD_V0, PIN_HIGH); rt_pin_write(LCD_BL, PIN_HIGH); rt_thread_mdelay(15); LCD_WriteCommand(0x38); rt_thread_mdelay(5); LCD_WriteCommand(0x0c); rt_thread_mdelay(5); LCD_WriteCommand(0x06); rt_thread_mdelay(5); LCD_WriteCommand(0x01); rt_thread_mdelay(5);&#125; æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨å±å¹•ç¬¬ä¸€è¡Œæ˜¾ç¤ºLevitationå­—æ · 123456789101112131415161718192021222324252627282930static void lcd2002_entry(void* parameter) &#123;\tLCD_GPIO_Init(); LCD_Init();\tLCD_WriteCommand( 0x80 ); LCD_SetCursor(5, 0); LCD_Print(&quot;Levitation&quot;); while(1) &#123; rt_thread_mdelay(500); &#125;&#125;int main()&#123;\t// lcd2002 rt_thread_t lcd2002_thread = rt_thread_create(&quot;lcd2002&quot;, lcd2002_entry, RT_NULL, 512, 21, 20); if (lcd2002_thread != RT_NULL) &#123; rt_thread_startup(lcd2002_thread); &#125; while (1) &#123; rt_pin_write(LED0_PIN, PIN_HIGH); rt_thread_mdelay(10); rt_pin_write(LED0_PIN, PIN_LOW); rt_thread_mdelay(10); &#125; return RT_EOK;&#125; æ˜¾ç¤ºæ•ˆæœ æ€»ç»“ä¹°çš„æ˜¯5Vä¾›ç”µçš„LCD2002ï¼Œä½†å®ƒçš„æ•°æ®å¼•è„šæ˜¯å¯ä»¥å…¼å®¹3.3Vçš„GPIOçš„ï¼Œè¯¦ç»†å¯å‚è€ƒæ•°æ®æ‰‹å†Œå…³äºèŠ¯ç‰‡å¼•è„šç”µæ°”ç‰¹æ€§çš„è¯´æ˜ ç«‹åˆ›ä¸Šé¢æ±‰æ˜‡çš„LCD2002èƒŒå…‰å¼•è„šBLKã€BLAçš„è¯´æ˜æ˜¯é”™è¯¯çš„ å»¶ç”³BLAèƒŒå…‰å’ŒV0å¯¹æ¯”åº¦é€šè¿‡ä½¿ç”¨1KHzæ–¹æ³¢æ”¹å˜å ç©ºæ¯”å¯ä»¥å®ç°èƒŒå…‰å’Œå¯¹æ¯”åº¦çš„è°ƒèŠ‚ï¼Œå¯ä»¥èŠ‚çº¦ç¡¬ä»¶Bomæˆæœ¬ï¼Œå‡å°‘ç”µä½å™¨çš„ä½¿ç”¨ å¯¹æ¯”åº¦è°ƒèŠ‚æ•ˆæœ äº®åº¦è°ƒèŠ‚æ•ˆæœ","tags":["stm32","LCD2002"],"categories":["åµŒå…¥å¼"]},{"title":"ä¸‹ä½æœºæ²¡æœ‰RTCæ¨¡å—å¦‚ä½•åšæ—¶é—´åŒæ­¥","path":"//lower-device-time-sync.html","content":"å¦‚é¢˜ï¼šå¼€å‘ç¯å¢ƒä¸‹ï¼Œå¦‚æœstm32æ²¡æœ‰æ¿è½½RTCæ¨¡å—ï¼Œæ€ä¹ˆè·Ÿä¸Šä½æœºåšæ—¶é—´åŒæ­¥å‘¢ï¼Ÿ å¦‚æœæœ‰ä»¥å¤ªç½‘ï¼Œå¯ä»¥è€ƒè™‘ç§»æ¤NTPåè®®ï¼Œå€Ÿç”¨ç½‘ç»œä¸­æ¯”è¾ƒå¯é çš„æ—¶é’Ÿæºä½œä¸ºæ—¶é—´å‚è€ƒ å¦‚æœæœ‰ä¸²å£ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨GNSSæ¨¡å—ï¼Œè·å–NMEA-0183å«æ˜Ÿæ—¶é—´ä½œä¸ºæ—¶é—´å‚è€ƒï¼ŒGNSSä¹Ÿå¸¦æœ‰PPSåšæ—¶é—´æ ¡å‡† å¦‚æœè·Ÿä¸Šä½æœºå»ºç«‹é€šä¿¡è¿æ¥ï¼Œå¯ä»¥é‡‡ç”¨ä¸Šä½æœºæ—¶åˆ»+å®šæœŸå¿ƒè·³æœºåˆ¶è·å–ä¸€ä¸ªå¤§è‡´çš„æ—¶é—´å‚è€ƒ å¦‚æœè·ŸPLCå»ºç«‹EtherCATé€šä¿¡ï¼Œä¹Ÿå¯ä»¥ç”¨PLCçš„æ—¶é—´åšå‚è€ƒ","tags":["ä¸‹ä½æœº","RTC","æ—¶é—´åŒæ­¥"],"categories":["åµŒå…¥å¼"]},{"title":"msvcä¸g++ç¼–è¯‘å™¨å­—ç¬¦ç¼–ç é—®é¢˜","path":"//msvc-g++-coder-problem.html","content":"ä»‹ç»åŒä¸€ä»½ä»£ç ï¼Œéƒ½æ˜¯ç”¨utf-8ä¿å­˜çš„æ–‡ä»¶ï¼Œç”¨g++ç¼–è¯‘ä¸­æ–‡æ˜¯ä¸ä¼šä¹±ç çš„ï¼Œæ¢æˆmsvc2017ç¼–è¯‘å°±ä¹±ç äº† è§£å†³åœ¨åŒ…å«ä¸­æ–‡çš„æºæ–‡ä»¶å¤´éƒ¨æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œè®¾ç½®å­—ç¬¦ç¼–ç ä¸ºutf-8 123#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600)# pragma execution_character_set(&quot;utf-8&quot;)#endif","tags":["msvc","g++","ç¼–è¯‘å™¨","å­—ç¬¦ç¼–ç "],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ä¿¡å·å’Œæ§½å‡½æ•°é‡è½½å†™æ³•å‚è€ƒ","path":"//qt-signal-slot-overload.html","content":"ä¿¡å·é‡è½½æœ€å¸¸è§çš„é‡è½½ä¿¡å·å°±æ˜¯QComboBox::currentIndexChangedï¼Œå®ƒæœ‰intå’Œconst QString &amp;ä¸¤ç§é‡è½½å‚æ•° 12345678910111213connect(ui-&gt;algorithm, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged), this, [=](int index) &#123; if(index == 0) &#123; this-&gt;initTable(PID); &#125; else &#123; this-&gt;initTable(Model); &#125; emit this-&gt;changeAlgorithm(index);&#125;);connect(ui-&gt;algorithm, QOverload&lt;const QString &amp;&gt;::of(&amp;QComboBox::currentIndexChanged), this, [=](const QString &amp;text) &#123; qDebug() &lt;&lt; text;&#125;); æ§½å‡½æ•°é‡è½½ä»¥ä¼ é€’è‡ªå®šä¹‰å‚æ•°ç±»å‹ä¸ºä¾‹ï¼Œè‡ªå®šä¹‰ç»“æ„ä½“éœ€è¦æ³¨å†ŒæˆQtçš„å…ƒæ•°æ®ç±»å‹ 123456789101112131415#pragma pack (4)typedef struct &#123; ...&#125; TAlgorithmModel;#pragma pack ()Q_DECLARE_METATYPE(TAlgorithmModel *)#pragma pack (4)typedef struct &#123;\t...&#125; TAlgorithmPid;#pragma pack ()Q_DECLARE_METATYPE(TAlgorithmPid *) å‘é€æ–¹ä¿¡å· 123// åŸå§‹ä¿¡å·void NetworkManager::updateModel(const TAlgorithmModel *);void NetworkManager::updatePid(const TAlgorithmPid *); æ¥æ”¶æ–¹æ§½å‡½æ•°é‡è½½ 123// é‡è½½æ§½å‡½æ•°void OperatePage::onUpdateTable(const TAlgorithmModel *p);void OperatePage::onUpdateTable(const TAlgorithmPid *p); ä¿¡å·å’Œæ§½å†™æ³•å‚è€ƒ 12connect(NetworkManager::getInstance(), &amp;NetworkManager::updateModel, operate, QOverload&lt;const TAlgorithmModel *&gt;::of(&amp;OperatePage::onUpdateTable));connect(NetworkManager::getInstance(), &amp;NetworkManager::updatePid, operate, QOverload&lt;const TAlgorithmPid *&gt;::of(&amp;OperatePage::onUpdateTable));","tags":["Qt","ä¿¡å·","æ§½","é‡è½½"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Gitä»“åº“é‡å®šå‘","path":"//git-repository.html","content":"å‰è¨€åœ¨å¼€å‘è¿‡ç¨‹ï¼Œå¦‚æœæƒ³æŠŠä»£ç ä»æŸä¸€ä¸ªä»“åº“è½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªä»“åº“ï¼Œæ¯”å¦‚ï¼Œä½ ç°åœ¨åœ¨giteeä¸Šé¢æœ‰ä¸€ä¸ªzhd-desktopçš„ä»“åº“ï¼Œåé¢ä½ ä¸æƒ³è¦äº†ï¼Œä½ æƒ³æŠŠå®ƒæ”¾åˆ°GitHubä¸Šé¢ï¼Œæ€ä¹ˆåŠæ‰èƒ½ä¿ç•™åŸæ¥çš„æäº¤ä¿¡æ¯å’Œåˆ†æ”¯å‘¢ï¼Ÿ è§£å†³å‘½ä»¤è¡Œ åœ¨åŸæ¥çš„ä»“åº“é‡Œè¾¹æ·»åŠ è¿œç«¯ä»“åº“é“¾æ¥ 1git remote add upstream https://github.com/hywing/zhd-desktop.git å¾€upstreamæ¨é€developåˆ†æ”¯ 1git push upstream develop -f tortoiseGit å…ˆæ·»åŠ è¿œç¨‹ä»“åº“ é€‰æ‹©è¿œç¨‹ä»“åº“åpush æ€»ç»“åŸåˆ™ä¸Šæœ¬åœ°ä»“åº“å¯ä»¥ç»‘å®šå¤šä¸ªè¿œç¨‹ä»“åº“URL 1git remote add è¿œç¨‹ä»“åº“ ä»“åº“åœ°å€ å½“ä½ æƒ³è¦åˆå¹¶ã€æ‹‰å–æ›´æ–°ã€æ¨é€ä»£ç æ—¶ï¼Œè¯·è®°å¾—å¯¹åº”å“ªä¸ªè¿œç¨‹ä»“åº“ï¼Œä½†ä»“åº“å¤šäº†ä¼šæœ‰ä¸åŠæ—¶åŒæ­¥çš„æƒ…å†µï¼Œpushçš„æ—¶å€™å¯ä»¥åŠ ä¸Š-få‚æ•°å¼ºåˆ¶æ¨é€ 123git fetch è¿œç¨‹ä»“åº“ git pull è¿œç¨‹ä»“åº“ git push è¿œç¨‹ä»“åº“ ä»“åº“åˆ†æ”¯","tags":["git","upstream"],"categories":["å¼€å‘å·¥å…·"]},{"title":"longæ•°æ®ç±»å‹è·¨å¹³å°é—®é¢˜","path":"//long-data-size.html","content":"ç¤ºä¾‹ä»£ç ä»¥ä¸‹ä»£ç ç”¨äºæ‰“å°longç±»å‹æ•°æ®çš„å¤§å° 1234567#include &lt;iostream&gt;int main()&#123;\tstd::cout &lt;&lt; &quot;size of long : &quot; &lt;&lt; sizeof(long) &lt;&lt; std::endl;\treturn 0;&#125; WindowsQt5.12.9 MSVC2017 64bitç¼–è¯‘å™¨ï¼šlong -&gt; 32ä½ LinuxQt5.12.9 g++9.4.0ç¼–è¯‘å™¨ï¼šlong -&gt; 64ä½ å»ºè®®è·¨å¹³å°ç¨‹åºå°½é‡é‡‡ç”¨è·¨å¹³å°åº“ï¼Œå¦‚Boost 123456789101112131415161718192021222324252627282930313233343536373839namespace boost&#123; using ::int8_t; using ::int_least8_t; using ::int_fast8_t; using ::uint8_t; using ::uint_least8_t; using ::uint_fast8_t; using ::int16_t; using ::int_least16_t; using ::int_fast16_t; using ::uint16_t; using ::uint_least16_t; using ::uint_fast16_t; using ::int32_t; using ::int_least32_t; using ::int_fast32_t; using ::uint32_t; using ::uint_least32_t; using ::uint_fast32_t;# ifndef BOOST_NO_INT64_T using ::int64_t; using ::int_least64_t; using ::int_fast64_t; using ::uint64_t; using ::uint_least64_t; using ::uint_fast64_t;# endif using ::intmax_t; using ::uintmax_t;&#125; æˆ–è€…stdint.h 1234567891011121314151617181920212223242526272829typedef signed char int8_t;typedef short int16_t;typedef int int32_t;typedef long long int64_t;typedef unsigned char uint8_t;typedef unsigned short uint16_t;typedef unsigned int uint32_t;typedef unsigned long long uint64_t;typedef signed char int_least8_t;typedef short int_least16_t;typedef int int_least32_t;typedef long long int_least64_t;typedef unsigned char uint_least8_t;typedef unsigned short uint_least16_t;typedef unsigned int uint_least32_t;typedef unsigned long long uint_least64_t;typedef signed char int_fast8_t;typedef int int_fast16_t;typedef int int_fast32_t;typedef long long int_fast64_t;typedef unsigned char uint_fast8_t;typedef unsigned int uint_fast16_t;typedef unsigned int uint_fast32_t;typedef unsigned long long uint_fast64_t;typedef long long intmax_t;typedef unsigned long long uintmax_t;","tags":["Windows","linux","long","è·¨å¹³å°"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Windowså¹³å°git cloneæ–‡ä»¶è·¯å¾„å¤ªé•¿æŠ¥é”™","path":"//git-clone-url-too-long.html","content":"é—®é¢˜æè¿°åœ¨Windowsä¸‹æ‹‰å–ä¸€äº›æ¯”è¾ƒå¤§çš„å¼€æºé¡¹ç›®ç»å¸¸ä¼šæç¤ºæ–‡ä»¶è·¯å¾„å¤ªé•¿ï¼ˆfilename too longï¼‰ï¼Œç„¶åæ­»æ´»éƒ½ä¸æˆåŠŸ è§£å†³åŠæ³•1.é…ç½®git 1git config --system core.longpaths true 2.ä¿®æ”¹æ–‡ä»¶C:\\Program Files\\Git\\etc\\gitconfigï¼ˆéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ï¼‰ 12345[core]\tautocrlf = true\tfscache = true\tsymlinks = false\tlongpaths = true longpaths = trueè¡¨ç¤ºå…è®¸è·¯å¾„å­—ç¬¦ä¸²è¶…è¿‡260 3.è¾“å…¥å‘½ä»¤æŸ¥çœ‹ 1git config --system core.longpaths æ˜¾ç¤ºç»“æœä¸ºtrueè¡¨ç¤ºå·²ç»æˆåŠŸè®¾ç½®","tags":["Windows","git"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ros2 foxyè®¢é˜…è¯é¢˜é—®é¢˜","path":"//ros2-foxy-subscribe-problem.html","content":"ä»£ç ç‰‡æ®µè¿™éƒ¨åˆ†ä»£ç åœ¨galacticç‰ˆæœ¬ç¼–è¯‘æ˜¯OKçš„ï¼Œå¯åœ¨foxyä¸‹ç¼–è¯‘å°±å‡ºäº†é—®é¢˜ 123456789101112131415161718192021222324252627TeleopPanel::TeleopPanel(QWidget* parent) : rviz_common::Panel(parent), playRate_(1.0)&#123; signalPub_ = nh_-&gt;create_publisher&lt;std_msgs::msg::Int16&gt;(&quot;/pixel/lv/run_signal&quot;, 5); beginPub_ = nh_-&gt;create_publisher&lt;std_msgs::msg::Float32&gt;(&quot;/pixel/lv/begin_signal&quot;, 5); ratePub_ = nh_-&gt;create_publisher&lt;std_msgs::msg::Float32&gt;(&quot;/pixel/lv/rate_signal&quot;, 5); currTimeSub_ = nh_-&gt;create_subscription&lt;std_msgs::msg::String&gt;(&quot;/pixel/lv/current_time&quot;, 10, std::bind(&amp;TeleopPanel::CurrTimeSub, this, std::placeholders::_1)); selectPtSub_ = nh_-&gt;create_subscription&lt;sensor_msgs::msg::PointCloud2&gt;(&quot;/rviz_selected_points&quot;, 10, std::bind(&amp;TeleopPanel::SelectPtSub, this, std::placeholders::_1)); std::thread t(&amp;TeleopPanel::StartSpin, this); t.detach(); SetPanelLayout();&#125;void TeleopPanel::CurrTimeSub(const std_msgs::msg::String&amp; msg)&#123; QString currTime = QString::fromStdString(msg.data); currentTimeEditor_-&gt;setText(currTime);&#125;void TeleopPanel::SelectPtSub(const sensor_msgs::msg::PointCloud2&amp; msg)&#123; const auto ptsNum = msg.width; QString ptsNumQStr = QString::fromStdString(std::to_string(ptsNum)); selectPtsEditor_-&gt;setText(ptsNumQStr);&#125; å‡ºé”™éƒ¨åˆ†ä¸¤ä¸ªcreate_subscriptionè°ƒç”¨å‡ºé”™ 12currTimeSub_ = nh_-&gt;create_subscription&lt;std_msgs::msg::String&gt;(&quot;/pixel/lv/current_time&quot;, 10, std::bind(&amp;TeleopPanel::CurrTimeSub, this, std::placeholders::_1));selectPtSub_ = nh_-&gt;create_subscription&lt;sensor_msgs::msg::PointCloud2&gt;(&quot;/rviz_selected_points&quot;, 10, std::bind(&amp;TeleopPanel::SelectPtSub, this, std::placeholders::_1)); create_subscriptionå‡½æ•°åŸå‹ 1234567891011std::shared_ptr&lt;SubscriptionT&gt; create_subscription( const std::string &amp; topic_name, const rclcpp::QoS &amp; qos, CallbackT &amp;&amp; callback, const SubscriptionOptionsWithAllocator&lt;AllocatorT&gt; &amp; options = SubscriptionOptionsWithAllocator&lt;AllocatorT&gt;(), typename MessageMemoryStrategyT::SharedPtr msg_mem_strat = ( MessageMemoryStrategyT::create_default() ) ); å‡ºé”™å†…å®¹ ä¸‹é¢æ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†æŠ¥é”™å†…å®¹ 12345678910111213141516// æŠ¥é”™ä¸€play_panel.cpp:26: error: no match for â€˜operator=â€™ (operand types are â€˜rclcpp::Subscription&lt;sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &gt;::SharedPtrâ€™ &#123;aka â€˜std::shared_ptr&lt;rclcpp::Subscription&lt;sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &gt; &gt;â€™&#125; and â€˜std::shared_ptr&lt;rclcpp::Subscription&lt;const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt;&amp;, std::allocator&lt;void&gt;, rclcpp::message_memory_strategy::MessageMemoryStrategy&lt;const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt;&amp;, std::allocator&lt;void&gt; &gt; &gt; &gt;â€™) 26 | selectPtSub_ = nh_-&gt;create_subscription&lt;sensor_msgs::msg::PointCloud2&gt;(&quot;/rviz_selected_points&quot;, 10, std::bind(&amp;TeleopPanel::SelectPtSub, this, std::placeholders::_1)); | ^// æŠ¥é”™äºŒplay_panel.cpp:26:25: error: no matching member function for call to &#x27;create_subscription&#x27;node_impl.hpp:91:7: note: candidate template ignored: substitution failure [with MessageT = sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt;, CallbackT = std::_Bind&lt;void (LidarViewRos2::RvizPlugin::TeleopPanel::*(LidarViewRos2::RvizPlugin::TeleopPanel *, std::_Placeholder&lt;1&gt;))(const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &amp;)&gt;, AllocatorT = std::allocator&lt;void&gt;, CallbackMessageT = const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &amp;, SubscriptionT = rclcpp::Subscription&lt;const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &amp;, std::allocator&lt;void&gt;, rclcpp::message_memory_strategy::MessageMemoryStrategy&lt;const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &amp;, std::allocator&lt;void&gt; &gt; &gt;, MessageMemoryStrategyT = rclcpp::message_memory_strategy::MessageMemoryStrategy&lt;const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt; &amp;, std::allocator&lt;void&gt; &gt;]// æŠ¥é”™ä¸‰/opt/ros/foxy/include/rclcpp/subscription_factory.hpp:97: error: no matching function for call to â€˜rclcpp::AnySubscriptionCallback&lt;const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt;&amp;, std::allocator&lt;void&gt; &gt;::set(std::_Bind&lt;void (LidarViewRos2::RvizPlugin::TeleopPanel::*(LidarViewRos2::RvizPlugin::TeleopPanel*, std::_Placeholder&lt;1&gt;))(const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt;&amp;)&gt;)â€™ 97 | any_subscription_callback.set(std::forward&lt;CallbackT&gt;(callback)); | ^~~~~~~~~~~~~~~~~~~~~~~~~ // æŠ¥é”™å››/usr/include/c++/9/ext/new_allocator.h:64: error: forming pointer to reference type â€˜const sensor_msgs::msg::PointCloud2_&lt;std::allocator&lt;void&gt; &gt;&amp;â€™typedef const _Tp* const_pointer; å…¶å®å°±æ˜¯æ¨¡æ¿å‡½æ•°çš„åŸå‹ä¸åŒ¹é…å¯¼è‡´çš„ï¼ŒCallbackTçš„æ¨¡æ¿å‚æ•°éœ€è¦ä¼ å…¥æŒ‡é’ˆç±»å‹æ‰èƒ½æ­£ç¡®è§£å‚æ•°ç±»å‹ï¼Œä¼ å…¥å¼•ç”¨ç±»å‹æ˜¯ä¸å¯¹çš„ æ­£ç¡®å†™æ³• åªè¦æŠŠCurrTimeSubå’ŒSelectPtSubä¸¤ä¸ªå‡½æ•°çš„åŸå‹ä¿®æ”¹ä¸€ä¸‹ï¼ˆå…¥å‚æ”¹æˆæŒ‡é’ˆï¼‰å°±OKäº† 123456789101112void TeleopPanel::CurrTimeSub(const std_msgs::msg::String::SharedPtr msg)&#123; QString currTime = QString::fromStdString(msg-&gt;data); currentTimeEditor_-&gt;setText(currTime);&#125;void TeleopPanel::SelectPtSub(const sensor_msgs::msg::PointCloud2::SharedPtr msg)&#123; const auto ptsNum = msg-&gt;width; QString ptsNumQStr = QString::fromStdString(std::to_string(ptsNum)); selectPtsEditor_-&gt;setText(ptsNumQStr);&#125; æ€»ç»“foxyå’ŒgalacticåŠåç»­ç‰ˆæœ¬åœ¨create_subscriptionæ¨¡æ¿å‡½æ•°çš„å®ç°æœ‰åŒºåˆ«ï¼Œç§»æ¤çš„æ—¶å€™è¦æ³¨æ„å…¼å®¹æ€§ï¼Œå‚è€ƒissue ros2 add arguments to callback - ROS Answers: Open Source Q&amp;A Forum","tags":["ç¼–è¯‘","ros2","foxy"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"å„ç§ç¼–è¯‘æ¨¡å¼çš„åŒºåˆ«","path":"//complile-mode.html","content":"debugè°ƒè¯•ç‰ˆæœ¬ï¼Œå¸¦æœ‰å®Œæ•´çš„è°ƒè¯•ä¿¡æ¯ï¼ˆå‡½æ•°ã€å˜é‡ç¬¦å·è¡¨ã€æ–‡ä»¶è·¯å¾„ã€è¡Œå·ï¼‰ï¼ŒåŠ è½½é€Ÿåº¦æ…¢ï¼Œä½“ç§¯å¤§ï¼Œæ¯”è¾ƒé€‚åˆåœ¨å¼€å‘é˜¶æ®µä½¿ç”¨ releaseå‘å¸ƒç‰ˆæœ¬ï¼Œå‡ ä¹æ²¡æœ‰è°ƒè¯•ä¿¡æ¯ï¼ŒåŠ è½½é€Ÿåº¦å¿«ï¼ˆé€šå¸¸å¸¦æœ‰ä»£ç ä¼˜åŒ–ï¼‰ï¼Œä½“ç§¯å°ï¼Œä¸€èˆ¬åœ¨å‘å¸ƒé˜¶æ®µä½¿ç”¨ release with debug informationVisual Studioç‰¹æœ‰çš„ç¼–è¯‘æ¨¡å¼ï¼Œä¼šå¸¦æœ‰ä¸€ç‚¹ç‚¹è°ƒè¯•ç¬¦å·ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°è¡Œçš„æ–­ç‚¹éƒ½å¯ä»¥å‘½ä¸­ï¼Œè€Œä¸”è°ƒè¯•ä¿¡æ¯ä¹Ÿä¸å®Œå–„ï¼Œç¨‹åºä½“ç§¯æ¯”releaseç•¥å¤§","tags":["ç¼–è¯‘"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"C++ stringä¸QStringä¸­æ–‡å­—ç¬¦è½¬æ¢å…³ç³»","path":"//cpp-string-to-qstring.html","content":"1.ä»QStringåˆ°std::string12std::string oldString = &quot;ä½ å¥½ï¼Œhello world&quot;;QString newString = QString::fromLocal8Bit(oldString.c_str()) 2.ä»std::stringåˆ°QString12QString oldString = &quot;ä½ å¥½ï¼Œhello world&quot;;std::string newString = std::string((const char *)oldString.toLocal8Bit().constData()); 3.ä»std::stringåˆ°char *12345678910111213141516171819202122char *wchar2char(const wchar_t* source)&#123; char * data; int len= WideCharToMultiByte( CP_ACP ,0,source ,wcslen( source ), nullptr,0, nullptr ,nullptr); data= new char[len+1]; WideCharToMultiByte( CP_ACP ,0,source ,wcslen( source ),data,len, nullptr ,nullptr); data[len]= &#x27;\\0&#x27;; return data;&#125;const char *stringToChar(const std::string&amp; str)&#123; std::wstring wstr = L&quot;&quot;; int len = MultiByteToWideChar(CP_UTF8, 0, str.c_str(), str.size(), nullptr, 0); wchar_t* wchar = new wchar_t[len + 1]; MultiByteToWideChar(CP_UTF8, 0, str.c_str(), str.size(), wchar, len); wchar[len] = &#x27;\\0&#x27;; wstr.append(wchar); const char *data = wchar2char(wchar); delete[] wchar; return data;&#125;","tags":["C++","string","QString","ä¸­æ–‡å­—ç¬¦"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Windowsåº”ç”¨å‘å¸ƒæ—¶ç¦æ­¢cmdçª—å£å¼¹å‡º","path":"//windows-forbid-cmd.html","content":"è§£å†³å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨Releaseæ¨¡å¼ä¸‹å‘Šè¯‰ç¼–è¯‘å™¨ï¼šè¿™æ˜¯ä¸€ä¸ªwin32çš„appå°±è¡Œäº† 1234567if(CMAKE_BUILD_TYPE AND (CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot;)) set(FLAG &quot;WIN32&quot;)else() set(FLAG &quot;&quot;)endif()add_executable(zhd-desktop $&#123;FLAG&#125; main.cpp)","tags":["Windows","ä¸Šä½æœº","cmake","cmd","release"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"né˜¶è¡Œåˆ—å¼æ±‚è§£","path":"//n-det-calculation.html","content":"å‰è¨€ç¬”è€…æœ€è¿‘åœ¨å­¦ä¹ çº¿æ€§ä»£æ•°ï¼Œå†™äº†ä¸€ä¸ªæ±‚è§£né˜¶è¡Œåˆ—å¼çš„ç¨‹åºï¼Œæ‹¿å‡ºæ¥ç»™å¤§å®¶åˆ†äº«å€Ÿé‰´ä¸€ä¸‹ã€‚ å®ç°ç”¨é€’å½’çš„æ–¹æ³•æ±‚è§£né˜¶è¡Œåˆ—å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126/*\t1.åå­—ï¼š\tdeterminant.c 2.åŠŸèƒ½ï¼š\tæ±‚è§£né˜¶è¡Œåˆ—å¼å€¼ 3.ç¼–è€…ï¼š\tHeavenMo &lt;1621326181@qq.com&gt; 4.æ—¶é—´ï¼š\t2015-10-2 22:42 5.å™è¿°ï¼š\té€’å½’æ³•å®ç°né˜¶è¡Œåˆ—å¼çš„æ±‚è§£ 6.ç”³æ˜ï¼š\tWin 8.1 pro / GCC 4.8.1ç¼–è¯‘å™¨äº²æµ‹é€šè¿‡ 7.ç»“æ„ï¼š a)mainå‡½æ•°éƒ¨åˆ†å®Œæˆè¡Œåˆ—å¼çš„è¾“å…¥æ“ä½œ b)detå‡½æ•°å®Œæˆè¡Œåˆ—å¼çš„å€¼çš„è¿”å› c)detå‡½æ•°ä¸­ï¼Œå°†åŸæ¥çš„né˜¶è¡Œåˆ—å¼ä¸æ–­çš„é€’å½’åˆ†è§£ï¼Œ å¦‚ï¼Œné˜¶çŸ©é˜µåˆ†è§£ä¸ºnä¸ª(n-1)é˜¶ä½™å­çŸ©é˜µï¼Œ(n-1)é˜¶åˆ†è§£æˆ(n-1)ä¸ª(n-2)é˜¶ä½™å­çŸ©é˜µï¼Œ ...ï¼Œä»¥æ­¤ç±»æ¨ d)é€’å½’è‡³2é˜¶æ—¶ï¼Œè®¡ç®—2é˜¶è¡Œåˆ—å¼çš„å€¼ï¼Œå¹¶è¿”å›ç»™ä¸Šä¸€å±‚ï¼Œ...ï¼Œ ä»¥æ­¤ç±»æ¨*///æœ‰å…³å¤´æ–‡ä»¶çš„åŒ…å«ï¼Œå› ä¸ºè¦ç”¨åˆ°åŠ¨æ€å†…å­˜çš„åˆ†é…ï¼Œæ‰€ä»¥åŒ…å«stdlib.h# include &lt;stdio.h&gt;# include &lt;stdlib.h&gt;//å®šåˆ¶æ•°æ®ç±»å‹ï¼Œæ–¹ä¾¿ä¿®æ”¹typedef int data_type;typedef unsigned int uint;//è®¡ç®—né˜¶è¡Œåˆ—å¼çš„å‡½æ•°å£°æ˜data_type det(data_type *p, uint n);int main(void)&#123;\t//nä¸ºè¡Œåˆ—å¼çš„é˜¶æ•°ï¼Œiï¼Œnï¼Œmä¸ºéè´Ÿå€¼ï¼Œæ‰€ä»¥å®šä¹‰ä¸ºuint\tuint i, n, m;\t//æç¤ºè¾“å…¥è¡Œåˆ—å¼çš„é˜¶æ•°\tprintf(&quot;è¯·è¾“å…¥è¡Œåˆ—å¼çš„é˜¶æ•°: &quot;);\tscanf(&quot;%u&quot;, &amp;n);\tm = n * n;\t//ç¨‹åºçš„å…³é”®æ‰€åœ¨ï¼Œå°†né˜¶è¡Œåˆ—å¼çœ‹æˆæ˜¯ä¸€ä¸ªé•¿åº¦æ˜¯n*nçš„ä¸€ç»´æ•°ç»„ï¼Œmä¸ºæ•°ç»„çš„é•¿åº¦\tdata_type *p = (data_type *)calloc(m, sizeof(data_type));\tprintf(&quot;è¯·è¾“å…¥è¡Œåˆ—å¼çš„å…ƒç´ å€¼: &quot;);\tfor(i = 0; i &lt; m; i++)\t&#123; scanf(&quot;%d&quot;, p + i);\t&#125;\tprintf(&quot; æ‰€æ±‚è¡Œåˆ—å¼çš„å€¼ = %d &quot;, det(p, n)); //é‡Šæ”¾ç›¸åº”çš„å†…å­˜\tfree(p);\treturn 0;&#125;//pæŒ‡å‘é•¿åº¦ä¸ºn*nçš„æ•°ç»„ï¼Œnä¸ºè¡Œåˆ—å¼çš„é˜¶æ•°data_type det(data_type *p, uint n)&#123;\t//n = 1æ—¶çš„æƒ…å†µ\tif(n == 1)\t&#123; return *p;\t&#125;\t//é€’å½’åŸºå‡†\tif(n == 2)\t&#123; return ((*p) * (*(p + 3)) - (*(p + 1)) * (*(p + 2)));\t&#125;\t//m1:å½“å‰è¡Œåˆ—å¼çš„å…ƒç´ ä¸ªæ•°ï¼Œm2ï¼šåˆ†è§£åçš„è¡Œåˆ—å¼çš„å…ƒç´ ä¸ªæ•°\tuint i, j, k, m1, m2;\tm1 = n * n;\tm2 = (n - 1) * (n - 1); //ä¸ºåˆ†é…åçš„nä¸ªn-1é˜¶çš„è¡Œåˆ—å¼åˆ†é…å†…å­˜çš„åŸºå€\tdata_type *p_list[n];\tfor(i = 0; i &lt; n; i++)\t&#123; p_list[i] = (data_type *)calloc(m2, sizeof(data_type));\t&#125;\t//å…³é”®ä¸€æ­¥ï¼Œç­›é€‰å‡ºä»£æ•°ä½™å­çŸ©é˜µï¼Œi(0 - n-1)ï¼šåŸçŸ©é˜µå¯ä»¥åˆ†è§£ä¸ºnä¸ªn-1é˜¶ä»£æ•°ä½™å­çŸ©é˜µ\tfor(i = 0; i &lt; n; i++)\t&#123; //j = næ„ä¸ºç­›é€‰å…ƒç´ è¦ä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œkå˜é‡ç»Ÿè®¡ä»£æ•°ä½™å­çŸ©é˜µçš„å…ƒç´ ä¸ªæ•° for(j = n, k = 0; j &lt; m1; j++) &#123; //è€ƒå¯ŸåŸçŸ©é˜µä¸ä½™å­çŸ©é˜µçš„å…³ç³»ï¼Œæ„é€ ä½™å­çŸ©é˜µ if(j % n != i) &#123; *(p_list[i] + k) = *(p + j); k++; &#125; &#125;\t&#125; //æ ¹æ®é€’æ¨å…¬å¼æ±‚å’Œï¼Œsignä¸ºä»£æ•°ä½™å­å¼çš„ç¬¦å·ï¼Œä¸è¡Œæ•°(å…¶å®æ˜¯ç¬¬ä¸€è¡Œ)ï¼Œåˆ—æ•°æœ‰å…³\tint sign = -1;\tdata_type sum = 0;\tfor(i = 0; i &lt; n; i++)\t&#123; sign *= -1; //è°ƒç”¨å‡½æ•°ï¼Œé€šè¿‡å¯¹ç¬¬ä¸€è¡Œçš„å„å…ƒç´ ä¸ç›¸åº”çš„ä»£æ•°ä½™å­çŸ©é˜µçš„è¡Œåˆ—å¼å€¼ä¹‹ç§¯æ±‚å’Œï¼Œå®ç°é€’å½’æ±‚å€¼ sum += sign * (*(p + i)) * det(p_list[i], n - 1);\t&#125; //è¿”å›å‡½æ•°å€¼\treturn sum;&#125; è¿è¡Œé™„ä¸Šcmdè¿è¡Œç»“æœï¼š","tags":["né˜¶è¡Œåˆ—å¼","çº¿æ€§ä»£æ•°","ç®—æ³•"],"categories":["å­¦ç§‘"]},{"title":"cmakeä¹‹find_libraryé—®é¢˜","path":"//cmake-find-library.html","content":"é™„ä¸Šå·¥ç¨‹æºç åº“æ–‡ä»¶å·¥ç¨‹PSï¼šè¿™ä¸ªå·¥ç¨‹ç”¨äºå¯¼å‡ºåº“ CMakeLists.txt 1234567891011121314cmake_minimum_required(VERSION 3.5)project(demo LANGUAGES CXX)set(CMAKE_INCLUDE_CURRENT_DIR ON)set(CMAKE_CXX_STANDARD 11)set(CMAKE_CXX_STANDARD_REQUIRED ON)add_library(demo SHARED demo.cpp demo.h)target_compile_definitions(demo PRIVATE DEMO_LIBRARY) demo.h 123456789101112#ifndef DEMO_H#define DEMO_Hclass Demo&#123;public: Demo(); void Print();&#125;;#endif // DEMO_H demo.cpp 1234567891011#include &quot;demo.h&quot;#include &lt;iostream&gt;Demo::Demo()&#123;&#125;void Demo::Print()&#123; std::cout &lt;&lt; &quot;this is a demo&quot; &lt;&lt; std::endl;&#125; ä¸»ç¨‹åºå·¥ç¨‹PSï¼šè¿™ä¸ªå·¥ç¨‹ç”¨äºé“¾æ¥demoåº“ CMakeLists.txt 1234567891011121314cmake_minimum_required(VERSION 3.5)project(find-library LANGUAGES CXX)set(CMAKE_CXX_STANDARD 11)set(CMAKE_CXX_STANDARD_REQUIRED ON)include_directories($&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/inc)find_library(LIB_DEMO demo $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/lib)add_executable($&#123;PROJECT_NAME&#125; main.cpp)target_link_libraries($&#123;PROJECT_NAME&#125; $&#123;LIB_DEMO&#125;) main.cpp 1234567891011#include &lt;iostream&gt;#include &quot;demo.h&quot;using namespace std;int main()&#123; Demo d; d.Print(); return 0;&#125; é—®é¢˜æƒ…å½¢é¦–å…ˆè¿™ä¸¤ä¸ªå·¥ç¨‹åœ¨Linuxä¸‹ä½¿ç”¨æ²¡æœ‰é—®é¢˜çš„ï¼Œfind-libraryå·¥ç¨‹ç¼–è¯‘æ­£å¸¸ï¼Œå¯ä»¥æ­£ç¡®é“¾æ¥demoåº“ï¼›ä½†æ˜¯åœ¨Windowså¹³å°å°±æ­»æ´»ä¸è¡Œäº†ï¼Œfind-libraryå·¥ç¨‹CMakeLists.txtç¬¬10è¡Œè€æ˜¯æŠ¥é”™æç¤ºdemoåº“æ‰¾ä¸åˆ° 12LIB_DEMO linked by target &quot;find-library&quot; in directory E:/workspace/daily-project/cpp/find-library ä½†æ˜æ˜æ˜¯æŠŠdemoå·¥ç¨‹ç”Ÿæˆçš„åº“æ‹·è´åˆ°find-libraryå·¥ç¨‹çš„libç›®å½•ä¸‹äº†ï¼Œä¸ºå•¥å°±æ˜¯æ­»æ´»ä¼šæŠ¥é”™ï¼ŸWindowséš¾é“å¯¹åº“æ–‡ä»¶çš„æ ¼å¼æœ‰è¦æ±‚ï¼Ÿ è§£å†³åŠæ³•å°è¯•æŠŠdemoå·¥ç¨‹çš„CMakeLists.txtç¬¬9è¡ŒSHAREDæ”¹æˆSTATICï¼Œé‡æ–°ç¼–è¯‘demoï¼Œå†æŠŠç”Ÿæˆçš„é™æ€åº“æ–‡ä»¶demo.libæ‹·è´åˆ°find-libraryå·¥ç¨‹çš„libç›®å½•ä¸‹ï¼Œé‡æ–°ç¼–è¯‘è¯¥å·¥ç¨‹å´å‡ºä¹æ„æ–™çš„æˆåŠŸäº†ï¼ä½†å‚è€ƒå®˜ç½‘find_libraryçš„ç”¨æ³•å´æ²¡æœ‰å¾—åˆ°è§£æ æ€»ç»“ä¸‹æ¬¡å†™è·¨å¹³å°ç¼–è¯‘çš„ä»£ç çš„æ—¶å€™è®°å¾—åœ¨cmakeä¸Šé¢é…ç½®ç”Ÿæˆä¸åŒç±»å‹çš„åº“ï¼ˆWindowså¹³å°ç”Ÿæˆä¸¤ç§åº“å‡†æ²¡é”™ï¼‰","tags":["Windows","cmake"],"categories":["å¼€å‘å·¥å…·"]},{"title":"cmakeç”Ÿæˆåº”ç”¨ç¨‹åºlogo","path":"//cmake-app-logo.html","content":"logo.icoå»ä¸“é—¨çš„icoå›¾æ ‡ç½‘ç«™ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ™®é€šçš„å›¾ç‰‡è½¬æ¢ï¼špng-to-ico resource.rcè¿™ä¸ªç”¨äºæŒ‡å®šè¦åˆ°çš„å›¾ç‰‡æ–‡ä»¶ 1IDI_ICON1 ICON &quot;logo.ico&quot; CMakeLists.txtåœ¨cmakeæ–‡ä»¶é‡Œè¾¹åŠ ä¸Šrcæ–‡ä»¶ 1add_executable($&#123;PROJECT_NAME&#125; main.cpp resource.rc)","tags":["ä¸Šä½æœº","cmake","logo"],"categories":["å¼€å‘å·¥å…·"]},{"title":"cJsonæ•°æ®æ ¼å¼é—®é¢˜","path":"//cjson-file-format-problem.html","content":"é—®é¢˜æè¿°Linuxçš„æ¢è¡Œç¬¦æ˜¯ ï¼ŒWindowsçš„æ¢è¡Œç¬¦æ˜¯\\r ï¼Œåœ¨Linuxç³»ç»Ÿä¸‹ä½¿ç”¨cJsonåº“è§£ææœ¬åœ°jsonæ–‡ä»¶æ²¡æœ‰é—®é¢˜ï¼Œä½†å¦‚æœæŠŠWindowsçš„jsonæ–‡ä»¶æ‹·è´åˆ°Linuxä¸‹éœ€è¦æŠŠ\\r ç»™è¿‡æ»¤æ‰ï¼Œå¦åˆ™ä¼ å…¥æ–‡ä»¶bufferå°±è§£æä¸å‡ºcJsonå¯¹è±¡ï¼ è§£å†³åŠæ³• ä¸€ä¸ªç®€å•çš„åŠæ³•é€šè¿‡vimè®¾ç½®set ff=unixå°†æ–‡ä»¶æ”¹ä¸ºUnixæ–‡ä»¶æ ¼å¼ é€šè¿‡c&#x2F;c++å®ç°trimæˆ–è€…trimmedæ¥å£è¿‡æ»¤æ‰é¦–å°¾ä¸¤ç«¯ç©ºç™½ç¬¦","tags":["Windows","linux","cJson"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"QNXç§»æ¤mongoose","path":"//qnx-port-mongoose.html","content":"ç§»æ¤æ–¹æ³•MG_ARCHè¡¨ç¤ºUnixæ¶æ„ï¼ŒSSLå¯ä»¥å¼€å¯ï¼Œä¹Ÿå¯ä»¥ä¸å¼€å¯ï¼Œéœ€è¦é“¾æ¥mï¼Œcï¼Œsocketå‡ ä¸ªåº“ 12source ~/qnx700/qnxsdp-env.sh # ä½¿ç”¨å‰å…ˆsourceä¸€ä¸‹å·¥å…·é“¾aarch64-unknown-nto-qnx7.0.0-gcc -D MG_ARCH=1 -D MG_ENABLE_SSL=1 main.c ../../mongoose.* -l../../ -lm -lc -lsocket -o example","tags":["æœåŠ¡å™¨","QNX","mongoose","å¼€æºåº“"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ç”µæ°”è‡ªåŠ¨åŒ–ä¸“ä¸šè‹±è¯­è¯æ±‡","path":"//professional-english.html","content":"å‰è¨€ç”µå­ä¿¡æ¯ã€ç”µæ°”å·¥ç¨‹ã€è‡ªåŠ¨åŒ–ã€åŠå¯¼ä½“ã€è®¡ç®—æœºä¸“ä¸šè‹±è¯­è¯æ±‡æ±‡æ€»ï¼Œä¸å®šæœŸæ›´æ–° å¸¸ç”¨ Asynchronousï¼šå¼‚æ­¥ synchronousï¼šåŒæ­¥ notificationï¼šé€šçŸ¥ bladeï¼šå¹³é¢ shaftï¼šè½´ magneticï¼šç£åœºçš„ bearingï¼šè½´æ‰¿ valveï¼šé˜€ heat sinkï¼šæ•£çƒ­ç‰‡ separatedï¼šåˆ†ç¦»çš„ excitation ampï¼šæ¿€åŠ±æ”¾å¤§å™¨ Axialï¼šè½´çš„ï¼Œè½´å‘çš„ Supervisorï¼šç®¡ç†å‘˜ frontï¼šå‰é¢çš„ rearï¼šåé¢çš„ sheet metalï¼šé’£é‡‘ constraintsï¼šçº¦æŸ Radial sensorï¼šå¾„å‘ä¼ æ„Ÿå™¨ Axial sensorï¼šè½´å‘ä¼ æ„Ÿå™¨ Magnetic bearing ï¼šç£æ‚¬æµ®è½´æ‰¿ Thermalï¼šçƒ­çš„ earth terminalsï¼šæ¥åœ°ç«¯å­ Electromagnetic Interferenceï¼ŒEMIï¼šç”µç£å¹²æ‰° reentrantï¼šå¯é‡å…¥çš„ simultaneouslyï¼šåŒæ—¶ specificationsï¼šäº§å“è§„æ ¼ã€çº¦æŸ anticipateï¼šé¢„æ–™ consequencesï¼šåæœ hazardsï¼šå±å®³ warrantyï¼šä¿è¯ hereinï¼šè¯·è¿› Outletï¼šå‡ºå£ seriesï¼šäº§å“ç³»åˆ— outerï¼šå¤–é¢çš„ bendingï¼šå¼¯æ›² obstaclesï¼šéšœç¢ rackï¼šæ¶å­ screwï¼šèºé’‰ Levitationï¼šæ‚¬æµ® ç”µå­ç”µæ°” circuitï¼šç”µè·¯ Impedanceï¼šé˜»æŠ— inductanceï¼šç”µæ„Ÿ resistorï¼šç”µé˜» capacitanceï¼šç”µå®¹ thermistorï¼šçƒ­æ•ç”µé˜» braker Resistorï¼šåˆ¶åŠ¨ç”µé˜» cableï¼šçº¿ç¼† Leakage currentï¼šæ¼ç”µæµ Fuseï¼šä¿é™©ä¸ Insulationï¼šç»ç¼˜ reflectionï¼šåå°„ç‡ thresholdï¼šé˜ˆå€¼ acquisitionï¼šé‡‡é›† resistanceï¼šç”µé˜» capacitanceï¼šç”µå®¹ inductanceï¼šç”µæ„Ÿ diodeï¼šäºŒæç®¡ LEDï¼šlight-emitting diodeï¼Œå‘å…‰äºŒæç®¡ Bipolar Junction Transistorï¼šä¸‰æç®¡ Field Effect Transistorï¼šåœºæ•ˆåº”ç®¡ beamï¼šå…‰çº¿ï¼Œæ³¢æŸ magnetï¼šç£ä½“ Radio Frequencyï¼šRFï¼Œå°„é¢‘ï¼Œè¡¨ç¤ºå¯ä»¥è¾å°„åˆ°ç©ºé—´çš„ç”µç£é¢‘ç‡ï¼Œé¢‘ç‡èŒƒå›´ä»300kHzï½300GHzä¹‹é—´ Metal-Oxide-Semiconductor Field-Effect Transistorï¼šMOSFETï¼Œé‡‘æ°§åŠåœºæ•ˆæ™¶ä½“ç®¡ interlockï¼šè”é”ï¼Œä¸ºäººèº«å®‰å…¨å’Œè®¾å¤‡å®‰å…¨è®¾è®¡çš„å®‰å…¨è”é”è£…ç½® laserï¼šæ¿€å…‰ è‡ªåŠ¨åŒ– motorï¼šç”µæœº pumpï¼šæ³µ BEMF (back electromotive forceï¼‰ï¼šåç”µåŠ¨åŠ¿ GPIOï¼šGeneral-Purpose Input&#x2F;Outputï¼Œé€šç”¨è¾“å…¥è¾“å‡º pwmï¼šPulse Width Modulationï¼Œè„‰å†²å®½åº¦è°ƒåˆ¶æ•ˆåº” adcï¼šanalog-to-digital converterï¼Œæ¨¡æ•°è½¬æ¢å™¨ dacï¼šDigital to Analog Converterï¼Œæ•°å­—æ¨¡æ‹Ÿè½¬æ¢å™¨ SCIï¼šSerial Communications Interfaceï¼Œä¸²è¡Œé€šä¿¡æ¥å£ canï¼šController Area Networkï¼Œè¿‘åœºé€šä¿¡åè®® fanï¼šé£æ‰‡ brakerï¼šåˆ¶åŠ¨å™¨ã€åˆ¹è½¦ OPC UAï¼šopen platform communication unified architectureï¼Œå¼€æ”¾å¹³å°ç»Ÿä¸€æ¶æ„ IPCï¼šindustrial PCï¼Œå·¥æ§æœº PLCï¼šProgrammable Logic Controllerï¼Œå¯ç¼–ç¨‹é€»è¾‘æ§åˆ¶å™¨ displacementï¼šä½ç§» malfunctionï¼šæ•…éšœ PoEï¼špower over ethernetï¼Œä»¥å¤ªç½‘ä¾›ç”µæŠ€æœ¯ è®¡ç®—æœº computerï¼šè®¡ç®—æœº design patternï¼šè®¾è®¡æ¨¡å¼ data structureï¼šæ•°æ®ç»“æ„ algorithmï¼šç®—æ³• operating systemï¼šæ“ä½œç³»ç»Ÿï¼š compiler principleï¼šç¼–è¯‘åŸç† databaseï¼šæ•°æ®åº“ millisecondsï¼šæ¯«ç§’ loop backï¼šå›ç¯ï¼Œæ•°æ®å›ç¯ protocolï¼šåè®® MQTTï¼šMessage Queuing Telemetry Transport ç®—æ³•å’Œæ•°æ®ç»“æ„ arrayï¼šæ•°ç»„ linked listï¼šé“¾è¡¨ stackï¼šæ ˆ queueï¼šé˜Ÿåˆ— binary treeï¼šäºŒå‰æ ‘ hashï¼šå“ˆå¸Œ graphï¼šå›¾ stringï¼šå­—ç¬¦ä¸² setï¼šé›†åˆ mapï¼šæ˜ å°„ generic programmingï¼šæ³›å‹ç¼–ç¨‹ sortï¼šæ’åº å›¾å½¢å­¦ pipelineï¼šç®¡çº¿ shaderï¼šç€è‰²å™¨ textureï¼šçº¹ç† VBOï¼šVertex Buffer Objectï¼Œé¡¶ç‚¹ç¼“å†²å¯¹è±¡ VAOï¼šVertex Array Objectï¼Œé¡¶ç‚¹æ•°ç»„å¯¹è±¡ EBOï¼šElement Buffer Objectï¼Œå…ƒç´ ç´¢å¼•å¯¹è±¡ viewportï¼šè§†å£ vectorï¼šå‘é‡ matrixï¼šçŸ©é˜µ NDCï¼šNormalized Device Coordinatesï¼Œæ ‡å‡†åŒ–è®¾å¤‡åæ ‡ local spaceï¼šå±€éƒ¨ç©ºé—´ world spaceï¼šä¸–ç•Œç©ºé—´ view spaceï¼šè§‚å¯Ÿç©ºé—´ clip spaceï¼šè£å‰ªç©ºé—´ screen spaceï¼šå±å¹•ç©ºé—´ euler anglesï¼šæ¬§æ‹‰è§’ï¼Œåèˆªè§’ã€ä¿¯ä»°è§’ã€æ»šè½¬è§’ yawï¼šåèˆªè§’ pitchï¼šä¿¯ä»°è§’ rollï¼šæ»šè½¬è§’ Phong Lighting Modelï¼šå†¯æ°å…‰ç…§æ¨¡å‹ Ambient Lightingï¼šç¯å¢ƒå…‰ Diffuse Lightingï¼šæ¼«åå°„å…‰ Specular Lightingï¼šé•œé¢å…‰ Normal Vectorï¼šæ³•å‘é‡ Materialï¼šæè´¨ æœºå™¨äºº trajectoryï¼šè½¨è¿¹ local path planningï¼šå±€éƒ¨è·¯å¾„è§„åˆ’ global path planningï¼šå…¨å±€è·¯å¾„è§„åˆ’ costmapï¼šä»£ä»·åœ°å›¾ acmlï¼šadaptive Monte Carlo localizationï¼Œè‡ªé€‚åº”è’™ç‰¹å¡æ´›å®šä½ è‡ªåŠ¨é©¾é©¶ RTKï¼šReal-time kinematicï¼Œå®æ—¶åŠ¨æ€æµ‹é‡ longitudeï¼šç»åº¦ latitudeï¼šçº¬åº¦ altitudeï¼šé«˜ç¨‹ã€æµ·æ‹”é«˜åº¦ GNSSï¼šGlobal Navigation Satellite Systemï¼Œå…¨çƒå¯¼èˆªå«æ˜Ÿç³»ç»Ÿ Antennaï¼šå¤©çº¿ LiDARï¼šLight Detection And Rangingï¼Œæ¿€å…‰é›·è¾¾ cameraï¼šç›¸æœº IMUï¼šInertial Measurement Unitï¼Œæƒ¯æ€§æµ‹é‡å•å…ƒ accelerometerï¼šåŠ é€Ÿåº¦è®¡ï¼Œç¼©å†™accel gyroscopeï¼šé™€èºä»ªï¼Œç¼©å†™gyro Magnetometerï¼šç£åŠ›è®¡ï¼Œç¼©å†™mag åŠå¯¼ä½“ waferï¼šæ™¶åœ† PVDï¼šç‰©ç†æ°”ç›¸æ²‰ç§¯ CVDï¼šåŒ–å­¦æ°”ç›¸æ²‰ç§¯ etchï¼šåˆ»èš€ Ion implantationï¼šç¦»å­æ³¨å…¥ vacuumï¼šçœŸç©º Miscellaneousï¼šæºæ‚ butterfly valveï¼šè¶é˜€ Pneumatic valvesï¼šæ°”åŠ¨é˜€ molecular pumpï¼šåˆ†å­æ³µ Vacuum Gaugeï¼šçœŸç©ºè§„ã€çœŸç©ºè®¡ flowmeterï¼šæµé‡è®¡ Special Gasï¼šç‰¹æ°” Gas cabinetï¼šç‰¹æ°”æŸœ Radio Frequency power supplyï¼šå°„é¢‘ç”µæº Vacuum manipulatorï¼šçœŸç©ºæœºæ¢°æ‰‹ Wafer alignmentï¼šæ™¶åœ†å¯¹å‡† Reactorï¼šååº”ç‚‰","tags":["English","ç”µæ°”è‡ªåŠ¨åŒ–","ä¸“ä¸šè‹±è¯­"],"categories":["å­¦ç§‘"]},{"title":"cmakeè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶","path":"//cmake-recurse-files.html","content":"éœ€æ±‚ç¼–å†™è·¨å¹³å°çš„å·¥ç¨‹æ—¶ï¼Œå› ä¸ºé¡¹ç›®æ¯”è¾ƒå¤§ï¼Œæ–‡ä»¶å¾ˆå¤šï¼Œå¼€å‘äººå‘˜å¾ˆå¤šï¼Œä¸æƒ³ä¸€ä¸€åˆ—ä¸¾add_executableé‡Œè¾¹çš„æ–‡ä»¶ è§£å†³ç”¨FILEå®è·å–æŸä¸ªæŒ‡å®šç›®å½•ä¸‹çš„åŒä¸€ç±»å‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç”¨DIAGNOSTICå’ŒSERIALIZEä¸¤ä¸ªå˜é‡æ¥åˆ†åˆ«å­˜å‚¨æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶åï¼Œinclude_directoriesä¹Ÿå¯ä»¥è‡ªåŠ¨åŒ…å«ç›®å½•ä¸‹çš„æ‰€æœ‰å¤´æ–‡ä»¶ 12345FILE(GLOB_RECURSE DIAGNOSTIC $&#123;CMAKE_SOURCE_DIR&#125;/diagnostic/*.c)include_directories($&#123;CMAKE_SOURCE_DIR&#125;/diagnostic)FILE(GLOB_RECURSE SERIALIZE $&#123;CMAKE_SOURCE_DIR&#125;/serialize/*.c)include_directories($&#123;CMAKE_SOURCE_DIR&#125;/serialize) å†åœ¨add_executableé‡Œè¾¹æ·»åŠ DIAGNOSTICå’ŒSERIALIZEä¸¤ä¸ªå˜é‡ï¼Œè¿™æ ·æ–°å¢æ–‡ä»¶åªè¦æ‰§è¡Œä¸€ä¸‹cmakeå°±å¯ä»¥äº† 1234567add_executable(zhd-desktop main.c $&#123;DIAGNOSTIC&#125; $&#123;SERIALIZE&#125; logo.rc res.qrc) ç¤ºä¾‹ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŠ¨æ€æ·»åŠ æºæ–‡ä»¶ï¼ˆSRCï¼‰ã€å¤´æ–‡ä»¶ï¼ˆHEADERSï¼‰ã€èµ„æºæ–‡ä»¶ï¼ˆRESï¼‰çš„å·¥ç¨‹ç¤ºä¾‹ï¼Œcmakeè„šæœ¬ä¸€ä¸‹å­æ¸…çˆ½äº†å¥½å¤š 1234567891011121314151617181920212223242526272829303132333435363738cmake_minimum_required(VERSION 3.5)project(tractor LANGUAGES CXX)set(CMAKE_INCLUDE_CURRENT_DIR ON)set(CMAKE_AUTOUIC ON)set(CMAKE_AUTOMOC ON)set(CMAKE_AUTORCC ON)set(CMAKE_CXX_STANDARD 11)set(CMAKE_CXX_STANDARD_REQUIRED ON)find_package(Qt5 COMPONENTS Widgets REQUIRED)include_directories($&#123;CMAKE_SOURCE_DIR&#125;)set(SRC_DIR $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;)file(GLOB SRC &quot;$&#123;SRC_DIR&#125;/*.cpp&quot; &quot;$&#123;SRC_DIR&#125;/*.cxx&quot; &quot;$&#123;SRC_DIR&#125;/*.cc&quot; &quot;$&#123;SRC_DIR&#125;/*.c&quot;)file(GLOB HEADERS &quot;$&#123;SRC_DIR&#125;/*.h&quot; &quot;$&#123;SRC_DIR&#125;/*.hpp&quot; &quot;$&#123;SRC_DIR&#125;/*.hxx&quot;)file(GLOB RES &quot;$&#123;SRC_DIR&#125;/*.ui&quot; &quot;$&#123;SRC_DIR&#125;/*.qrc&quot;)add_executable($&#123;PROJECT_NAME&#125; $&#123;SRC&#125; $&#123;HEADERS&#125; $&#123;RES&#125;)target_link_libraries($&#123;PROJECT_NAME&#125; PRIVATE Qt5::Widgets) æ€»ç»“ éœ€è¦çº¦å®šä¿—æˆçš„ç¼–ç è§„èŒƒï¼šæ¯”å¦‚æºæ–‡ä»¶æ”¾å“ªé‡Œã€å¤´æ–‡ä»¶æ”¾å“ªé‡Œã€èµ„æºæ–‡ä»¶æ”¾å“ªé‡Œ æ¯æ¬¡åˆ å‡æ–‡ä»¶éƒ½éœ€è¦æ‰§è¡Œä¸€ä¸‹cmake fileå‡½æ•°å¯ä»¥å®ç°é€’å½’å¼æ£€ç´¢ï¼Œä½†ä¸€èˆ¬ä¸€çº§ç›®å½•å°±å¤Ÿäº† éœ€è¦é€’å½’æ£€ç´¢ç”¨GLOB_RECURSEï¼Œåªéœ€è¦å½“å‰ç›®å½•ç”¨GLOBï¼Œå‰è€…ä¸èƒ½å°†æ„å»ºç›®å½•æ”¾åœ¨é€’å½’æ£€ç´¢ç›®å½•ï¼","tags":["cmake"],"categories":["å¼€å‘å·¥å…·"]},{"title":"ä¸NXPçš„ä¸€ç‚¹ç¼˜åˆ†","path":"//nxp-stuff.html","content":"ä»‹ç»NXPæ˜¯è€ç‰Œçš„èŠ¯ç‰‡å·¨å¤´ï¼Œåšæ±½è½¦ç”µå­çš„äººå°¤ä¸ºç†Ÿæ‚‰ï¼Œæ¯”å¦‚å®ƒçš„LPCç³»åˆ—ã€S32Kç³»åˆ—ã€imxç³»åˆ—ï¼›æˆ‘çš„è€ä¸œå®¶å‘¨ç«‹åŠŸå°±æ˜¯é NXPçš„ä»£ç†æƒå‘å®¶è‡´å¯Œçš„ï¼›å»å¹´æ¥è§¦ï¼ˆç™½å«–ï¼‰NXPçš„MCUæ–¹æ¡ˆæ¯”è¾ƒå¤šï¼Œç‰¹åˆ«æ˜¯FRDMè¿™ä¸ªå¼€å‘æ¿ç³»åˆ—ï¼Œç»™RT-Threadè´¡çŒ®äº†å¼€æºæ–‡æ¡£ã€æ•™ç¨‹ä»¥åŠå¤šä¸ªPR å¼€å‘æ¿MCXN947è¿™ä¸ªæ¿å­çš„èµ„æºæ¯”è¾ƒä¸°å¯Œï¼Œæœ€å¤§äº®ç‚¹æ˜¯é›†æˆäº†ç¥ç»å¤„ç†å•å…ƒ MCXA153èµ„æºæ¯”947ç¨å¾®å°‘ä¸€äº›ï¼Œæ²¡æœ‰CANå’ŒETHï¼Œæ˜¯ä¸­è§„ä¸­çŸ©çš„MCU MCXW71ä¸“ä¸ºæ— çº¿è¿æ¥è®¾è®¡çš„æ¿å­ï¼Œæ”¯æŒMatterã€Threadã€Zigbeeå’ŒBLEçš„å¤šåè®®æ— çº¿å­ç³»ç»Ÿï¼Œæˆ‘å·²ç»ç»™å®ƒç§»æ¤äº†RT-Threadç³»ç»Ÿ ç¤¼å“å‚ä¸NXPç›¸å…³çš„æ´»åŠ¨ï¼Œæ”¶åˆ°çš„ä¸€äº›ç¤¼ç‰© æœºæ¢°é”®ç›˜å‚åŠ 947çš„æµ‹è¯„æ´»åŠ¨é€çš„ä¸€ä»½æ²‰ç”¸ç”¸çš„ç¤¼ç‰©ï¼šRT-Threadå®šåˆ¶ç‰ˆæœºæ¢°é”®ç›˜ å‘å…‰é¼ æ ‡å«è¿™ä¸ªå¯ä»¥å‘å…‰ï¼Œé¢œè‰²ä¼šå˜åŒ–ï¼Œè¶…å¤§çš„å«å­ å……ç”µå®è¿™ä¸ªæ˜¯æ–°å¹´æ”¶åˆ°çš„ç¤¼ç‰©ï¼Œ20000mAhçš„å……ç”µå®ï¼Œä»¥åæˆ·å¤–è°ƒè¯•å¼€å‘æ¿å°±ä¸æ„æ²¡æœ‰ç”µæºäº†ï¼","tags":["NXP","blog"],"categories":["åµŒå…¥å¼"]},{"title":"ç½‘ç»œæ•°æ®Hexæ ¼å¼è½¬æ¢","path":"//qt-string-to-hex.html","content":"å‰è¨€Qtä¸­TCPé€šä¿¡ä¸€èˆ¬ç”¨QByteArrayä½œä¸ºæ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œä½¿ç”¨Hexæ ¼å¼çš„æƒ…å½¢è¦è€ƒè™‘ä¸€ä¸‹å˜æ¢ï¼Œå¦åˆ™æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„æ•°æ®é•¿åº¦å¯¹ä¸ä¸Š å‘é€å­—ç¬¦ä¸²æœ¬èº«å°±æ˜¯hexæ ¼å¼ï¼Œéœ€è¦è½¬æˆQByteArrayæ ¼å¼è¿›è¡Œä¼ è¾“ 123QString hex = &quot;03000010560155aa010023000000d750&quot;;QByteArray data = QByteArray::fromHex(hex.toLatin1());m_socket-&gt;write(data); æ¥æ”¶QByteArrayè½¬ä¸ºhexæ ¼å¼ 12QString hex = m_socket-&gt;readAll().toHex();qDebug() &lt;&lt; hex;","tags":["Qt","hex"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ä¸€ä¸ªç®€å•çš„Windows TCPæœåŠ¡å™¨å®ç°","path":"//winsock2-server.html","content":"éœ€è¦ä½¿ç”¨åˆ°winsock2è¿™ä¸ªåº“ 12#include &lt;winsock2.h&gt;#include &lt;stdio.h&gt; éœ€è¦é“¾æ¥çš„åº“æ–‡ä»¶ 1ws2_32.lib winsocketåˆå§‹åŒ– 123456789WSADATA wsaData;SOCKET serverSocket, clientSocket;struct sockaddr_in serverAddr = &#123; 0x00 &#125;;struct sockaddr_in clientAddr = &#123; 0x00 &#125;;int clientAddrLen = sizeof(clientAddr);if (WSAStartup(MAKEWORD(2, 2), &amp;wsaData) != 0) &#123; printf(&quot;WSAStartup failed. &quot;);&#125; åˆ›å»ºwinsocket 1234if ((serverSocket = socket(AF_INET, SOCK_STREAM, 0)) == INVALID_SOCKET) &#123; printf(&quot;Socket failed. &quot;); WSACleanup();&#125; IPåŠç«¯å£å·é…ç½® 123456789serverAddr.sin_family = AF_INET;serverAddr.sin_addr.s_addr = INADDR_ANY;serverAddr.sin_port = htons(9988);if (bind(serverSocket, (struct sockaddr*)&amp;serverAddr, sizeof(serverAddr)) == SOCKET_ERROR) &#123; printf(&quot;Bind failed. &quot;) closesocket(serverSocket); WSACleanup();&#125; ç›‘å¬å®¢æˆ·ç«¯è¿æ¥ 12345if (listen(serverSocket, 5) == SOCKET_ERROR) &#123; printf(&quot;Listen failed. &quot;); closesocket(serverSocket); WSACleanup();&#125; æ¥å—å®¢æˆ·ç«¯è¿æ¥ 12345if ((clientSocket = accept(serverSocket, (struct sockaddr*)&amp;clientAddr, &amp;clientAddrLen)) == INVALID_SOCKET) &#123; printf(&quot;Accept failed. &quot;); closesocket(serverSocket); WSACleanup();&#125; æ¥æ”¶æ•°æ® 1int bytesReceived = recv(clientSocket, (char*)(_sRxBuffer + _sRxLenght), BUFFER_SIZE, 0); å‘é€æ•°æ® 1int txPacketlenght = send(socket, (const char*)_sTxBuffer, txPacketlenght, 0); å›æ”¶winsocketèµ„æº 123closesocket(clientSocket);closesocket(serverSocket);WSACleanup(); æ£€æŸ¥è¿æ¥æ–­å¼€æƒ…å½¢ 1234567891011int bytesReceived = recv(clientSocket, buffer, bufferSize, 0);if (bytesReceived == 0) &#123; printf(&quot;Client socket disconnected gracefully. &quot;);&#125; else if (bytesReceived == SOCKET_ERROR) &#123; int error = WSAGetLastError(); if (error == WSAECONNRESET) &#123; printf(&quot;Client socket disconnected unexpectedly. &quot;); &#125; else &#123; printf(&quot;Recv failed with error: %d &quot;, error); &#125;&#125;","tags":["Windows","æœåŠ¡å™¨","tcp"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Windowså¸¸ç”¨å¿«æ·é”®é›†åˆ","path":"//windows-common-shortcuts.html","content":"ä»‹ç»å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œç”¨å¯¹å·¥å…·å¾€å¾€äº‹åŠåŠŸå€ å¿«æ·é”® æ‰“å¼€è¿è¡Œå¯¹è¯æ¡†ï¼šwin + R æ‰“å¼€Windowsç²˜è´´æ¿ï¼šwin + V æ‰“å¼€Homeèœå•ï¼šwin + X æ‰“å¼€æœç´¢å¯¹è¯æ¡†ï¼šwin + S æˆªå›¾ï¼šwin + Shift + S æ‰“å¼€æ§åˆ¶é¢æ¿ï¼šwin + I åœ¨æŸä¸ªæ–‡ä»¶è·¯å¾„è¿…é€Ÿæ‰“å¼€cmdå‘½ä»¤è¡Œï¼šCtrl + Lï¼Œè¾“å…¥cmdå³å¯ æ‹“å±•å±å¹•é…ç½®ï¼šwin + P å…‰æ ‡èšç„¦ä»»åŠ¡æ ï¼Œä»»åŠ¡æ åŠŸèƒ½åˆ‡æ¢ï¼šwin + T å…‰æ ‡èšç„¦çŠ¶æ€æ ï¼šwin + B æ‰€æœ‰çª—å£æœ€å°åŒ–ï¼šwin + M æ‰€æœ‰çª—å£æœ€å°åŒ–ï¼ˆå¯æ¢å¤ï¼‰ï¼šwin + D é”å±ï¼šwin + L Windowsé˜²ç«å¢™ï¼šwin + Råè¾“å…¥filewall.cpl è¿è¡Œä»»åŠ¡æ çš„ç¨‹åºï¼šwin + 1ï¼Œ2ï¼Œ3ï¼Œ4å¯¹åº”ä»å·¦åˆ°å³çš„ç¨‹åºåºå· æ‰“å¼€Windowsé€šçŸ¥é¢æ¿ï¼šwin + A å”¤é†’ç”»ç”»åŠæˆªå±åŠŸèƒ½ï¼šwin + W åˆ‡æ¢è™šæ‹Ÿæ¡Œé¢ï¼šCTRL + win + â¬… ã€â¡ é¢„è§ˆç®¡ç†æ¡Œé¢ï¼šwin + Tab çª—å£å·¦å³ä¸Šä¸‹åˆ†æ åœé ï¼šwin + â¬… ã€â¡ã€â†‘ã€â†“ è¡¨æƒ…ç¬¦å·è¾“å…¥é¢æ¿ï¼šwin + ï¼› æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼šCTRL + Shift + ESC è¿›å…¥å®‰å…¨ç•Œé¢ï¼ˆç»å¸¸ç”¨äºå¡æ­»æƒ…å½¢ï¼‰ï¼šCTRL + Alt + Delete æ‰“å¼€å³ä¾§çš„æ¶ˆæ¯ç®¡ç†é¢æ¿ï¼šwin + A ç¯å¢ƒå˜é‡é…ç½®ï¼šwin + Xï¼ŒæŒ‰Yï¼Œç‚¹å‡»é«˜çº§ç³»ç»Ÿè®¾ç½®","tags":["Windows","å¿«æ·é”®"],"categories":["å¼€å‘å·¥å…·"]},{"title":"Qt Enterå’ŒHoverEnteräº‹ä»¶","path":"//qt-enter-hoverenter.html","content":"ä»‹ç»åšPCå¼€å‘çš„è¿‡ç¨‹ä¸­æˆ–å¤šæˆ–å°‘éƒ½ä¼šæ¥è§¦åˆ°é¼ æ ‡çš„æ‚¬åœäº‹ä»¶ï¼ŒQtä¸­å¤„ç†é¼ æ ‡æ‚¬åœæœ‰Enterå’ŒHoverEnterä¸¤ç§äº‹ä»¶ ç›¸åŒç‚¹ QEvent::Enterå¯¹åº”QEnterEventï¼Œæè¿°çš„æ˜¯é¼ æ ‡è¿›å…¥æ§ä»¶åæ ‡èŒƒå›´ä¹‹å†…çš„è¡Œä¸ºï¼ŒQEnterEventå¯ä»¥æŠ“å–é¼ æ ‡çš„ä½ç½® QEvent::HoverEnterå¯¹åº”QHoverEventï¼Œæ§ä»¶å¼€å¯Qt::WA_Hoverå±æ€§å¯ä»¥è¾¾åˆ°Enteräº‹ä»¶ä¸€æ ·çš„æ•ˆæœï¼ŒQHoverEventåŒæ ·å¯ä»¥æŠ“å–é¼ æ ‡çš„ä½ç½® ä¸åŒç‚¹QHoverEventé™„å¸¦æœ‰QEvent::Painté‡ç»˜è¡Œä¸ºï¼ŒQEnterEventæ²¡æœ‰è§¦å‘æ§ä»¶æœ¬èº«çš„é‡ç»˜çš„èƒ½åŠ›ï¼Œè¯·æŒ‰ç…§å…·ä½“çš„åœºæ™¯åŒºåˆ«ä½¿ç”¨","tags":["Qt","é¼ æ ‡äº‹ä»¶"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Qt TCPé€šä¿¡æ¡ˆä¾‹","path":"//qt-tcp-communication-example.html","content":"æœåŠ¡å™¨ä½¿ç”¨å‰è¦åœ¨cmakeå·¥ç¨‹æ–‡ä»¶é‡Œè¾¹æ·»åŠ networkæ¨¡å— 123find_package(Qt5 COMPONENTS core network REQUIRED)target_link_libraries($&#123;PROJECT_NAME&#125; Qt5::Core Qt5::Network) TCPé€šä¿¡æœåŠ¡å™¨çš„æ ¸å¿ƒç±»æ˜¯QTcpServerï¼Œå¤´æ–‡ä»¶åŒå 1#include &lt;QTcpServer&gt; ä½¿ç”¨ä¹Ÿç‰¹åˆ«ç®€å•ï¼Œå…ˆç»‘å®šIPåœ°å€å’Œç«¯å£å·ï¼Œlistençš„è¿”å›ç»“æœå¦‚æœæ˜¯falseåˆ™ç«¯å£å·æœ‰å¯èƒ½è¢«å ç”¨ï¼ŒWindowsä¸Šå»ºè®®ç”¨netstat -aon | findstr &quot;9090&quot;äº‹å…ˆçœ‹ä¸€ä¸‹ç«¯å£å ç”¨æƒ…å†µï¼ŒLinuxä¸‹åˆ™æ˜¯ç”¨netstat -tlp | grep 9090 12QTcpServer server;bool ret = server.listen(QHostAddress(&quot;127.0.0.1&quot;), 9090); ç¼–å†™newConnectionä¿¡å·å¯¹åº”çš„æ§½å‡½æ•°ï¼ŒæœåŠ¡å™¨é€šè¿‡nextPendingConnectionæ¥å£è·å–å·²å»ºç«‹çš„socketï¼Œç„¶åå¯¹socketè¿›è¡Œè¯»å†™ 1234567891011QObject::connect(&amp;server, &amp;QTcpServer::newConnection, [&amp;]() &#123; auto &amp;&amp;socket = server.nextPendingConnection(); auto timer = new QTimer(); QObject::connect(timer, &amp;QTimer::timeout, [&amp;, socket]() &#123; socket-&gt;write(QByteArray(&quot;hello world&quot;)); &#125;); timer-&gt;start(1000); QObject::connect(socket, &amp;QTcpSocket::readyRead, [&amp;, socket]() &#123; qDebug() &lt;&lt; &quot;Server : &quot; &lt;&lt; socket-&gt;readAll(); &#125;);&#125;); å®¢æˆ·ç«¯å®¢æˆ·ç«¯åŒç†ï¼Œä½¿ç”¨å‰ä¹Ÿè¦åœ¨cmakeå·¥ç¨‹æ–‡ä»¶é‡Œè¾¹æ·»åŠ networkæ¨¡å— 123find_package(Qt5 COMPONENTS core network REQUIRED)target_link_libraries($&#123;PROJECT_NAME&#125; Qt5::Core Qt5::Network) å®¢æˆ·ç«¯ä½¿ç”¨QTcpSocketè¿›è¡ŒTCPé€šä¿¡ 1#include &lt;QTcpSocket&gt; è°ƒç”¨connectToHostæ¥å£å»ºç«‹æœåŠ¡å™¨é€šä¿¡è¿æ¥ 12QTcpSocket socket;socket.connectToHost(QHostAddress(&quot;127.0.0.1&quot;), 9090); éœ€è¦å¤„ç†å‡ ä¸ªè·Ÿè¿æ¥ç›¸å…³çš„ä¿¡å·ï¼šconnectedã€disconnectedã€readyRead 12345678910111213// connectedè¡¨ç¤ºè¿æ¥å·²å»ºç«‹QObject::connect(&amp;socket, &amp;QTcpSocket::connected, [&amp;]() &#123; timer-&gt;start(1000); qDebug() &lt;&lt; &quot;Client connected server&quot;;&#125;);// disconnectedè¡¨ç¤ºè¿æ¥å·²æ–­å¼€QObject::connect(&amp;socket, &amp;QTcpSocket::disconnected, [&amp;]() &#123; qDebug() &lt;&lt; &quot;Client disconnected server&quot;;&#125;);// readyReadè¡¨ç¤ºç¼“å†²åŒºæœ‰æ•°æ®å¯è¯»QObject::connect(&amp;socket, &amp;QTcpSocket::readyRead, [&amp;]() &#123; qDebug() &lt;&lt; &quot;Client : &quot; &lt;&lt; socket.readAll();&#125;); åŸºç±»QIODeviceçš„è¯»å†™æ¥å£ 12345678910qint64 read(char *data, qint64 maxlen);QByteArray read(qint64 maxlen);QByteArray readAll();qint64 readLine(char *data, qint64 maxlen);QByteArray readLine(qint64 maxlen = 0);qint64 write(const char *data, qint64 len);qint64 write(const char *data);inline qint64 write(const QByteArray &amp;data)&#123; return write(data.constData(), data.size()); &#125; ç»“æœ ä»¥ä¸Šçš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨äº’ç›¸ç»™å¯¹æ–¹å‘hello worldæ•°æ® QTcpServeré‚£é‡Œå·§å¦™æŠ½è±¡äº†QTcpSocketçš„æ“ä½œæ–¹å¼ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½æ˜¯å¯¹QTcpSocketè¯»å†™","tags":["Qt","TCP","æœåŠ¡å™¨","å®¢æˆ·ç«¯"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"ubootå‰–æä¹‹å‘½ä»¤è¡Œå»¶æ—¶","path":"//uboot-bootdelay.html","content":"åœ¨configs/rk3506_defconfigæ–‡ä»¶ä¸­å¯ä»¥é…ç½®å¯åŠ¨å»¶æ—¶é€‰é¡¹ 1CONFIG_BOOTDELAY=3 common&#x2F;main.c â€“&gt; main_loopï¼šbootdelay_processå¤„ç†delayå»¶æ—¶å€¼è§£æï¼ŒæŒ‰é”®æ•è·ç”±autoboot_commandè´Ÿè´£ 123456789101112131415161718192021222324252627void main_loop(void)&#123; const char *s; bootstage_mark_name(BOOTSTAGE_ID_MAIN_LOOP, &quot;main_loop&quot;);#ifdef CONFIG_VERSION_VARIABLE env_set(&quot;ver&quot;, version_string); /* set version variable */#endif /* CONFIG_VERSION_VARIABLE */ cli_init(); run_preboot_environment_command();#if defined(CONFIG_UPDATE_TFTP) update_tftp(0UL, NULL, NULL);#endif /* CONFIG_UPDATE_TFTP */ s = bootdelay_process(); if (cli_process_fdt(&amp;s)) cli_secure_boot_cmd(s); autoboot_command(s); cli_loop(); panic(&quot;No CLI available&quot;);&#125; common&#x2F;autoboot.c â€“&gt; bootdelay_processï¼šè¦ä¹ˆä»ç¯å¢ƒå˜é‡bootdelayé‡Œè¾¹è·å–ï¼Œè¦ä¹ˆå°±ä»CONFIG_BOOTDELAYé‡Œè¾¹è·å–ï¼Œæœ€åæ›´æ–°stored_bootdelay 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051const char *bootdelay_process(void)&#123; char *s; int bootdelay;#ifdef CONFIG_BOOTCOUNT_LIMIT unsigned long bootcount = 0; unsigned long bootlimit = 0;#endif /* CONFIG_BOOTCOUNT_LIMIT */#ifdef CONFIG_BOOTCOUNT_LIMIT bootcount = bootcount_load(); bootcount++; bootcount_store(bootcount); env_set_ulong(&quot;bootcount&quot;, bootcount); bootlimit = env_get_ulong(&quot;bootlimit&quot;, 10, 0);#endif /* CONFIG_BOOTCOUNT_LIMIT */ s = env_get(&quot;bootdelay&quot;); bootdelay = s ? (int)simple_strtol(s, NULL, 10) : CONFIG_BOOTDELAY;#ifdef CONFIG_OF_CONTROL bootdelay = fdtdec_get_config_int(gd-&gt;fdt_blob, &quot;bootdelay&quot;, bootdelay);#endif debug(&quot;### main_loop entered: bootdelay=%d &quot;, bootdelay);#if defined(CONFIG_MENU_SHOW) bootdelay = menu_show(bootdelay);#endif bootretry_init_cmd_timeout();#ifdef CONFIG_POST if (gd-&gt;flags &amp; GD_FLG_POSTFAIL) &#123; s = env_get(&quot;failbootcmd&quot;); &#125; else#endif /* CONFIG_POST */#ifdef CONFIG_BOOTCOUNT_LIMIT if (bootlimit &amp;&amp; (bootcount &gt; bootlimit)) &#123; printf(&quot;Warning: Bootlimit (%u) exceeded. Using altbootcmd. &quot;, (unsigned)bootlimit); s = env_get(&quot;altbootcmd&quot;); &#125; else#endif /* CONFIG_BOOTCOUNT_LIMIT */ s = env_get(&quot;bootcmd&quot;); process_fdt_options(gd-&gt;fdt_blob); stored_bootdelay = bootdelay; return s;&#125; common&#x2F;autoboot.c â€“&gt; autoboot_commandï¼šåœ¨æ‰§è¡Œå¯åŠ¨å‘½ä»¤run_command_listå‰å…ˆæ£€æŸ¥stored_bootdelayå€¼ 12345678910111213141516171819202122232425void autoboot_command(const char *s)&#123; debug(&quot;### main_loop: bootcmd=\\&quot;%s\\&quot; &quot;, s ? s : &quot;&lt;UNDEFINED&gt;&quot;); if (stored_bootdelay != -1 &amp;&amp; s &amp;&amp; !abortboot(stored_bootdelay)) &#123;#if defined(CONFIG_AUTOBOOT_KEYED) &amp;&amp; !defined(CONFIG_AUTOBOOT_KEYED_CTRLC) int prev = disable_ctrlc(1); /* disable Control C checking */#endif run_command_list(s, -1, 0); autoboot_command_fail_handle();#if defined(CONFIG_AUTOBOOT_KEYED) &amp;&amp; !defined(CONFIG_AUTOBOOT_KEYED_CTRLC) disable_ctrlc(prev); /* restore Control C checking */#endif &#125;#ifdef CONFIG_MENUKEY if (menukey == CONFIG_MENUKEY) &#123; s = env_get(&quot;menucmd&quot;); if (s) run_command_list(s, -1, 0); &#125;#endif /* CONFIG_MENUKEY */&#125; common&#x2F;autoboot.c â€“&gt; abortbootï¼šçœŸæ­£çš„åŠŸèƒ½å®ç°åœ¨__abortboot 1234567891011121314static int abortboot(int bootdelay)&#123; int abort = 0; if (bootdelay &gt;= 0) abort = __abortboot(bootdelay);#ifdef CONFIG_SILENT_CONSOLE if (abort) gd-&gt;flags &amp;= ~GD_FLG_SILENT;#endif return abort;&#125; common&#x2F;autoboot.c â€“&gt; __abortbootï¼šbootdelayå»¶æ—¶è®¡æ•° + ç­‰å¾…æŒ‰é”®ctrl+cè¾“å…¥ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647static int __abortboot(int bootdelay)&#123; int abort = 0; unsigned long ts;#ifdef CONFIG_MENUPROMPT printf(CONFIG_MENUPROMPT);#else printf(&quot;Hit key to stop autoboot(&#x27;CTRL+C&#x27;): %2d &quot;, bootdelay);#endif#ifdef CONFIG_ARCH_ROCKCHIP if (!IS_ENABLED(CONFIG_CONSOLE_DISABLE_CLI) &amp;&amp; ctrlc()) &#123; /* we press ctrl+c ? */#else /* * Check if key already pressed */ if (tstc()) &#123; /* we got a key press */#endif (void) getc(); /* consume input */ puts(&quot;\\b\\b\\b 0&quot;); abort = 1; /* don&#x27;t auto boot */ &#125; while ((bootdelay &gt; 0) &amp;&amp; (!abort)) &#123; --bootdelay; /* delay 1000 ms */ ts = get_timer(0); do &#123; if (ctrlc()) &#123; /* we got a ctrl+c key press */ abort = 1; /* don&#x27;t auto boot */ bootdelay = 0; /* no more delay */# ifdef CONFIG_MENUKEY menukey = 0x03; /* ctrl+c key code */# endif break; &#125; udelay(10000); &#125; while (!abort &amp;&amp; get_timer(ts) &lt; 1000); printf(&quot;\\b\\b\\b%2d &quot;, bootdelay); &#125; putc(&#x27; &#x27;); return abort;&#125; å¦‚æœä¸å°å¿ƒæŠŠå¯åŠ¨å»¶æ—¶è®¾ç½®ä¸º0ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®bootdelayçš„å€¼æ‰å¯ä»¥è¿›å…¥ubooté…ç½®èœå•","tags":["ä¸²å£","uboot","rk3506","æ§åˆ¶å°"],"categories":["åµŒå…¥å¼"]},{"title":"QtæŒ‰é’®ç¾åŒ–æ•™ç¨‹","path":"//qt-button-design.html","content":"å‰è¨€QtæŒ‰é’®ç¾åŒ–ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼šQSSã€å±æ€§å’Œè‡ªç»˜ QPushButtonQSSå­—ä½“å¤§å° 1font-size: 18px; æ–‡å­—é¢œè‰² 1color: white; èƒŒæ™¯é¢œè‰² 1background-color: rgb(10,88,163); æŒ‰é’®è¾¹æ¡† 1border: 2px solid rgb(114,188,51); æ–‡å­—å¯¹é½ 1text-align: left; å·¦ä¾§å†…è¾¹è· 1padding-left: 10px; æ–‡å­—åŠ ç²— 1font-weight: bold; è¾¹æ¡†çš„å¤§å° 1border-width: 4px; è¾¹æ¡†çš„åŠå¾„ 1border-radius: 3px; æ•´åˆæ ·å¼ 123456789101112131415QPushButton &#123; font-size: 18px; /* è®¾ç½®å­—ä½“å¤§å° */ color: white; /* è®¾ç½®å­—ä½“é¢œè‰² */ background-color: rgb(10,88,163); /* è®¾ç½®èƒŒæ™¯é¢œè‰² */ border: 2px solid rgb(114,188,51); /* è®¾ç½®è¾¹æ¡† */ text-align: left; /* æ–‡å­—å·¦å¯¹é½ */ padding-left: 10px; /* å·¦ä¾§å†…è¾¹è· */ font-weight: bold;&#125;QPushButton:pressed &#123; background-color: rgb(41,51,57); color: rgb(114,188,51); /* è®¾ç½®å­—ä½“é¢œè‰² */ border-width: 4px;&#125; å±æ€§æ·»åŠ hover tooltip ä¿®æ”¹text ç„¦ç‚¹ç­–ç•¥ï¼Œä¸€èˆ¬é»˜è®¤StrongFocus åæ ‡å’Œå¤§å° è‡ªç»˜é‡å†™paintEventè™šå‡½æ•°ï¼Œè¿™ä¸ªä¸€èˆ¬ç”¨çš„ä¸å¤š 12345678CPushButton::paintEvent(QPaintEvent *event)&#123; /* è¿™é‡Œå¢åŠ è‡ªç»˜çš„ä»£ç ï¼šæ–‡å­—ã€å›¾ç‰‡ç­‰ç­‰ */ QPainter p(this); p.drawText(10, 10, &quot;Clicked me&quot;); p.drawPixmap(20, 10, QIcon(&quot;:/res/button.png&quot;)); QPushButton::paintEvent(event);&#125; æ•ˆæœé™„ä¸ŠQSS+å±æ€§ç¾åŒ–åçš„buttonæ•ˆæœï¼ˆè‡ªå·±å†™çš„ï¼Œä½ å«Œä¸‘æˆ‘è¿˜å«Œä¸‘å“©ï¼‰ QToolButtonæœ‰æ—¶å€™éœ€è¦å®šåˆ¶å›¾ç‰‡è·Ÿæ–‡å­—åŒæ—¶æ˜¾ç¤ºçš„æŒ‰é’®ï¼ˆåœ¨è§¦æ‘¸å±ç”¨çš„æ¯”è¾ƒå¤šï¼‰ï¼ŒQToolButtonæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹© QSSæ·»åŠ åº•å›¾ 1qproperty-icon: url(:/resource/home.png) center; åº•å›¾å¤§å°è®¾ç½® 1qproperty-iconSize: 32px 32px; èšç„¦æ—¶æ˜¾ç¤ºæ¿€æ´»æ•ˆæœ 1234QToolButton::focus&#123;\tbackground-image: url(:/resource/menu-active.png);&#125; å±æ€§æ”¹å˜å›¾ç‰‡å’Œæ–‡å­—çš„ç›¸å¯¹ä½ç½® åœ¨å¹³æ¿ä¸Šé¢æ“ä½œçš„è¯ç„¦ç‚¹ç­–ç•¥æ”¹ä¸ºClickFocus è‡ªç»˜QToolButtonå¦‚æ— æ„å¤–ï¼Œä¸éœ€è¦è‡ªç»˜ æ•ˆæœæ˜¾ç¤ºæ•ˆæœ","tags":["Qt","button"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Qt6ä¸²å£æ•°æ®åè®®è§£æ","path":"//qt6-serial-protocol.html","content":"ä»‹ç»ç»‘å®šQSerialPortå¯¹è±¡çš„readyReadä¿¡å·æ—¶ï¼Œä»ä¸²å£æ¥æ”¶ç¼“å†²åŒºè¯»å–çš„æ•°æ®å¤§æ¦‚ç‡ä¸æ˜¯ä¸€æ¬¡å°±èƒ½æ¥æ”¶å®Œæˆçš„ï¼Œæœ‰å¯èƒ½åˆ†æˆnæ¬¡æ¥æ”¶ï¼›è¿™æ˜¯ä¸€ç§ä»€ä¹ˆæƒ…å†µå‘¢ï¼Œå®ƒæœ‰å¯èƒ½å¤šæ¬¡readyReadï¼š1æ¬¡ï¼Œ2æ¬¡ï¼Œ3æ¬¡ï¼Œ4æ¬¡â€¦â€¦è¿™æ ·å­ï¼å¦‚æœä¸å¯¹æ•°æ®çš„è¾¹ç•Œè¿›è¡Œæœ‰æ•ˆè¯†åˆ«ï¼Œå°±å¾ˆéš¾åˆ†åˆ«å‡ºå“ªäº›æ˜¯æˆ‘ä»¬è¦çš„æ•°æ® å®šé•¿åè®®æ¯”å¦‚æ¥æ”¶å¤Ÿ15ä¸ªå­—èŠ‚æ‰ç®—æ¥æ”¶å®Œæˆï¼Œå¯ä»¥ç”¨QSerialPort::bytesAvailableè¿™ä¸ªæ¥å£è¿›è¡Œç»„åŒ…ï¼Œç†è®ºä¸Šç»™å‡ºå¤´éƒ¨æ ‡è®°å°±èƒ½è¯†åˆ«æœ‰æ•ˆçš„ä¸€å¸§æ•°æ®ï¼š$ 10 0123456789 CS 1234567891011121314151617181920212223242526#define MAX_SIZE 15QByteArray buffer;int size = 0;auto callback = [&amp;]() &#123; auto &amp;&amp;data = this-&gt;readData(); if(data.startsWith(&quot;$&quot;)) &#123; size = m_serial-&gt;bytesAvailable(); buffer.clear(); buffer += data; if(size == MAX_SIZE) &#123; size = 0; emit this-&gt;sendOneFrame(buffer); &#125; &#125; else &#123; size += m_serial-&gt;bytesAvailable(); buffer += data; if(size == MAX_SIZE) &#123; size = 0; emit this-&gt;sendOneFrame(buffer); &#125; &#125;&#125;;connect(m_serial, &amp;QSerialPort::readyRead, this, callback); ä¸å®šé•¿åè®®è¿™ä¸ªéœ€è¦è¯†åˆ«æ•°æ®çš„è¾¹ç•Œï¼ˆå¤´éƒ¨è·Ÿå°¾éƒ¨ï¼‰åœ¨å“ªé‡Œï¼Œæ¯”å¦‚ç”¨$å¤´éƒ¨ï¼Œ@åšå°¾éƒ¨ï¼Œæˆ‘ä»¬æŠŠåˆ†æ®µçš„æ•°æ®ä¾æ¬¡æ‹¼æ¥èµ·æ¥ 12345678910111213141516171819202122232425QByteArray buffer;auto callback = [&amp;]() &#123; qDebug() &lt;&lt; m_serial-&gt;bytesAvailable(); auto &amp;&amp;data = this-&gt;readData(); if(data.startsWith(&quot;$&quot;)) &#123; buffer.clear(); buffer += data; if(data.endsWith(&quot;@&quot;)) &#123; emit this-&gt;sendOneFrame(buffer); &#125; qDebug() &lt;&lt; &quot;1 : &quot; &lt;&lt; buffer; &#125; else &#123; if(!data.endsWith(&quot;@&quot;)) &#123; buffer += data; qDebug() &lt;&lt; &quot;2 : &quot; &lt;&lt; buffer; &#125; else &#123; buffer += data; qDebug() &lt;&lt; &quot;3 : &quot; &lt;&lt; buffer; emit this-&gt;sendOneFrame(buffer); &#125; &#125;&#125;;connect(m_serial, &amp;QSerialPort::readyRead, this, callback); æ€»ç»“ä¸²å£æ•°æ®è§£ææœ¬è´¨æ˜¯ä¸€ä¸ªæ–‡æœ¬å¤„ç†çš„è¿‡ç¨‹ï¼Œå¦‚æœæ¥æ”¶ç«¯ç”¨Cè¯­è¨€å†™ï¼Œç®€å•çš„åè®®è¿˜å¥½ï¼Œå¤æ‚çš„åè®®ç®€ç›´è¦å‘½ï¼ˆè¯·ç”¨é«˜çº§è¯­è¨€ï¼‰ï¼","tags":["Qt","ä¸²å£","serial"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"vimè½»åº¦ä½¿ç”¨æŒ‡å—","path":"//vim-light-usage.html","content":"ä»‹ç»vimæ˜¯ä¸€æ¬¾è¿è¡Œåœ¨å‘½ä»¤è¡Œçš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå®ƒçš„åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œå¯å®Œå…¨ä¾é é”®ç›˜è¿›è¡Œç¼–è¾‘æ“ä½œï¼Œå®ƒæ˜¯viç¼–è¾‘å™¨çš„å¢å¼ºç‰ˆæœ¬ï¼›å…¶å®viæ˜¯è‡ªå¸¦çš„ç‰ˆæœ¬ï¼Œä¸è¿‡åŠŸèƒ½å¼±äº†ç‚¹ï¼ŒARM Linuxé€šå¸¸ä¼šé¢„è£…viè€Œä¸æ˜¯vim å®‰è£…ä»¥Ubuntuç³»ç»Ÿä¸ºä¾‹ï¼Œå®‰è£…é…ç½®vimå·¥å…· 1sudo apt install vim å®Œå…¨åˆ é™¤å¸è½½ 1sudo apt remove --purge vim ç¼–è¾‘æ–‡ä»¶ 12345678910# ç›´æ¥æ‰“å¼€ç¼–è¾‘å™¨vim# æ‰“å¼€æ–‡ä»¶ï¼ˆä¸å­˜åœ¨çš„ä¹Ÿå¯ä»¥ï¼‰vim demo.txt# å®šä½åˆ°æ–‡ä»¶çš„ç¬¬åè¡Œvim demo.txt +10# æ‰“å¼€ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ°´å¹³è§†å›¾å¹¶åˆ—å±•ç¤ºvim a.txt b.txt -O# æ‰“å¼€ä¸¤ä¸ªæ–‡ä»¶ï¼Œå‚ç›´è§†å›¾å¹¶åˆ—å±•ç¤ºvim a.txt b.txt -o é…ç½®æ–‡ä»¶ 1~/.vimrc é…ç½®vimçš„é…ç½®å‡ å¤©å‡ å¤œéƒ½è®²ä¸å®Œï¼Œåªèƒ½æŒ‘é€‰ä¸€äº›åŸºæœ¬ã€å¸¸ç”¨çš„ å¼€å¯è¡Œå·ï¼šset nu é«˜äº®è¡Œï¼šset cul é«˜äº®åˆ—ï¼šset cuc é«˜äº®æœç´¢å…³é”®å­—ï¼šset hls ç»‘å®šEscå¿«æ·é”®ï¼šinoremap jj &lt;Esc&gt; tabå¤§å°é…ç½®ï¼šset ts&#x3D;4 å‘½ä»¤è¡Œä»¥ä¸‹æ˜¯åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹çš„ä¸€äº›å‘½ä»¤å’Œå¿«æ·æ“ä½œï¼š å‘½ä»¤è¡Œæ¨¡å¼æŒ‰iã€Iã€aã€Aå¯ä»¥è¿›å…¥ç¼–è¾‘æ¨¡å¼ ç¼–è¾‘æ¨¡å¼ä¸‹æŒ‰Escè¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ åœ¨å‘½ä»¤è¡Œæ¨¡å¼ç”¨/å…³é”®å­—å‘ä¸‹æœç´¢ï¼Œ?å…³é”®å­—å‘ä¸Šæœç´¢ å‘½ä»¤è¡Œæ¨¡å¼ç”¨vså‚ç›´åˆ†å‰²çª—å£ã€spæ°´å¹³åˆ†å‰²çª—å£ åœ¨åˆ†å‰²çª—å£ä¹‹é—´ç§»åŠ¨ï¼šå…ˆæŒ‰CTRL + Wå†æŒ‰Hã€L æ›¿æ¢ï¼šs/æ›¿æ¢å‰å­—ç¬¦/æ›¿æ¢åå­—ç¬¦/g å‘½ä»¤è¡Œæ¨¡å¼ä¿å­˜ï¼šw å‘½ä»¤è¡Œæ¨¡å¼é€€å‡ºï¼šq å‘½ä»¤è¡Œæ¨¡å¼ä¿å­˜å¹¶é€€å‡ºï¼šwq å‘½ä»¤è¡Œæ¨¡å¼å¼ºåˆ¶é€€å‡ºï¼šq! å¤åˆ¶è¡Œï¼šyy åˆ é™¤å‰ªåˆ‡è¡Œï¼šdd ç²˜è´´ï¼šp å…‰æ ‡ç§»åŠ¨ ä¸Šï¼šk ä¸‹ï¼šj å·¦ï¼šh å³ï¼šl è¡Œæœ«ï¼š$ è¡Œé¦–ï¼š^ å¿«æ·é”® é€€å‡ºå½“å‰çª—å£ï¼šCTRL + W + Q å¤šè§†å›¾æ¨¡å¼åˆ‡æ¢å½“å‰çª—å£ï¼šCtrl + W","tags":["linux","vim"],"categories":["å¼€å‘å·¥å…·"]},{"title":"Gitå·¥å…·çš„ä½¿ç”¨","path":"//git-usage.html","content":"ä»‹ç»ä¼šä¸ä¼šä½¿ç”¨Gitå·²ç»æ˜¯åŒºåˆ«ä¸€ä¸ªç¨‹åºå‘˜æ˜¯å¦ä¸“ä¸šã€æ˜¯å¦ç°ä»£åŒ–ã€æ˜¯å¦æœ‰ç‰ˆæœ¬è¿­ä»£æ„è¯†ã€æœ‰æ²¡æœ‰å‚ä¸è¿‡å¤§å‹åä½œé¡¹ç›®çš„æ ‡å¿—äº† åŸºæœ¬ä½¿ç”¨åˆå§‹åŒ–æœ¬åœ°ä»“åº“ï¼ˆå·²æœ‰æ–‡ä»¶å¤¹ï¼‰ 1git init æ·»åŠ è¿œç«¯ä»“åº“ 1git remote add origin https://github.com/hywing/xxx.git å…ˆä»è¿œç¨‹ä»“åº“æ‹‰æ–°ç‰ˆæœ¬è®°å½•ï¼ˆä¸‡äº‹å…ˆfetchï¼‰ 1git fetch åœ¨å½“å‰åˆ†æ”¯åŸºç¡€ä¸Šæ–°å»ºä¸€ä¸ªåˆ†æ”¯ 1git checkout -b qml ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ›´æ–° 1git pull æŸ¥çœ‹æœ¬åœ°ä¿®æ”¹äº†å“ªäº›æ–‡ä»¶ 12git status -s\t# æ˜¾ç¤ºä¿®æ”¹è¿‡çš„æ–‡ä»¶åˆ—è¡¨git status -sb # åŒæ—¶æ˜¾ç¤ºåˆ†æ”¯ æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº 12git add file1 file2 file3\t# æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒºgit add -A # è‡ªåŠ¨æ·»åŠ å·²ä¿®æ”¹ã€æœªè®°å½•ã€å·²åˆ é™¤çš„æ–‡ä»¶ åˆ é™¤ä¸éœ€è¦çš„æ–‡ä»¶ 1git rm -r file dir/ å†™å…¥æäº¤æ—¥å¿— 1git commit -m &quot;è¿™æ˜¯ä¸€æ®µæ—¥å¿—&quot; -a æäº¤åˆ°è¿œç¨‹ä»“åº“ 1git push -f origin main æäº¤ä¸€ä¸ªæ–°çš„åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ 1git push --set-upstream origin qml ç¼“å­˜ä¿®æ”¹ï¼ˆå·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼‰ 1git stash push -u xxx å°†æš‚å­˜ä¿®æ”¹åŒæ­¥å›æ¥ 1git stash pop æ¸…é™¤æœ¬åœ°æ‰€æœ‰ä¿®æ”¹ï¼ˆå±é™©ï¼‰ 12git clean -dfgit checkout -- .\t# æ¢å¤è‡³æœ€åä¸€æ¬¡æäº¤çŠ¶æ€ è®¾ç½®è¿œç¨‹ä»“åº“URL 1git remote set-url origin https://gitee.com/hywing/xxx.git æŸ¥çœ‹è¿œç¨‹ä»“åº“URL 1git remote -v åˆ†æ”¯ç®¡ç†æ–°å»ºåˆ†æ”¯ 1234# ä»è¿œç¨‹ç«¯åˆ†æ”¯æ‹·è´ï¼Œæ–°å»ºåˆ†æ”¯aaagit checkout -b aaa origin/aaa# æœ¬åœ°æ–°å»ºåˆ†æ”¯ï¼ŒåŸºäºaaaæ–°å»ºbbbgit checkout -b bbb aaa åˆ é™¤åˆ†æ”¯ 1234# åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin --delete aaa# åˆ é™¤æœ¬åœ°åˆ†æ”¯git branch -D aaa é‡å‘½ååˆ†æ”¯ 12# æœ¬åœ°åˆ†æ”¯é‡å‘½åï¼Œè¿œç¨‹åˆ†æ”¯çš„é‡å‘½åå¯ä»¥é€šè¿‡å…ˆæ–°å»ºã€æ¨é€ã€å†åˆ æ‰çš„æ–¹å¼git branch -m bbb aaa æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ 1git branch -a æŸ¥çœ‹å½“å‰åˆ†æ”¯æŒ‡å‘ï¼ˆæäº¤è®°å½•ï¼‰ 1git branch -vv è´¦æˆ·é…ç½®æŸ¥çœ‹å½“å‰çš„ç”¨æˆ·åå’Œé‚®ç®± 123git config --listgit config --global --list\t# å…¨å±€ç”¨æˆ·é…ç½®ï¼šç”¨æˆ·åã€é‚®ç®±ç­‰git config --local --list\t# æœ¬åœ°ä»“åº“çš„ä¿¡æ¯ã€è¿œç«¯çš„ä¿¡æ¯ç­‰ é…ç½®å…¨å±€ç”¨æˆ·å 1git config --global user.name hywing é…ç½®å…¨å±€é‚®ç®± 1git config --global user.email &quot;hywing.sir@qq.com&quot; è‡ªåŠ¨åŒ–é›†æˆä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–æäº¤ï¼ˆè¿™ä¸ªå¯¹Github Pageséå¸¸æœ‰å¸®åŠ©ï¼Œå‰ææ˜¯ä½ å¾—é…ç½®å¥½å¯†é’¥ç­‰è´¦å·ä¿¡æ¯ï¼‰ï¼Œåˆ©ç”¨GitHubçš„webhookå·§å¦™éƒ¨ç½²webåº”ç”¨ 1234git add .current_time=$(date &quot;+%Y-%m-%d %H:%M:%S&quot;)git commit -m &quot;$current_time -&gt; docs updated!&quot; -agit push å¼€æºé¡¹ç›®å†²çªç®¡ç†ï¼šä»¥è§£å†³ä¸€æ¬¡RT-Threadçš„å†²çªä¸ºä¾‹è®²è§£æ€ä¹ˆè§£å†³å¼€æºé¡¹ç›®ä»£ç å†²çªé—®é¢˜ â‘  è¿›å…¥ä»£ç ä»“åº“æ‰€åœ¨ç›®å½• 1cd REPOSITORY â‘¡ åˆå¹¶åˆ†æ”¯æ”¹åŠ¨ 1git merge origin develop --no-ff â‘¢ æŸ¥çœ‹å†²çªæ–‡ä»¶ 1git status -s â‘£ è§£å†³å†²çªï¼Œå¯ä»¥ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰‹åŠ¨ç¼–è¾‘ï¼Œä¸€èˆ¬å†²çªä»¥&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADå¼€å¤´ï¼Œä»¥&gt;&gt;&gt;&gt;&gt;&gt;&gt; BRANCH-NAMEç»“å°¾ï¼Œä»¥=======ä¸ºåˆ†éš”ç¬¦ 123456789101112&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADtag: bsp_stm32h723-st-nucleopath: bsp/stm32/stm32h723-st-nucleoowners: ä¸‹é‡Œå·´äºº(hywing)&lt;hywing.sir@qq.com&gt;tag: bsp_stm32g030-tiny-boardpath: bsp/stm32/stm32g030-tiny-boardowners: ä¸‹é‡Œå·´äºº(hywing)&lt;hywing.sir@qq.com&gt;=======path: bsp/stm32owners: Liya Huang(wdfk-prog)&lt;1425075683@qq.com&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; BRANCH-NAME â‘¤ ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè·Ÿåˆ«äººå†²çªçš„åœ°æ–¹è§£å†³æ‰ï¼ˆå»æ‰å†²çªæ ‡å¿—å¼€å¤´ã€ç»“å°¾å’Œä¸­é—´åˆ†éš”ç¬¦ï¼Œç°å®ä¸­æœ€å¥½è·Ÿå†²çªæ–¹å•†é‡ä¸€ä¸‹ï¼‰ 12345678910path: bsp/stm32owners: Liya Huang(wdfk-prog)&lt;1425075683@qq.com&gt;tag: bsp_stm32h723-st-nucleopath: bsp/stm32/stm32h723-st-nucleoowners: ä¸‹é‡Œå·´äºº(hywing)&lt;hywing.sir@qq.com&gt;tag: bsp_stm32g030-tiny-boardpath: bsp/stm32/stm32g030-tiny-boardowners: ä¸‹é‡Œå·´äºº(hywing)&lt;hywing.sir@qq.com&gt; â‘¥ é‡æ–°æäº¤ä»£ç  123git add .git commit -m &quot;Resolve merge conflict&quot;git push maintainer æ³¨æ„æœ‰äº›å¼€æºä»“åº“ä¼šæœ‰å¾ˆå¤šå­ä»“åº“ï¼Œç¬¬ä¸€æ¬¡æ‹‰å–çš„æ—¶å€™è¦æŠŠ--recursiveå‚æ•°åŠ ä¸Š 1git clone https://github.com/stephane/libmodbus.git --recursive ç§æœ‰ä»“åº“çš„ä½¿ç”¨ï¼ˆåœ¨GitHubå¼€é€šç§æœ‰ä»“åº“è®¿é—®æƒé™è®¤è¯ç ï¼‰ 1git clone https://ç§æœ‰ä»“åº“è®¿é—®æƒé™è®¤è¯ç @github.com/hywing/modbus-rs485.git ä¸‹è½½é€Ÿåº¦æ…¢çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨GitHubé•œåƒæºï¼ˆbgithub.xyzï¼‰ 1git clone --depth 1 https://bgithub.xyz/MYiR-Dev/myir-imx-linux.git -b develop_6.6.36","tags":["git"],"categories":["å¼€å‘å·¥å…·"]},{"title":"MDK Keil5å¿«æ·é”®","path":"//mdk-keil5-shortcut.html","content":"å¸¸è§å¿«æ·é”®åˆé›† å¼€å§‹&#x2F;åœæ­¢è°ƒè¯•ï¼šCTRL + F5 è¿è¡Œï¼šF5 å•æ­¥è¿›å…¥ï¼šF11 å•æ­¥è·³å‡ºï¼šCTRL + F11 å•æ­¥ï¼šF10 æ‰§è¡Œåˆ°æŒ‡å®šä½ç½®ï¼šCTRL + F10 æ£€ç´¢ï¼šCTRL + F æ’å…¥æˆ–è€…ç§»é™¤æ–­ç‚¹ï¼šF9 ç§»é™¤æ‰€æœ‰æ–­ç‚¹ï¼šCTRL + Shift + F9 æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹ï¼ˆç¼–è¾‘ï¼‰ï¼šCTRL + B çƒ§å½•ç¨‹åºï¼šF8 ç¼–è¯‘å½“å‰æ–‡ä»¶ï¼šCTRL + F7 æ„å»ºå½“å‰å·¥ç¨‹ï¼šF7 æ‰“å¼€å·¥ç¨‹é…ç½®ï¼šAlt + F7 è·³åˆ°æŒ‡å®šè¡Œï¼šCTRL + G å‰ªåˆ‡å½“å‰è¡Œï¼šCTRL + L å‰è¿›ï¼šCTRL + Shift + - åé€€ï¼šCTRL + - æ’å…¥&#x2F;åˆ é™¤ä¹¦ç­¾ï¼šCTRL + F2 ä¸Šä¸€ä¸ªä¹¦ç­¾ï¼šF2 ä¸‹ä¸€ä¸ªä¹¦ç­¾ï¼šShift + F2 ç§»é™¤æ‰€æœ‰ä¹¦ç­¾ï¼šCTRL + Shift + F2 æ›¿ä»£å­—ç¬¦ä¸²ï¼šCTRL + H","tags":["å¿«æ·é”®","keil"],"categories":["å¼€å‘å·¥å…·"]},{"title":"ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„åµŒå…¥å¼äº§å“æ¨¡å‹","path":"//ideal-embedded-product-model.html","content":"ä»‹ç»ç¤ºæ³¢å™¨æ˜¯ä¸€ä¸ªæ¯”è¾ƒå…¸å‹ã€é€šç”¨ã€æ˜ç¡®çš„åµŒå…¥å¼äº§å“æ¡ˆä¾‹ï¼Œå·¥ä½œè¿™ä¹ˆå¤šå¹´ï¼Œå¾ˆå¤šäº§å“ä¸šåŠ¡æ¨¡å‹æˆ–å¤šæˆ–å°‘éƒ½è·Ÿç¤ºæ³¢å™¨çš„å¼€å‘æœ‰ç‚¹åƒï¼æˆ‘æ•¢è¯´ä»¥ä¸‹åˆ—ä¸¾çš„è½¯ä»¶ã€ç¡¬ä»¶ã€æœºæ¢°çš„éƒ¨åˆ†åœ¨å¾ˆå¤šåµŒå…¥å¼äº§å“ä¸­ï¼ˆä¸ç®¡æ˜¯åŒ»ç–—ã€è‡ªåŠ¨åŒ–è¿˜æ˜¯æ±½è½¦ç”µå­ï¼‰æ™®éå­˜åœ¨ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è‡ªå·±ç»å¸¸åœ¨åšç¤ºæ³¢å™¨çš„ç±»ä¼¼ç‰© è½¯ä»¶åµŒå…¥å¼è½¯ä»¶çš„å¤æ‚åº¦å¤§æ¦‚åœ¨40-50wä»£ç é‡å·¦å³ æ•°æ®é‡‡é›†ï¼šç”µå‹ã€canã€æ¸©åº¦ä¿¡å· æ•°æ®å¯è§†åŒ–ï¼šä¸»è¦æ˜¯æ³¢å½¢ã€æŠ¥æ–‡çš„å±•ç¤º æ–‡ä»¶å­˜å‚¨ï¼šæŠŠæ•°æ®æ–‡ä»¶å½•åˆ¶ä¸‹æ¥ï¼Œæ–¹ä¾¿å›è¯»åˆ†æ HMIç”¨æˆ·ç•Œé¢äº¤äº’ï¼šæŒ‰é”®ã€é£æ¢­ã€æ—‹é’®ã€è§¦æ‘¸å± æŒ‡ä»¤æ§åˆ¶ï¼šSCPIæŒ‡ä»¤æ§åˆ¶è®¾å¤‡ï¼Œå®Œæˆè‡ªåŠ¨åŒ–æµ‹é‡åŠŸèƒ½ è®¾å¤‡æ ¡å‡†ï¼šä¸€äº›æ ‡å®šæ ¡å‡†çš„æ•°æ®æ–‡ä»¶ã€æŠ‘åˆ¶è®¾å¤‡è€åŒ–å¸¦æ¥çš„å‚æ•°æ¼‚ç§» è®¾å¤‡é©±åŠ¨ï¼šæŒ‰é”®æ¿é©±åŠ¨ã€è§¦æ‘¸å±é©±åŠ¨ã€usbé©±åŠ¨ã€pcieé©±åŠ¨ã€æ•°æ®é‡‡é›†&#x2F;æ§åˆ¶é©±åŠ¨ è½¯ä»¶å‡çº§ï¼šè‡ªå‡çº§ + å¤–è®¾å‡çº§ ä¸Šä½æœºä¸Šä½æœºä¸»è¦æ˜¯è§£ææ³¢å½¢æ–‡ä»¶ã€æŒ‡ä»¤æ§åˆ¶ã€æ ¡å‡†ç»´æŠ¤ã€å¤–è®¾å‡çº§ç­‰åŠŸèƒ½ webè®¾å¤‡è°ƒå‚ã€è¯Šæ–­ä½¿ç”¨ã€OTAå‡çº§ æ“ä½œç³»ç»Ÿè£¸æœºã€RTOSã€Linuxã€Windowsï¼ˆé…å¥—ä¸Šä½æœºï¼‰ ç¡¬ä»¶ç¡¬ä»¶çš„ç»„æˆæŒ‰æ•°å­—èŠ¯ç‰‡åˆ†ç±»æœ‰ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ† fpgafpgaä¸»è¦è´Ÿè´£å‰ç«¯æ•°æ®çš„é‡‡é›†ã€é¢„å¤„ç† armarmæ˜¯åµŒå…¥å¼è½¯ä»¶è¿è¡Œçš„è½½ä½“ dspé›†æˆæ³¢å½¢å¤„ç†çš„ç®—æ³•ï¼Œè¿™ä¸ªæ˜¯ç®—æ³•çš„è½½ä½“ mcuæŒ‰é”®æ¿ã€é‡‡é›†å¡é‡Œè¾¹çš„èŠ¯ç‰‡ã€ç”µæºç®¡ç†èŠ¯ç‰‡ x64x64æ˜¯ç»ˆç«¯è½¯ä»¶è¿è¡Œçš„è½½ä½“ã€è½¯ä»¶å‡çº§å·¥å…· æœºæ¢°æœºæ¢°éƒ¨ä»¶æ¯”è¾ƒä¸­è§„ä¸­çŸ©ï¼Œå¦‚æ¢å¤´ã€æœºç®±å¤–å£³ã€æ˜¾ç¤ºå±éƒ¨ä»¶ã€æŒ‰é”®éƒ¨ä»¶ã€é‡‡é›†å¡çš„å¤–å£³ æ€»ç»“ç»¼ä¸Šï¼Œç¤ºæ³¢å™¨æ˜¯ä¸€ä¸ªç»ˆæçš„åµŒå…¥å¼äº§å“æ¡ˆä¾‹ï¼Œä¸šåŠ¡æ¨¡å‹é€šå¸¸éƒ½å…·æœ‰ç›¸ä¼¼æ€§ï¼Œåªè¦æ·±å…¥äº†è§£ä¸€ä¸ªï¼Œä¾¿å¯ä»¥ä¸¾ä¸€åä¸‰","tags":["äº§å“","åµŒå…¥å¼"],"categories":["æ–¹æ³•è®º"]},{"title":"ä¸Šä½æœºå’Œä¸‹ä½æœºçš„åŸºæœ¬é€šä¿¡åè®®","path":"//upper-computer-lower-computer-communication-protocol.html","content":"ä»‹ç»ä¸Šä½æœºå’Œä¸‹ä½æœºçš„é€šä¿¡æ–¹å¼å¤šç§å¤šæ ·ï¼Œä¸€èˆ¬æœ‰usartã€canã€usbã€ethernetç­‰ï¼Œèµ°ä»€ä¹ˆé€šä¿¡æ–¹å¼è§†ä¸‹ä½æœºçš„è®¾å¤‡èµ„æºè€Œå®šï¼›ä»¥ethernet tcpé€šä¿¡ä¸ºä¾‹ï¼Œå¤§éƒ¨åˆ†æƒ…å½¢ä¸‹ï¼Œä¸‹ä½æœºå³åµŒå…¥å¼è®¾å¤‡ä½œä¸ºserverç«¯ï¼ŒPCç«¯ä½œä¸ºclientç«¯ï¼›åµŒå…¥å¼è®¾å¤‡éœ€è¦é»˜è®¤ä¸€ä¸ªIPåœ°å€ï¼Œæ¯”å¦‚192.168.137.22ï¼Œè¿˜è¦æœ‰ä¸€ä¸ªç«¯å£å·ï¼Œæ¯”å¦‚8738 å¸§æ ¼å¼å¸§æ ¼å¼çš„è®¾è®¡åº”åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼šå¸§å¤´ + é•¿åº¦ + æ•°æ®æ®µ + æ ¡éªŒ å¸§å¤´ï¼šä¸¤ä¸ªå­—èŠ‚ï¼Œä¾‹å¦‚å›ºå®šä¸º0xaa 0x55 é•¿åº¦ï¼šuint16ï¼Œå¤§ç«¯ï¼Œæ•´ä¸ªåŒ…çš„é•¿åº¦ï¼ŒåŒ…å«å¸§å¤´ã€é•¿åº¦ã€æ•°æ®æ®µå’Œæ ¡éªŒå››ä¸ªéƒ¨åˆ†çš„æ€»é•¿ åº¦ã€‚å•ä¸ªåŒ…çš„æœ€å¤§é•¿åº¦ä¸º512 æ•°æ®æ®µï¼šåŒ…è·è½½çš„å†…å®¹ï¼Œé•¿åº¦ä¸å›ºå®š æ ¡éªŒï¼šä¸¤ä¸ªå­—èŠ‚ï¼Œå¸§å¤´ã€é•¿åº¦å’Œæ•°æ®æ®µçš„CRC16è®¡ç®—å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å¼‚æˆ–æ ¡éªŒ å¿ƒè·³åŒ…å¿ƒè·³åŒ…è®¾è®¡åŸåˆ™ï¼š æœ€å¥½ä»…æ”¯æŒä¸€ä¸ªè®¾å¤‡è¿æ¥ å®¢æˆ·ç«¯è¯·æ±‚ï¼ŒæœåŠ¡å™¨åº”ç­” çº¦å®šä¸€ä¸ªå¿ƒè·³æ—¶é—´ï¼Œå¦‚30ç§’è¿›è¡Œä¸€æ¬¡å¿ƒè·³æŸ¥è¯¢ï¼›è¿˜è¦ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå¦‚300ç§’æ²¡æœ‰ä»»ä½•åº”ç­”åˆ™è§†ä¸ºè¿æ¥å·²ç»æ–­å¼€ è¯·æ±‚è¯·æ±‚æŠ¥æ–‡æ ¼å¼å‚è€ƒï¼šåè®®ç  + æ¶ˆæ¯ç±»å‹ + åŠŸèƒ½ç  + åºå· + åŠŸèƒ½æ•°æ® åº”ç­”åº”ç­”æŠ¥æ–‡æ ¼å¼å‚è€ƒï¼šåè®®ç  + æ¶ˆæ¯ç±»å‹ + åŠŸèƒ½ç  + åºå· + é”™è¯¯ç  + åŠŸèƒ½æ•°æ® æ€»ç»“ä»¥ä¸Šè¯·æ±‚å’Œåº”ç­”è®¾è®¡èŒƒä¾‹å…¶å®æ˜¯ä¸€ç§webæœåŠ¡çš„æ€æƒ³","tags":["ä¸Šä½æœº","é€šä¿¡åè®®","ä¸‹ä½æœº"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"tarå‘½ä»¤","path":"//tar-common-usage.html","content":"æŸ¥çœ‹å‹ç¼©åŒ…æ¯”å¦‚æƒ³çœ‹çœ‹rootfs.taré‡Œè¾¹æœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œé¿å…è§£å‹æœ‰å‘ 12tar -tf rootfs.tartar tf rootfs.tar.xz è§£å‹é»˜è®¤å…¨éƒ¨è§£å‹ï¼Œå½“ç„¶å‚æ•°éƒ¨åˆ†ä¹Ÿå¯ä»¥å¸¦å‹ç¼©åŒ…ç±»å‹ï¼šJè¡¨ç¤ºxzã€jè¡¨ç¤ºbz2ã€zè¡¨ç¤ºgz 1tar xf demo.tar.xx taråˆ›å»ºé»˜è®¤taråŒ… 1tar -cf archive.tar foo bar xzxzæ–‡ä»¶å‹ç¼© 1tar cJf rootfs.tar.xz rootfs/ bz2bz2æ–‡ä»¶å‹ç¼© 1tar cjf rootfs.tar.bz2 rootfs/ gzgzæ–‡ä»¶å‹ç¼© 1tar czf rt-linux.tar.gz rt-linux/","tags":["linux","tar"],"categories":["å¼€å‘å·¥å…·"]},{"title":"ç¼–ç¨‹ä¸­çš„åŒæ­¥å’Œå¼‚æ­¥æ¦‚å¿µ","path":"//program-synchronization-asynchronous.html","content":"æ™®é€šç†è§£åŒæ­¥ï¼Œå³åŒæ—¶è¿›è¡Œã€ä¸€èµ·åšï¼Œæ¯”å¦‚ï¼šä¸€è¾¹å¼€ä¼šï¼Œä¸€è¾¹åšç¬”è®°ï¼Œè¿™ä¸¤ä»¶äº‹å°±æ˜¯åŒæ­¥è¿›è¡Œçš„ å¼‚æ­¥ï¼Œè·ŸåŒæ­¥ç›¸åï¼Œåšäº‹çš„æ—¶é—´é¡ºåºä¸ä¸€è‡´ï¼Œæ¯”å¦‚ï¼šå¸¸è§çš„ç”µå½±å£°éŸ³å’Œå­—å¹•ä¸ä¸€è‡´ ç¼–ç¨‹æ¦‚å¿µåŒæ­¥ä¸€ä¸ªå‡½æ•°å¦‚æœåœ¨è°ƒç”¨çš„æ—¶å€™éšå³èƒ½æ‹¿åˆ°ç»“æœå¹¶è¿”å›ï¼Œè¿™å°±æ˜¯åŒæ­¥ï¼Œæ¯”å¦‚ï¼šè°ƒç”¨ä¸€ä¸ªLedOn()å‡½æ•°ï¼ŒLedç¯å°±ä¼šé©¬ä¸Šäº®èµ·æ¥ã€å‡½æ•°é€€å‡ºï¼›ä¸€èˆ¬ï¼Œå•çº¿ç¨‹çš„ç¯å¢ƒåº”ç”¨æ¯”è¾ƒå¤šï¼Œå› ä¸ºåªæœ‰ä¸€æ¡æ—¶é—´çº¿ï¼Œå¹²ä¸äº†å¾ˆå¤šçš„æ´»ï¼Œè¿™æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ å¼‚æ­¥å¼‚æ­¥è°ƒç”¨ä¸€èˆ¬å‡ºç°åœ¨å¤šçº¿ç¨‹æˆ–è€…ä¸­æ–­æƒ…æ™¯ä¸‹ï¼Œæœ‰ä¸€äº›äº‹æƒ…éœ€è¦åˆ†ç»™ä¸åŒçš„ä»»åŠ¡åšï¼Œè€Œä½ åˆæ— æ³•å‡†ç¡®æŠŠæ¡åˆ«çš„ä»»åŠ¡ä»€ä¹ˆæ—¶å€™å®Œæˆï¼ˆå®ƒå¯èƒ½ä¸çŸ¥é“å¹²å˜›å»äº†ï¼‰ï¼Œä½ ä¸æƒ³ç­‰å®ƒï¼Œæ‰€ä»¥åªèƒ½è®¾ç½®ä¸€ä¸ªå›è°ƒæ¥å£callbackæ¥è®©å®ƒå‘ŠçŸ¥ä½ ï¼Œè¿™è·Ÿç°å®ä¸–ç•Œå¾ˆåƒï¼Œä½ æ‰“ç”µè¯ç»™å¤–å–å°å“¥ï¼Œå¤–å–å°å“¥è¯´ä»–æ²¡æœ‰ç©ºåœ¨é€åˆ«çš„å¤–å–ï¼Œè®©ä½ ç•™ä¸ªç”µè¯å·ç ï¼Œç­‰å‡ºå•æˆ–è€…åˆ°äº†å†å‘Šè¯‰ä½ ï¼Œè€Œä½ åˆå¯ä»¥ä¸ç”¨ä¸€ç›´ç­‰è¿™ä¸ªå¤–å–äº†ï¼ˆå¿™åˆ«çš„äº‹æƒ…ï¼‰ï¼Œæ˜æ˜¾ä½ å’Œå¤–å–å°å“¥æ˜¯æ´»åœ¨ä¸åŒæ—¶é—´çº¿çš„ï¼ŒåŒæ–¹éƒ½å¾ˆè‡ªç”±ï¼›å¤§éƒ¨åˆ†äº‹ä»¶å¤„ç†éƒ½æ˜¯å¼‚æ­¥è°ƒç”¨æ¥çš„ï¼ŒåƒæŒ‰é”®ä¸­æ–­ï¼Œåªæœ‰æŒ‰é”®å€¼è¾“å…¥çš„æ—¶å€™ä½ æ‰éœ€è¦åšæŒ‰é”®äº‹ä»¶å¤„ç†ï¼›è¿˜æœ‰å€ç¦ADSæ¥å£ï¼šå®¢æˆ·ç«¯æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒADSåº“ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°ï¼Œå½“ç›®æ ‡å˜é‡ï¼ˆå¦‚PLCä¸­çš„æŸä¸ªå˜é‡ï¼‰çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒADSæœåŠ¡å™¨ä¼šä¸»åŠ¨é€šçŸ¥å®¢æˆ·ç«¯ æ€»ç»“ ç¼–ç¨‹å…¶å®æ˜¯å¯¹ç°å®ç”Ÿæ´»çš„æŠ½è±¡ ä¸šåŠ¡æ¨¡å‹ä¹Ÿå…·æœ‰æ™®é€‚æ€§ï¼Œä¸ç®¡ç‰©è”ç½‘ã€è‡ªåŠ¨åŒ–ã€è¿˜æ˜¯æ±½è½¦ç”µå­","tags":["åæ€","åŒæ­¥","å¼‚æ­¥"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"vscodeæ”¯æŒros2ç¨‹åºdebug","path":"//vscode-ros2-debug.html","content":"å®‰è£…ä¸‹è½½ 1wget https://az764295.vo.msecnd.net/stable/1a5daa3a0231a0fbba4f14db7ec463cf99d7768e/code_1.84.2-1699528352_amd64.deb å®‰è£… 1sudo dpkg -i code_1.84.2-1699528352_amd64.deb æ‰“å¼€ 1code . æ’ä»¶åœ¨æ‰“å¼€ros2å·¥ç¨‹å‰éœ€è¦å®‰è£…å‡ ä¸ªæ’ä»¶ CMake CMake Tools Python Ros XML Tools é…ç½®c_cpp_properties.jsonè¿™ä¸ªæ–‡ä»¶ç”¨äºé…ç½®ç¼–è¯‘æ¡ä»¶ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯foxyç‰ˆæœ¬çš„ros2ï¼Œå…¶ä»–ç‰ˆæœ¬å¯ä»¥å‚è€ƒç€æ”¹ 1234567891011121314151617&#123; &quot;configurations&quot;: [ &#123; &quot;name&quot;: &quot;Linux&quot;, &quot;includePath&quot;: [ &quot;$&#123;workspaceFolder&#125;/**&quot;, &quot;/opt/ros/foxy/include/**&quot; ], &quot;defines&quot;: [], &quot;compilerPath&quot;: &quot;/usr/bin/gcc&quot;, &quot;cStandard&quot;: &quot;c99&quot;, &quot;cppStandard&quot;: &quot;c++14&quot;, &quot;intelliSenseMode&quot;: &quot;clang-x64&quot; &#125; ], &quot;version&quot;: 4&#125; launch.jsonè¿™ä¸ªæ–‡ä»¶ç”¨äºå¯åŠ¨ros2 packageï¼Œtargeté€‰é¡¹ç”¨äºé…ç½®packageè¿è¡Œè„šæœ¬ï¼Œä¸€èˆ¬ç”¨ç›¸å¯¹ä½ç½®æ¯”è¾ƒåˆé€‚ 123456789101112131415&#123; // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ &#123; &quot;name&quot;: &quot;ROS: Launch&quot;, &quot;type&quot;: &quot;ros&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;target&quot;: &quot;./install/aglidar_sdk/share/aglidar_sdk/launch/start.py&quot; &#125; ]&#125; settings.jsonvscodeçš„åŸºæœ¬é…ç½®ï¼Œå…³è”ä¸€äº›cppçš„åº“ã€å…¶å®ƒæ–‡ä»¶ç±»å‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138&#123; &quot;editor.tabSize&quot;: 8, &quot;editor.rulers&quot;: [ 100 ], &quot;files.associations&quot;: &#123; &quot;*.repos&quot;: &quot;yaml&quot;, &quot;*.world&quot;: &quot;xml&quot;, &quot;*.xacro&quot;: &quot;xml&quot;, &quot;chrono&quot;: &quot;cpp&quot;, &quot;cctype&quot;: &quot;cpp&quot;, &quot;clocale&quot;: &quot;cpp&quot;, &quot;cmath&quot;: &quot;cpp&quot;, &quot;csignal&quot;: &quot;cpp&quot;, &quot;cstdarg&quot;: &quot;cpp&quot;, &quot;cstddef&quot;: &quot;cpp&quot;, &quot;cstdio&quot;: &quot;cpp&quot;, &quot;cstdlib&quot;: &quot;cpp&quot;, &quot;cstring&quot;: &quot;cpp&quot;, &quot;ctime&quot;: &quot;cpp&quot;, &quot;cwchar&quot;: &quot;cpp&quot;, &quot;cwctype&quot;: &quot;cpp&quot;, &quot;any&quot;: &quot;cpp&quot;, &quot;array&quot;: &quot;cpp&quot;, &quot;atomic&quot;: &quot;cpp&quot;, &quot;strstream&quot;: &quot;cpp&quot;, &quot;bit&quot;: &quot;cpp&quot;, &quot;*.tcc&quot;: &quot;cpp&quot;, &quot;bitset&quot;: &quot;cpp&quot;, &quot;codecvt&quot;: &quot;cpp&quot;, &quot;complex&quot;: &quot;cpp&quot;, &quot;condition_variable&quot;: &quot;cpp&quot;, &quot;cstdint&quot;: &quot;cpp&quot;, &quot;deque&quot;: &quot;cpp&quot;, &quot;forward_list&quot;: &quot;cpp&quot;, &quot;list&quot;: &quot;cpp&quot;, &quot;map&quot;: &quot;cpp&quot;, &quot;set&quot;: &quot;cpp&quot;, &quot;unordered_map&quot;: &quot;cpp&quot;, &quot;vector&quot;: &quot;cpp&quot;, &quot;exception&quot;: &quot;cpp&quot;, &quot;algorithm&quot;: &quot;cpp&quot;, &quot;functional&quot;: &quot;cpp&quot;, &quot;iterator&quot;: &quot;cpp&quot;, &quot;memory&quot;: &quot;cpp&quot;, &quot;memory_resource&quot;: &quot;cpp&quot;, &quot;numeric&quot;: &quot;cpp&quot;, &quot;optional&quot;: &quot;cpp&quot;, &quot;random&quot;: &quot;cpp&quot;, &quot;ratio&quot;: &quot;cpp&quot;, &quot;string&quot;: &quot;cpp&quot;, &quot;string_view&quot;: &quot;cpp&quot;, &quot;system_error&quot;: &quot;cpp&quot;, &quot;tuple&quot;: &quot;cpp&quot;, &quot;type_traits&quot;: &quot;cpp&quot;, &quot;utility&quot;: &quot;cpp&quot;, &quot;fstream&quot;: &quot;cpp&quot;, &quot;future&quot;: &quot;cpp&quot;, &quot;initializer_list&quot;: &quot;cpp&quot;, &quot;iomanip&quot;: &quot;cpp&quot;, &quot;iosfwd&quot;: &quot;cpp&quot;, &quot;iostream&quot;: &quot;cpp&quot;, &quot;istream&quot;: &quot;cpp&quot;, &quot;limits&quot;: &quot;cpp&quot;, &quot;mutex&quot;: &quot;cpp&quot;, &quot;new&quot;: &quot;cpp&quot;, &quot;ostream&quot;: &quot;cpp&quot;, &quot;shared_mutex&quot;: &quot;cpp&quot;, &quot;sstream&quot;: &quot;cpp&quot;, &quot;stdexcept&quot;: &quot;cpp&quot;, &quot;streambuf&quot;: &quot;cpp&quot;, &quot;thread&quot;: &quot;cpp&quot;, &quot;cfenv&quot;: &quot;cpp&quot;, &quot;cinttypes&quot;: &quot;cpp&quot;, &quot;typeindex&quot;: &quot;cpp&quot;, &quot;typeinfo&quot;: &quot;cpp&quot;, &quot;valarray&quot;: &quot;cpp&quot;, &quot;variant&quot;: &quot;cpp&quot; &#125;, // Autocomplete from ros python packages &quot;python.autoComplete.extraPaths&quot;: [ &quot;/opt/ros/foxy/lib/python3.8/site-packages/&quot; ], // Environment file lets vscode find python files within workspace &quot;python.envFile&quot;: &quot;$&#123;workspaceFolder&#125;/.env&quot;, // Use the system installed version of autopep8 &quot;python.formatting.autopep8Path&quot;: &quot;/usr/bin/autopep8&quot;, &quot;python.formatting.autopep8Args&quot;: [ &quot;--max-line-length=100&quot; ], &quot;C_Cpp.default.intelliSenseMode&quot;: &quot;clang-x64&quot;, &quot;C_Cpp.formatting&quot;: &quot;Disabled&quot;, &quot;uncrustify.useReplaceOption&quot;: true, &quot;uncrustify.configPath.linux&quot;: &quot;/opt/ros/foxy/lib/python3.8/site-packages/ament_uncrustify/configuration/ament_code_style.cfg&quot;, &quot;cSpell.words&quot;: [ &quot;RTPS&quot;, &quot;athackst&quot;, &quot;autopep&quot;, &quot;cmake&quot;, &quot;cppcheck&quot;, &quot;cpplint&quot;, &quot;deque&quot;, &quot;devcontainer&quot;, &quot;ints&quot;, &quot;noqa&quot;, &quot;pytest&quot;, &quot;rclcpp&quot;, &quot;rclpy&quot;, &quot;repos&quot;, &quot;rosdistro&quot;, &quot;rosidl&quot;, &quot;uncrustify&quot;, &quot;xmllint&quot; ], &quot;search.exclude&quot;: &#123; &quot;**/node_modules&quot;: true, &quot;**/bower_components&quot;: true, &quot;**/*.code-search&quot;: true, &quot;**/build&quot;: true, &quot;**/install&quot;: true, &quot;**/log&quot;: true &#125;, &quot;python.analysis.extraPaths&quot;: [ &quot;/opt/ros/foxy/lib/python3.8/site-packages/&quot; ], &quot;cSpell.allowCompoundWords&quot;: true, &quot;cSpell.ignorePaths&quot;: [ &quot;**/package-lock.json&quot;, &quot;**/node_modules/**&quot;, &quot;**/vscode-extension/**&quot;, &quot;**/.git/objects/**&quot;, &quot;.vscode&quot;, &quot;.vscode-insiders&quot;, &quot;.devcontainer/devcontainer.json&quot; ], &quot;ros.distro&quot;: &quot;foxy&quot;, &quot;cmake.sourceDirectory&quot;: &quot;/home/asensing/workspace/Asensing_LiDAR_ROS/aglidar_sdk&quot;&#125; tasks.jsonç¼–è¯‘ä»»åŠ¡é…ç½®ï¼Œdebugéœ€æ±‚çš„å¯ä»¥æ”¹æˆdebugç¼–è¯‘ç±»å‹ 123456789101112131415161718&#123; // See https://go.microsoft.com/fwlink/?LinkId=733558 // for the documentation about the tasks.json format &quot;version&quot;: &quot;2.0.0&quot;, &quot;tasks&quot;: [ &#123; &quot;label&quot;: &quot;build&quot;, &quot;detail&quot;: &quot;Build workspace (default)&quot;, &quot;type&quot;: &quot;shell&quot;, &quot;command&quot;: &quot;colcon build --cmake-args &#x27;-DCMAKE_BUILD_TYPE=Debug&#x27; -Wall -Wextra -Wpendantic&quot;, &quot;group&quot;: &#123; &quot;kind&quot;: &quot;build&quot;, &quot;isDefault&quot;: true &#125;, &quot;problemMatcher&quot;: &quot;$gcc&quot; &#125; ]&#125; è°ƒè¯•è°ƒè¯•å¿«æ·é”®åˆ—è¡¨ï¼ŒåŸºæœ¬å°±æ˜¯Visual Studioé‚£ä¸€å¥— åºå· åŠŸèƒ½ æŒ‰é”® 1 å•æ­¥ F10 2 å•æ­¥è¿›å…¥ F11 3 å•æ­¥è·³å‡º Shift + F11 4 æ¢å¤ F5 5 æš‚åœ F5 6 åœæ­¢ Shift + F5 7 é‡æ–°è¿è¡Œ Ctrl + Shift + F5 8 è¿è¡Œtaskç¼–è¯‘å·¥ç¨‹ Ctrl + Shift + B 9 åˆ‡æ¢æ–­ç‚¹ F9 10 å‰è¿› Ctrl + Shift + - 11 åé€€ Ctrl + Alt + - 12 è¿è¡Œ Ctrl + Shift + D è°ƒè¯•ç•Œé¢æ•ˆæœ","tags":["ROS2","vscode","debug"],"categories":["å¼€å‘å·¥å…·"]},{"title":"QMainWindowå­çª—å£ç‹¬ç«‹å…¨å±","path":"//qmainwindow-subwindow-fullscreen.html","content":"äº‹ä»¶è¿‡æ»¤å™¨QMainWindowçš„å­ç±»å¯¹è±¡çš„æ„é€ å‡½æ•°ä¸­å®‰è£…äº‹ä»¶è¿‡æ»¤å™¨ 1centralWidget()-&gt;installEventFilter(this); ä¿¡å·å’Œæ§½ç”±QActionè§¦å‘è¿›å…¥å…¨å± 123456connect(this-&gt;Internals-&gt;actionFull_Screen, &amp;QAction::triggered, this, [=](bool flag) &#123; auto widget = centralWidget(); m_windowFlags = widget-&gt;windowFlags(); widget-&gt;setWindowFlag(Qt::Window); widget-&gt;showFullScreen();&#125;); é€€å‡ºå…¨å±é‡å†™QMainWindowå­ç±»å¯¹è±¡çš„eventFilterè™šå‡½æ•°ï¼Œåœ¨é‡Œè¾¹æ·»åŠ ä»¥ä¸‹ä»£ç  12345678910if(obj == centralWidget() &amp;&amp; ev-&gt;type() == QEvent::KeyPress) &#123; auto keyEvent = static_cast&lt;QKeyEvent *&gt;(ev); if(keyEvent-&gt;key() == Qt::Key_Escape) &#123; auto widget = centralWidget(); widget-&gt;setWindowFlags(m_windowFlags); widget-&gt;showNormal(); this-&gt;Internals-&gt;actionFull_Screen-&gt;setChecked(false); return true; &#125;&#125;","tags":["Qt","QMainWindow","å…¨å±"],"categories":["åµŒå…¥å¼"]},{"title":"ARM Linuxè¿œç¨‹è°ƒè¯•","path":"//qt-project-remote-debug.html","content":"å‡†å¤‡è™šæ‹Ÿæœºæ—¢èƒ½pingé€šå¼€å‘æ¿ï¼Œåˆèƒ½pingé€šå¤–ç½‘ï¼Œè¿˜è¦èƒ½pingé€šWindowsä¸»æœºï¼ˆå¦‚æœä½ æœ‰ä¸Šä½æœºé€šä¿¡ï¼ˆtftpã€vsftpã€sshï¼‰çš„éœ€æ±‚ï¼‰ VMwareæ·»åŠ ç½‘ç»œé€‚é…å™¨2ç”¨ä½œæ¡¥æ¥ç½‘å¡ï¼ŒåŸæœ‰çš„ç½‘ç»œé€‚é…å™¨ä¿æŒä¸ºNATæ¨¡å¼ æ‰“å¼€è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ï¼Œé…ç½®VMnet0ä¸ºæ¡¥æ¥æ¨¡å¼ï¼Œå¤–éƒ¨è¿æ¥è®¾ç½®ä¸ºRealtek PCIe GbE Family Controller Ubuntuè™šæ‹Ÿæœºé…ç½®ip 1sudo ifconfig ens37 192.168.137.33 netmask 255.255.255.0 å…¶ä¸­ens33ä¸ºNATæ¨¡å¼åˆ†é…çš„ç½‘å¡ï¼Œå®ƒå¯ä»¥é€šè¿‡ç¬”è®°æœ¬çš„æ— çº¿ç½‘å¡ä¸Šç½‘ï¼›ens37ä¸ºæ¡¥æ¥ç½‘å¡ï¼Œé€šè¿‡æœ‰çº¿ç½‘å¡è·Ÿå¼€å‘æ¿é€šä¿¡ Boardå¼€å‘æ¿ç«¯é…ç½®IP 1ifconfig eth0 192.168.137.22 netmask 255.255.255.0 Windowsæ‰‹åŠ¨é…ç½®IP è¿æ¥1ï¼‰éœ€è¦å‡†å¤‡ä¸€äº›å·¥å…·ï¼ˆäº¤å‰ç¼–è¯‘ï¼‰ï¼Œgdbå’Œgdbserverçš„ç§»æ¤å¯ä»¥å‚è€ƒæ–‡ç«  sshï¼šopensshæˆ–è€…dropbearï¼Œå¼€å‘æ¿ç«¯éƒ¨ç½²sshdã€å®¿ä¸»æœºç«¯éƒ¨ç½²ssh sftpï¼šä¸€èˆ¬è·Ÿsshé…å¥—çš„ï¼Œè¿™ä¸ªä¹Ÿæ”¾å¼€å‘æ¿ç«¯ arm-gdbï¼šæ”¾åœ¨å®¿ä¸»æœºç«¯ gdbserverï¼šæ”¾åœ¨å¼€å‘æ¿ç«¯ 2ï¼‰åœ¨QtCreatoræ·»åŠ Remote Deviceï¼Œä¿è¯sshè¿æ¥ä¸Š 3ï¼‰åœ¨Build &amp; Runé‡Œè¾¹é…ç½®Kits Device Sysroot Compiler Debugger Qt version rk3399-kité…ç½®å‚è€ƒ è¿œç¨‹éƒ¨ç½²cmakecmakeéœ€è¦å†™ä¸€ä¸ªéƒ¨ç½²æ–‡ä»¶ï¼šQtCreatorDeployment.txtï¼Œå†™æ³•å‚è€ƒå¦‚ä¸‹ï¼š 12è¿œç¨‹ç»å¯¹è·¯å¾„å®¿ä¸»æ–‡ä»¶è·¯å¾„:è¿œç¨‹ç›¸å¯¹è·¯å¾„ æ·»åŠ å¼€å‘æ¿æ‰€éœ€è¦çš„æ–‡ä»¶åˆ°&#x2F;rootç›®å½•ï¼ˆç›¸å¯¹è·¯å¾„ä¸å¡«å†™å°±æ˜¯æ”¾åˆ°é»˜è®¤çš„è¿œç¨‹ç»å¯¹è·¯å¾„ä¸‹ï¼‰ 12/root/home/topeet/workspace/harvester/build/harvester: æ·»åŠ æ–‡ä»¶åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ 123/root/home/topeet/workspace/harvester/build/harvester: /home/topeet/workspace/harvester/simulator.sh:/can qmakeqmake proæ–‡ä»¶å†™æ³•ï¼šlocal.pathè¡¨ç¤ºæœ¬åœ°è·¯å¾„ï¼Œtarget.pathè¡¨ç¤ºè¿œç¨‹è·¯å¾„ï¼Œé€šè¿‡addFilesçš„å±æ€§èµ‹å€¼æ·»åŠ è¦éƒ¨ç½²çš„ç›®å½•æˆ–æ–‡ä»¶ï¼ˆfile1ã€file2ï¼‰ 123456local.path = $$OUT_PWDlocal.path ~= s/builds.*/target.path = /rootaddFiles.path = $$target.pathaddFiles.files += file1addFiles.files += file2 ç¤ºä¾‹ï¼šéƒ¨ç½²appæ”¾åˆ°&#x2F;rootç›®å½•ä¸‹ 1234local.path = $$OUT_PWDlocal.path ~= s/builds.*/target.path = /rootINSTALLS += target è¿è¡Œé…ç½®éƒ¨ç½²é…ç½® è¿è¡Œé…ç½® è¿è¡Œç¯å¢ƒå˜é‡é…ç½®ï¼Œä»¥wayland-eglä¸ºä¾‹ å¯ä»¥é€šè¿‡Batch Editæ–¹å¼æ‰¹é‡é…ç½® 12QT_QPA_PLATFORM=wayland-eglXDG_RUNTIME_DIR=/tmp/.xdg","tags":["Linux","Qt","è¿œç¨‹è°ƒè¯•","ARM"],"categories":["åµŒå…¥å¼"]},{"title":"æŠ€æœ¯äººçœ¼ä¸­çš„å¸‚åœºè¡¨ç°å½¢å¼","path":"//technology-market-type.html","content":"å‰è¨€ä½œä¸ºä¸€åæŠ€æœ¯äººï¼Œè¦å¯¹äº§å“çš„å¸‚åœºåŠ¨æ€æ—¶åˆ»ä¿æŒæ•æ„Ÿï¼Œäº†è§£äº§å“çš„æ˜¨å¤©ã€ä»Šå¤©ã€æ˜å¤©ï¼Œæ‰èƒ½æœ‰çš„æ”¾çŸ¢ï¼›ä¸æ‡‚äº§å“çš„ç¨‹åºå‘˜ä¸æ˜¯å¥½ç¨‹åºå‘˜ï¼Œæˆ‘å»è¿‡çš„å…¬å¸ï¼Œå¤§éƒ¨åˆ†ä¹Ÿæ˜¯ç¨‹åºå‘˜ä¸»å¯¼äº§å“çš„ç ”å‘æµç¨‹ï¼Œä¸€éƒ¨åˆ†äººè¦æ‰¿æ‹…é¡¹ç›®å‰æœŸçš„éœ€æ±‚æŒ–æ˜ã€å®¢æˆ·æ‹œè®¿ã€å¯è¡Œæ€§è°ƒç ”ã€äº§å“æ–‡æ¡£ç¼–å†™ã€æŠ€æœ¯æ”¯æŒã€äº§å“è¿è¥ç­‰å·¥ä½œï¼Œå¯è§å¸‚åœºæ•æ„Ÿåº¦å’Œè§‚å¿µæ„è¯†å¯¹æŠ€æœ¯äººæ¥è¯´å¾ˆé‡è¦ å¢é‡å¸‚åœºå®šä¹‰ å¸‚åœºå­˜åœ¨å¤§é‡çš„éœ€æ±‚ï¼Œäº§å“çš„æ½œåŠ›æœªæœ‰è¢«å……åˆ†æŒ–æ˜ï¼Œå„ç§å› ç´ å¦‚æ”¿æ²»ã€ç»æµã€ç–«æƒ…ç­‰å¯¼è‡´éœ€æ±‚çš„çˆ†å‘ï¼Œå„æ–¹æœ‰ç™¾èŠ±é½æ”¾çš„è¶‹åŠ¿ï¼Œå·¨å¤´è¿˜æ²¡æœ‰å‡ºç°ï¼Œäººç§°è“æµ· ç‰¹ç‚¹ äº§å“è¿˜æ²¡æœ‰å……åˆ†è¢«å®šä¹‰ï¼Œå­˜åœ¨ç€å„ç§å„æ ·çš„å‘å±•æ–¹å‘å’ŒæŠ€æœ¯è·¯çº¿ éœ€æ±‚é‡æ¯”è¾ƒå¤§ï¼Œæœ‰å¼•é¢†æ—¶ä»£æ½®æµçš„è¶‹åŠ¿ï¼Œå ªç§°é£å£ æ—¶æ•ˆæ€§ï¼Œäº§å“ä¹Ÿæœ‰å®ƒçš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸ä¼šæ°¸è¿œä¿æŒæ—ºç››çš„äº§å“åŠ› ä¸åœ°ç¼˜æ”¿æ²»ã€ç»æµå› ç´ ã€ç¤¾ä¼šæ–‡åŒ–ã€ä¿¡æ¯å·®å¯†åˆ‡ç›¸å…³ è¯†åˆ« æ¿€å…‰é›·è¾¾ï¼š2022å¹´æ¿€å…‰é›·è¾¾æ˜¯å¢é‡å¸‚åœºï¼Œä½†2024å¹´ä¸æ˜¯ åŠå¯¼ä½“è®¾å¤‡åŠé›¶éƒ¨ä»¶ï¼šå¦‚å…‰åˆ»æœºã€CVDã€PVDã€Etchè®¾å¤‡ç­‰ æ— äººå†œä¸šï¼šè‡ªåŠ¨åŒ–æŸ æ¡æœºã€æ’ç§§æœºã€æ”¶è·æœºã€æ’­ç§æœº æœºå™¨äººï¼šåŒ»æŠ¤æœºå™¨äººã€å·¥ä¸šæœºå™¨äººç­‰ åŒ»ç–—è®¾å¤‡ï¼šæ ¸ç£å…±æŒ¯è®¾å¤‡ã€ç–«æƒ…æœŸé—´æ˜™èŠ±ä¸€ç°çš„å‘¼å¸æœºã€æ£€æµ‹è¯•çº¸ç­‰ ä¸å…»è€ç›¸å…³ï¼šä¿å¥å“ã€ç¦åˆ©é™¢ã€åºŠæŠ¤ç”¨å“ã€è€å¹´äººé£Ÿå ‚ç­‰è®¾æ–½ AIç±»ä¼¼ç‰©ï¼šChatGPTã€DeepSeek å­˜é‡å¸‚åœºå®šä¹‰ äº§å“å·²ç»è¢«å®šä¹‰ã€è¢«å¸‚åœºæ¥çº³ï¼Œè¡Œä¸šçš„å·¨å¤´æœ‰å½¢æˆå„æ–­çš„è¶‹åŠ¿ï¼Œä»·æ ¼å·²ç»è¢«æ‰“ä¸‹æ¥ï¼Œåˆ©æ¶¦ç©ºé—´å¾ˆå°‘äº†ï¼Œç§°ä¸ºçº¢æµ·ï¼Œä¸€èˆ¬ä¸å»ºè®®åŠ å…¥å­˜é‡å¸‚åœº ç‰¹ç‚¹ éœ€æ±‚å·²ç»æ˜ç¡®ï¼Œä¾›åº”é“¾ç¨³å®š è¡Œä¸šå„æ–­ï¼Œå¤´éƒ¨ç«äº‰è€…å æ®ä¼˜åŠ¿åœ°ä½ï¼ˆèµ„æœ¬ã€æŠ€æœ¯ã€å¸‚åœºã€äººæ‰ï¼‰ åˆ©æ¶¦ç©ºé—´ä¸å¤§ é€šå¸¸ä¼´éšç€ç»æµä¸‹è¡Œ è¯†åˆ« 2024å¹´çš„æ–°èƒ½æºæ±½è½¦æ˜¯å­˜é‡å¸‚åœºï¼Œä»·æ ¼æˆ˜è¶Šæ¼”è¶Šçƒˆï¼Œç‰¹æ–¯æ‹‰ã€æ¯”äºšè¿ªç­‰å·¨å¤´ä½“é‡ä¼˜åŠ¿ç‰¹åˆ«æ˜æ˜¾ï¼Œæ–°åŠ¿åŠ›åˆ™æ˜¯èµ”æœ¬èµšå†å– å…¬æ°‘æ•™è‚²ï¼Œéšç€äººå£å‡ºç”Ÿç‡ä¸‹é™ï¼Œå—æ•™è‚²çš„éœ€æ±‚æ²¡æœ‰ä»¥å‰é‚£ä¹ˆæ—ºç››ï¼Œæ•™è‚²å¸‚åœºå·²è¶‹äºé¥±å’Œ å…‰ä¼äº§å“ï¼Œç›¸æ¯”ä¸­æ¬§çš„åå„æ–­è°ƒæŸ¥å·²ç»è¯´æ˜äº†è¿™ä¸ªå¸‚åœºæœ‰å¤šé¥±å’Œï¼ˆå†…å·ï¼‰äº† å®¶ç”µã€æœè£…ã€å®¶å±…çº¿ä¸‹é›¶å”®ï¼Œç”µå•†æ¨¡å¼ã€ç›´è¥æ¨¡å¼ã€å¸¦è´§æ¨¡å¼å¯¹è¿™äº›è¡Œä¸šçš„æ‰“å‡»æ˜¯æ¯ç­æ€§çš„ åˆšéœ€å¸‚åœºå®šä¹‰ åˆšéœ€ï¼ŒæŒ‡çš„å°±æ˜¯ä¸å¯ç¼ºå°‘çš„ç”Ÿæ´»ç”¨å“ï¼Œæ¯”å¦‚è¡£é£Ÿä½è¡Œï¼Œè¿™äº›æ˜¯ç»´æŒäººçš„æ—¥å¸¸ç”Ÿæ´»æ‰€å¿…é¡»ä¾èµ–çš„ç‰©è´¨åŸºç¡€ï¼›åˆšéœ€å¸‚åœºä¹Ÿä¸æ­¤ç›¸å…³ï¼Œæ¯”å¦‚ï¼šåŒ»ç–—éœ€æ±‚ï¼ˆç”Ÿç—…åƒè¯ï¼‰ã€åƒé¥­éœ€æ±‚ï¼ˆé€›èœå¸‚åœºã€è¶…å¸‚ï¼‰ã€äº¤é€šéœ€æ±‚ï¼ˆä¸Šä¸‹ç­é€šå‹¤ã€å‡ºé—¨åŠäº‹ï¼‰ã€ç¡è§‰ï¼ˆåºŠæŠ¤ç”¨å“ï¼‰ç­‰ ç‰¹ç‚¹ è·Ÿé©¬æ–¯æ´›éœ€æ±‚ç†è®ºçš„ç”Ÿç†éœ€æ±‚æœ‰å…³ï¼Œäººå¿…é¡»æ»¡è¶³åŸºæœ¬çš„ç”Ÿå­˜éœ€è¦ äº§å“å½¢å¼æ¯”è¾ƒå›ºå®šè€Œæ˜ç¡®ã€é”€é‡ç›¸å¯¹ç¨³å®šå¯é ï¼Œé›†ä¸­äºåƒå–æ‹‰æ’’ç¡ã€è¡£é£Ÿä½è¡Œã€çœ‹ç—…å°±åŒ»ã€å®¶å±…ç”Ÿæ´»ç­‰é¢†åŸŸ å¸‚åœºå¯èƒ½ä¼šç”±å›½ä¼å„æ–­ï¼Œå¦‚é€šä¿¡ã€ç”µåŠ›ã€çŸ³æ²¹ã€å¿«é€’ã€é“¶è¡Œç­‰ï¼Œå®¹æ˜“å‡ºç°å·¨å¤´ï¼Œå› æ­¤æ™®é€šäººæœºä¼šåå°‘ è¯†åˆ« å¤§å‹å›½ä¼ï¼šä¸­å›½ç”µä¿¡ã€ä¸­å›½è”é€šã€å·¥å•†é“¶è¡Œã€ä¸­çŸ³æ²¹ã€å›½å®¶ç”µç½‘ã€ä¸­å›½é‚®æ”¿ç­‰ é›¶å”®å’Œè¶…å¸‚ï¼šé’±å¤§å¦ˆã€è‚‰è”é‚¦ã€æ²ƒå°”ç›ã€ç™¾æœå›­ã€äº¬ä¸œè¶…å¸‚ è‚‰èœå¸‚åœºï¼šå†œæ‘çš„å¤§å¤§å°å°çš„èœå¸‚åœºï¼Œå›ä¸è§èœå¸‚åœºæ¯åˆ°çº¦å®šçš„æ—¥å­å°±çƒ­é—¹éå‡¡ æ€»ç»“ ä¸€ä¸ªäº§å“å¹¶ä¸æ˜¯ä»€ä¹ˆæ—¶å€™éƒ½å—æ¬¢è¿çš„ï¼Œå®ƒæœ‰ç€è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼šæ–°ç”Ÿã€å‘å±•ã€å¼ºç››ã€è¡°é€€ã€å‡‹äº¡ï¼Œå°±åƒè‡ªç„¶ç•Œçš„ç”Ÿå‘½ä¸€æ · é€‰æ‹©æ›´é‡è¦ï¼ŒæŠ€æœ¯äººä¸éœ€è¦æ°¸è¿œæ‰§ç€äºä¸€ä¸ªä¸åˆæ—¶å®œçš„äº§å“ï¼Œå‘é˜³è€Œç”Ÿæ¯”åŠ›æŒ½ç‹‚æ›´é‡è¦ å¸‚åœºæ˜¯å˜åŒ–çš„ã€æ•æ„Ÿçš„ã€å‘å±•çš„ï¼Œå¦‚æœå¸Œæœ›ä¸€ä¸ªç¨³å®šçš„èŒä¸šç”Ÿæ¶¯ï¼Œä¸å¦¨é€‰æ‹©åˆšéœ€å¸‚åœºï¼Œæ¯”å¦‚å½“ä¸€ååŒ»ç”Ÿæˆ–è€…å„æ–­æ€§äº‹ä¸šå•ä½çš„é›‡å‘˜","tags":["äº§å“","å¸‚åœº","å¢é‡","å­˜é‡","åˆšéœ€"],"categories":["æ–¹æ³•è®º"]},{"title":"æ±½è½¦é›¶éƒ¨ä»¶ç ”å‘çš„å„ä¸ªé˜¶æ®µ","path":"//auto-parts-stage.html","content":"Aæ ·åŸå‹æœºå¼€å‘é˜¶æ®µï¼Œé—®é¢˜è¾ƒå¤šä¸”åŠŸèƒ½æœ‰é™ï¼Œä»¥åŠŸèƒ½åŸç†éªŒè¯ä¸ºä¸»ï¼Œä¸€èˆ¬æ˜¯äººå·¥åˆ¶é€ ä¸ºä¸»ï¼Œæ¯”å¦‚æ‹¼æ¨¡å—ç»„è£…ï¼Œç®€æ˜“æ‰“æ¿æˆ–è€…ç›´æ¥è´­ä¹°demoæ¿ Bæ ·ç§¯ç´¯äº†ä¸€å®šçš„è§£å†³é—®é¢˜çš„ç»éªŒï¼ŒåŸºæœ¬ç»“æ„å·²ç»æˆå‹ï¼ˆäº§å“å‚æ•°ï¼‰ï¼Œä¹Ÿæœ‰äº†æˆå‹çš„PCBæ¿ï¼Œè½¯ç¡¬ä»¶å¤„äºä¸æ–­çš„ç£¨åˆé˜¶æ®µï¼Œæ­¤é˜¶æ®µç¡¬ä»¶ã€è½¯ä»¶çš„æ”¹åŠ¨æ¯”è¾ƒé¢‘ç¹ï¼Œäº§å“ç ”å‘çš„ä¸»è¦é˜¶æ®µï¼ŒæŒç»­æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè¿˜æ˜¯äººå·¥åˆ¶é€ ä¸ºä¸» Cæ ·å·²ç»èƒ½å¤Ÿåœ¨ç”Ÿäº§çº¿å°æ‰¹é‡ç”Ÿäº§ï¼Œå¿«é€Ÿéƒ¨ç½²ï¼Œè¿˜éœ€è¦è¿›è¡Œå„é¡¹æµ‹è¯•ï¼Œå¯ä»¥å€ŸåŠ©ä¸€äº›è‡ªåŠ¨åŒ–è½¯ä»¶ã€è®¾å¤‡è¾…åŠ©ç”Ÿäº§ï¼Œæé«˜ç”Ÿäº§æ•ˆç‡ Dæ ·å·²ç»èƒ½å¤Ÿæ‰¹é‡äº¤ä»˜ç”¨æˆ·ä½¿ç”¨ï¼Œå¯ç”¨äºç›¸å…³éƒ¨é—¨çš„æ£€æŸ¥ã€è®¤è¯ï¼Œæ­¤æ—¶ä¹Ÿæœ‰å®Œæ•´çš„ç”¨æˆ·æ‰‹å†Œï¼Œå‡ºç°é—®é¢˜ä¹Ÿæœ‰æŠ€æœ¯æ”¯æŒ","tags":["äº§å“","æ±½è½¦ç”µå­"],"categories":["æ–¹æ³•è®º"]},{"title":"é¡¹ç›®æ¦‚è¦è®¾è®¡è¯´æ˜ä¹¦","path":"//project-overview-specification.html","content":"é¡¹ç›®ä»‹ç»xxxæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„é¡¹ç›®ï¼ŒæŠ€æœ¯ç‚¹ã€äººåŠ›æŠ•å…¥ã€å·¥æœŸ éœ€æ±‚æ¦‚è¿°æŠŠå®¢æˆ·çš„ç›®æ ‡éœ€æ±‚å¤§è‡´è®²æ¸…æ¥š åº”ç”¨é¢†åŸŸ è¿è¡Œç¯å¢ƒ åŠŸèƒ½æŒ‡æ ‡ æ€§èƒ½æŒ‡æ ‡ æ¡ä»¶é™åˆ¶ æŠ€æœ¯å¯è¡Œæ€§åˆ†æææ–™ã€ç»“æ„ã€ç¡¬ä»¶ã€è½¯ä»¶ã€æµ‹è¯•è§’åº¦åˆ†æ éœ€è¦é‡‡è´­ä»€ä¹ˆè®¾å¤‡ã€èµ°ä»€ä¹ˆè®¤è¯æµç¨‹ã€ç”¨ä»€ä¹ˆæµ‹è¯•æ‰‹æ®µ ç³»ç»Ÿæ¶æ„ &#x2F; æ€»ä½“è®¾è®¡è½¯ç¡¬ä»¶ç³»ç»Ÿç»„æˆç»“æ„ ä¸Šä½æœº ä¸‹ä½æœº æœåŠ¡å™¨ é€šä¿¡åè®® äººå‘˜èŒè´£éœ€è¦çš„äººå‘˜ä»¥åŠå·¥ç§ï¼Œæ¯ä¸ªäººè´Ÿè´£çš„å·¥ä½œç‚¹ï¼Œå¤§æ¦‚ä¼°ç®—å¤šå°‘äººã€å¤šå°‘å·¥æ—¶ ç¾å·¥ è½¯ä»¶ ç¡¬ä»¶ æœºæ¢° æµ‹è¯• è¿ç»´ äº§å“ åŠŸèƒ½æ¨¡å—å¯¹ç³»ç»Ÿæ¶æ„é‡Œè¾¹çš„æ¨¡å—é€ä¸€æ‹†è§£ã€åˆ†æï¼Œåˆ—å‡ºç³»ç»Ÿæ¡†å›¾ æ¨¡å—1 æ¨¡å—2 æ¨¡å—3 æ¯ä¸ªæ¨¡å—å·¥ä½œæµç¨‹å›¾ æµç¨‹1 æµç¨‹2 æµç¨‹3 æ¥å£è®¾è®¡æ¨¡å—çš„é€šä¿¡æ¥å£è¿›è¡Œå®šä¹‰ æ¥å£1 æ¥å£2 æ¥å£3 é€šä¿¡åè®®ç¡¬ä»¶æ¥å£ è½¯ä»¶åè®® æµ‹è¯•å‰ç½®ä¾èµ–ï¼šéœ€è¦ä»€ä¹ˆäººã€ä»€ä¹ˆè®¾å¤‡ã€ä»€ä¹ˆæ¡ä»¶ æ€§èƒ½ã€å‚æ•°æŒ‡æ ‡æµ‹è¯• é»‘ç›’ã€ç™½ç›’ ç»´æŠ¤å®¢æˆ·ç°åœºå‡ºç°é—®é¢˜æ€ä¹ˆè§£å†³ï¼Œææ–™ã€ç»“æ„ã€ç¡¬ä»¶ã€è½¯ä»¶çš„èŒè´£èŒƒå›´","tags":["ç®¡ç†","é¡¹ç›®","è¯´æ˜ä¹¦"],"categories":["æ–¹æ³•è®º"]},{"title":"Ubuntu22.04æ­å»ºROS2è¿è¡Œç¯å¢ƒ","path":"//ubuntu22.04-install-ros2.html","content":"åŒºåŸŸè¯­è¨€è®¾ç½®è®¾ç½®åŒºåŸŸè¯­è¨€ä¸ºUS 123456789sudo apt updatesudo apt install localessudo locale-gen en_US en_US.UTF-8sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8export LANG=en_US.UTF-8 å¿…å¤‡è½¯ä»¶ç»„ä»¶å¦‚æœå·²ç»å®‰è£…ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥éª¤ 1234567sudo apt updatesudo apt-get install -y libyaml-cpp-devsudo apt-get install -y libpcap-devsudo apt install -y curl gnupg lsb-release æ›´æ–°è¿œç¨‹ä»“åº“æºæ›´æ–°/etc/hostsæ–‡ä»¶ï¼Œé˜²æ­¢raw.githubusercontent.comè¢«å¢™ï¼Œå¯ä»¥é€šè¿‡nslookupå‘½ä»¤æŸ¥çœ‹åŸŸåæœåŠ¡å™¨åœ°å€ 12345185.199.110.133\traw.githubusercontent.com185.199.110.133 user-images.githubusercontent.com185.199.110.133 avatars2.githubusercontent.com185.199.100.133 avatars1.githubusercontent.com20.205.243.166 github.com å¦‚æœå·²ç»æ·»åŠ è¿‡æºï¼Œè¿™ä¸€æ­¥ä¹Ÿå¯ä»¥è·³è¿‡ 12345sudo curl -sSL http://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpgecho &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main&quot; | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/nullsudo apt update å®‰è£…humbleæ¡Œé¢ç‰ˆå’ŒåŸºç¡€ç‰ˆäºŒé€‰ä¸€ 12sudo apt install ros-humble-desktop # æ¡Œé¢ç‰ˆsudo apt install ros-humble-ros-base\t# åŸºç¡€ç‰ˆ å®‰è£…è½¯ä»¶åŒ…colconå’Œlibbackward-roséƒ½å®‰è£…ä¸€ä¸‹ 12sudo apt-get install python3-colcon-common-extensionssudo apt-get install -y ros-humble-backward-ros éªŒè¯ROS2å€Ÿç”¨å°ä¹Œé¾Ÿæ¥éªŒè¯æ˜¯å¦æˆåŠŸï¼Œhumbleç‰ˆæœ¬å¦‚æœæ²¡æœ‰é¢„è£…turtlesimçš„è¯è¯·äº‹å…ˆå®‰è£… 1sudo apt install ros-humble-turtlesim è¿è¡Œturtlesim_nodeå’Œturtle_teleop_keyä¸¤ä¸ªèŠ‚ç‚¹ 123source /opt/ros/humble/setup.bashros2 run turtlesim turtlesim_noderos2 run turtlesim turtle_teleop_key æ§åˆ¶æ•ˆæœ å®Œå…¨å¸è½½å¦‚æœä½ ä¸æƒ³ç”¨humbleè¿™ä¸ªç‰ˆæœ¬ï¼Œè¯·ç”¨ä»¥ä¸‹å‘½ä»¤å¸è½½å¹²å‡€ 1sudo apt-get autoremove --purge ros-humble-desktop","tags":["ROS2","ubuntu22.04"],"categories":["æ“ä½œç³»ç»Ÿ"]},{"title":"è§£å†³csvæ–‡ä»¶å¯¼å‡ºæ—¶é—´æˆ³ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜","path":"//csv-file-lose-precision.html","content":"ä¸¢å¤±ç²¾åº¦ä»¥åœ†å‘¨ç‡æ•°æ®è¾“å‡ºä¸ºä¾‹ï¼Œå¦‚æœç›´æ¥é€šè¿‡ostreamè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œåˆ™ä¼šä¸¢å¤±ç²¾åº¦ 123ostream stream;double value = 3.1415926;stream &lt;&lt; value; ä¿ç•™ç²¾åº¦éœ€è¦é€šè¿‡std::setprecisionå‡½æ•°æ¥æŒ‡å®šæµ®ç‚¹æ•°çš„ç²¾åº¦ 123ostream stream;double value = 3.1415926;stream &lt;&lt; std::fixed &lt;&lt; std::setprecision(6) &lt;&lt; value;","tags":["C++","csv"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"Windowsç¨‹åºè¯»å–ä¸äº†ä¸­æ–‡è·¯å¾„é—®é¢˜","path":"//windows-program-chinese-path-problem.html","content":"é—®é¢˜æè¿°ä»Šå¤©è°ƒè¯•å‘ç°win32æ¥å£GetFileAttributesWå±…ç„¶ä¸æ”¯æŒä¸­æ–‡è·¯å¾„ï¼Œäºæ˜¯å¯»æ‰¾è§£å†³æ–¹æ¡ˆï¼Œæ‰¾äº†åŠå¤©ï¼Œå°è¯•ç”¨boostçš„fileystemåº“å‘ç°èƒ½è§£å†³é—®é¢˜ï¼Œè€Œä¸”boostèƒ½è·¨å¹³å°ï¼ ä¸æ”¯æŒä¸­æ–‡win32æ¥å£è·å–æ–‡ä»¶å±æ€§ï¼Œå½“ä¼ å…¥å‚æ•°å¸¦æœ‰ä¸­æ–‡å­—ç¬¦æ—¶ï¼Œå®ƒè·å–çš„å±æ€§å°±ä¼šå¼‚å¸¸ 1DWORD GetFileAttributesW([in] LPCWSTR lpFileName); æ”¯æŒä¸­æ–‡booståˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶ 123std::string realpath = &quot;D:\\\\æ–°å»ºæ–‡ä»¶å¤¹\\\\a.txt&quot;;boost::filesystem::path p(realpath);boost::filesystem::is_regular_file(p); booståˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶å¤¹ 123std::string realpath = &quot;D:\\\\æ–°å»ºæ–‡ä»¶å¤¹&quot;;boost::filesystem::path p(realpath);boost::filesystem::is_directory(p); æ€»ç»“äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨boostï¼","tags":["Windows","win32","ä¸­æ–‡è·¯å¾„"],"categories":["ç¨‹åºè®¾è®¡"]},{"title":"åµŒå…¥å¼ä»£ç ä¼˜åŒ–æŠ€å·§","path":"//embedded-code-optimization.html","content":"å†…å­˜ç®¡ç†æŠ€å·§1.C&#x2F;C++å·¥ç¨‹åº”å°½é‡é¿å…æ·±æ‹·è´ï¼Œå°½é‡ç”¨æµ…æ‹·è´ï¼ˆæŒ‡é’ˆæˆ–è€…å¼•ç”¨ï¼‰ï¼Œå¦‚æœæŒ‡é’ˆéœ€è¦é¢‘ç¹æ‹·è´ï¼Œç”¨æ™ºèƒ½æŒ‡é’ˆæ˜¯ä¸€ç§ä¸é”™çš„é€‰æ‹© 2.å¯ç”¨å†…å­˜æ± ç®¡ç†çº¿ç¨‹çš„å†…å­˜å¼€é”€ï¼Œäº‹å…ˆåœ¨å †é‡Œè¾¹åˆ†é…å¥½ï¼Œç„¶åå¿«é€Ÿä½¿ç”¨ é¿å…å¤æ‚çš„æµ®ç‚¹è¿ç®—1.å¤æ‚çš„æµ®ç‚¹è¿ç®—å°½é‡é¿å…ï¼Œæœ‰äº›èŠ¯ç‰‡æ˜¯ä¸æ”¯æŒç¡¬ä»¶åŒç²¾åº¦æµ®ç‚¹æ•°çš„ï¼Œæ¯”å¦‚å…¨å¿—T3ï¼Œå®åœ¨æ˜¯éç”¨ä¸å¯ï¼Œå¯ä»¥ç”¨æŸ¥è¡¨çš„æ–¹å¼åŠ å¿«é€Ÿåº¦ 2.æ•°æ®ä¼ è¾“å¯ä»¥ç”¨æ•´å‹æ•°æ®å‹ç¼©å‡å°‘å¸¦å®½ï¼Œè¿™ä¸ªåœ¨canæ•°æ®ä¼ è¾“æ¯”è¾ƒå¸¸è§ ç©ºé—´æ¢æ—¶é—´æ¯”å¦‚ä¸€ä¸ªæ•°æ®æ¨¡å‹ä½“ç§¯å¾ˆå¤§ï¼ŒåŠ è½½èµ·æ¥å¾ˆè€—æ—¶ï¼Œå¯ä»¥è€ƒè™‘æŠŠå®ƒç¼–è¯‘åˆ°è½¯ä»¶é‡Œè¾¹å»ï¼Œç„¶åè¿è¡Œçš„æ—¶å€™æå‰åŠ è½½åˆ°å†…å­˜ ç®—æ³•å¤æ‚åº¦ä¼˜åŒ–1.æ—¶é—´å¤æ‚åº¦ï¼Œå‡å°‘å¾ªç¯ä½¿ç”¨æ¬¡æ•° 2.ç©ºé—´å¤æ‚åº¦çš„è§’åº¦ä¼˜åŒ– å¹¶è¡Œæ¡†æ¶openMPäº†è§£ä¸€ä¸‹ï¼Œåœ¨å…³é”®çš„ä»£ç æ®µåŠ ä¸Šompå¹¶è¡Œå¤„ç† å­—èŠ‚å¯¹é½ç”¨å¥½å­—èŠ‚å¯¹é½åŠŸèƒ½å¯ä»¥ä¼˜åŒ–cpuæµæ°´çº¿çš„å¤„ç†æ•ˆç‡ å†…æ ¸æ€çš„åˆ©ç”¨å¯ä»¥æŠŠä¸€äº›ä¸šåŠ¡æ“ä½œå†™è¿›é©±åŠ¨ï¼Œåˆ©ç”¨æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ä¼˜åŒ–ï¼Œå†…æ ¸æ€å’Œç”¨æˆ·æ€å“ªä¸€ä¸ªæ›´é«˜æ•ˆï¼Œè¿™ä¸ªæ˜¯ç›¸å¯¹çš„ï¼Œå¾—çœ‹ç³»ç»Ÿè°ƒç”¨å’Œåº“å‡½æ•°çš„é¢—ç²’åº¦ï¼Œå¯ä»¥å€¼å¾—å°è¯•ä¸€ä¸‹ çº¿ç¨‹è°ƒåº¦å°è¯•è°ƒæ•´ä¸€äº›çº¿ç¨‹çš„ä¼˜å…ˆçº§æé«˜è°ƒåº¦æ•ˆç‡ï¼Œå¦å¤–Linuxä¹Ÿå…è®¸ç»‘æ ¸æ“ä½œ é˜²å¾¡æ€§ç¼–ç¨‹ ç”³è¯·ä¸€æ®µbufferåæ€»æ˜¯ä¹ æƒ¯æ€§çš„å°†å…¶å†…å®¹memsetä¸º0ï¼Œå½“ç„¶è¿™æ˜¯é’ˆå¯¹plainç±»å‹çš„æ•°æ®ï¼Œé˜²æ­¢åœ¨æ•°æ®è§£æçš„æ—¶å€™è§£æåˆ°ä¸åˆæ³•çš„æ•°æ® æ€»æ˜¯ä¹ æƒ¯æ€§çš„åˆ¤æ–­æ•°ç»„çš„è¾¹ç•Œ ç”³è¯·æŒ‡é’ˆä¸åº”è¯¥æ‚¬ç©ºï¼Œåº”è¯¥ç»™å®ƒä¸€ä¸ªå€¼æˆ–è€…æ˜¯nullptrï¼Œä½¿ç”¨å‰åˆ¤æ–­å®ƒæ˜¯å¦ä¸ºç©º å·§ç”¨æ–­è¨€","tags":["è°ƒä¼˜","ä¼˜åŒ–"],"categories":["åµŒå…¥å¼"]},{"title":"è½¯ä»¶ç‰ˆæœ¬é‚£äº›äº‹","path":"//software-version.html","content":"å‰è¨€è½¯ä»¶ç‰ˆæœ¬è·Ÿæµ‹è¯•é˜¶æ®µæˆ–è€…è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ‰€å¤„çš„é˜¶æ®µæœ‰å…³ï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ä¸ªç‰ˆæœ¬ alphaå†…æµ‹ç‰ˆæœ¬ï¼Œä»…é™å›¢é˜Ÿå†…éƒ¨æµ‹è¯•ä½¿ç”¨ï¼Œä¸å¯¹å¤–å…¬å¼€ã€‚å¤§å¤šæ•°è½¯ä»¶äº§å“åœ¨å‘å…¬ä¼—å‘å¸ƒä¹‹å‰éƒ½è¦ç»è¿‡å¤šä¸ªæ­¥éª¤ã€‚alphaç‰ˆæœ¬æ˜¯è¯¥ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå¼€å‘é«˜æ•ˆã€å‡†ç¡®å’Œæ— ç¼ºé™·çš„è½¯ä»¶ç¨‹åºã€‚è¿™ä¸€é˜¶æ®µè½¯ä»¶ä¼šé¢‘ç¹æ”¹åŠ¨ã€‚ é¡¹ç›®å¤„äºä¸ç¨³å®šçŠ¶æ€ã€‚å¯èƒ½æœ‰è®¸å¤šæœªä¿®å¤çš„é”™è¯¯ï¼ŒåŒ…æ‹¬å®‰å…¨é—®é¢˜ã€‚APIå¯èƒ½ä¼šæ›´æ”¹ï¼Œæ•ä¸å¦è¡Œé€šçŸ¥ã€‚å®‰è£…æ–°çš„alphaç‰ˆæœ¬éœ€è¦å¸è½½é¡¹ç›®ï¼Œä»è€Œä¸¢å¤±æ‰€æœ‰æ•°æ®ã€‚åªé’ˆå¯¹é‚£äº›æƒ³è¦æå‰é¢„è§ˆé¡¹ç›®çš„äººã€‚å°šä¸é€‚åˆå…±äº«å‘å±•ã€‚ä¸é€‚åˆç”Ÿäº§ç°åœºä½¿ç”¨ã€‚ç›®æ ‡å—ä¼—æ˜¯å¸Œæœ›å‚ä¸é¡¹ç›®æµ‹è¯•ã€è°ƒè¯•å’Œå¼€å‘çš„å¼€å‘äººå‘˜ã€‚ betaé€šè¿‡å†…éƒ¨æµ‹è¯•ä¹‹åçš„ç‰ˆæœ¬ï¼Œå¼€æ”¾ç»™å¤–éƒ¨æ¸ é“ä½¿ç”¨ã€‚Betaç‰ˆæœ¬é€šå¸¸åœ¨å¤–è§‚ã€æ„Ÿè§‰å’ŒåŠŸèƒ½ä¸Šä¸æœ€ç»ˆäº§å“ç›¸å½“æ¥è¿‘ï¼›åœ¨è¿™ä¸€é˜¶æ®µå˜æ›´è¿˜æ˜¯ä¼šç»å¸¸å‘ç”Ÿã€‚ æ‰€æœ‰é‡è¦çš„æ•°æ®ä¸¢å¤±å’Œå®‰å…¨æ¼æ´å¾—åˆ°è§£å†³ã€‚å¦‚æœæ¨¡å—æä¾›äº†ä¸€ä¸ªAPIï¼Œå®ƒåº”è¯¥è¢«è®¤ä¸ºæ˜¯å†»ç»“çš„ï¼Œè¿™æ ·é‚£äº›ä½¿ç”¨APIçš„äººå°±å¯ä»¥å¼€å§‹å‡çº§ä»–ä»¬çš„é¡¹ç›®äº†ã€‚å¦‚æœæ˜¯é¡¹ç›®çš„å‡çº§æˆ–æ›´æ–°ï¼Œåˆ™åº”æä¾›å‡çº§&#x2F;æ›´æ–°è·¯å¾„ï¼Œå¹¶ä¸”ç°æœ‰ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿåœ¨ä¸ä¸¢å¤±æ•°æ®çš„æƒ…å†µä¸‹å‡çº§&#x2F;æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ã€‚æ‰€æœ‰æ–‡æ¡£éƒ½åº”è¯¥æ˜¯æœ€æ–°çš„ã€‚ç›®æ ‡å—ä¼—æ˜¯æƒ³è¦å‚ä¸é¡¹ç›®çš„æµ‹è¯•ã€è°ƒè¯•å’Œå¼€å‘çš„å¼€å‘äººå‘˜ï¼Œä»¥åŠä¸é¡¹ç›®å¯¹æ¥çš„å…¶ä»–é¡¹ç›®çš„å¼€å‘äººå‘˜ã€‚é€šå¸¸ä¸é€‚ç”¨äºç”Ÿäº§ç«™ç‚¹ï¼Œä½†å¦‚æœç«™ç‚¹ç®¡ç†å‘˜éå¸¸äº†è§£é¡¹ç›®ï¼Œå¹¶ä¸”çŸ¥é“å¦‚ä½•å¤„ç†ä»»ä½•é—ç•™é—®é¢˜ï¼Œåˆ™å¯ä»¥åœ¨æŸäº›ç”Ÿäº§ç«™ç‚¹ä¸Šä½¿ç”¨ã€‚ rcrelease candidateï¼Œbetaç‰ˆæœ¬è¿­ä»£ä¹‹åæ¯”è¾ƒæˆç†Ÿçš„ç‰ˆæœ¬ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œæ¯å½“ç¨‹åºçš„æ›´æ–°å‡ ä¹å‡†å¤‡å°±ç»ªæ—¶ï¼Œæµ‹è¯•ç‰ˆæœ¬å°±ä¼šè¢«èµ‹äºˆrcå·ã€‚å¦‚æœå‘ç°äº†éœ€è¦ä¿®å¤çš„å…³é”®é”™è¯¯ï¼Œåˆ™æ›´æ–°ç¨‹åºå¹¶ä»¥æ›´é«˜çš„rcå·é‡æ–°å‘å¸ƒã€‚å½“æ²¡æœ‰ä¸¥é‡é”™è¯¯å­˜åœ¨ï¼Œæˆ–è€…æ²¡æœ‰å‘ç°é¢å¤–çš„ä¸¥é‡é”™è¯¯æ—¶ï¼Œrcåç§°å°†è¢«åˆ é™¤ã€‚ releaseæ­£å¼æä¾›ç»™å®¢æˆ·ä½¿ç”¨çš„ç‰ˆæœ¬ stablereleaseç‰ˆæœ¬ä¸­çš„ç¨³å®šç‰ˆæœ¬ï¼Œä¸€èˆ¬æ¯”è¾ƒå°‘ä½¿ç”¨","tags":["ç‰ˆæœ¬"],"categories":["æ–¹æ³•è®º"]},{"title":"å·¥ç¨‹å¸ˆå¥åº·å¤‡å¿˜å½•","path":"//engineer-health-guide.html","content":"å‰è¨€å‰ä¸ä¹…ï¼ŒITç•Œçš„å¤§ä½¬å·¦è€³æœµè€—å­é™ˆçš“å¿ƒæ¢—é€ä¸–ï¼Œäº«å¹´ä»…47å²ï¼ŒçœŸæ˜¯å¤©å¦’è‹±æ‰ï¼Œæ®è¯´ä»–æ˜¯ä¸€åå·¥ä½œç‹‚â€¦â€¦å¥½çš„èº«ä½“æ˜¯é©å‘½çš„æœ¬é’±ï¼Œå¹´çºªè¶Šå¤§ï¼Œå°±ä¼šå‘ç°ç¼–ç¨‹å¹¶ä¸æ˜¯è„‘åŠ›æ´»ï¼Œå…¶å®æ›´åå‘ä½“åŠ›æ´»ï¼é•¿æ—¶é—´å·¥ä½œåƒçš„æ˜¯äººçš„ä½“åŠ›å’Œç²¾åŠ›ï¼Œå¼€ä¼šã€å†™æ–‡æ¡£ã€ç¼–ç ã€æµ‹è¯•æ ·æ ·å·¥ä½œéƒ½éœ€è¦æœ‰å……æ²›å’ŒæŒç»­çš„ç²¾åŠ›æŠ•å…¥ æ„Ÿæ…¨åœ¨ä¸­å›½è¿™ç§996å·¥ä½œåˆ¶éåœ°å¼€èŠ±çš„å›½åº¦ï¼Œå¦‚æœä½ æ²¡æœ‰é“ä¸€æ ·çš„èº«ä½“ç´ è´¨ï¼Œä½ åŸºæœ¬å¾ˆéš¾ç†¬35å²è¿™é“åï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šå…¬å¸å–œæ¬¢æ‹›å°å¹´è½»çš„åŸå› ï¼›å¹¶ä¸”ï¼Œä¹…ååœ¨åŠå…¬å®¤å®¹æ˜“å¼•å‘å¾ˆå¤šç–¾ç—…ï¼šçœ¼ç–²åŠ³ã€å…³èŠ‚ç–¼ç—›ã€å¤´æ™•çœ¼èŠ±ã€é¢ˆæ¤ç—…â€¦â€¦æ–°é—»ç»å¸¸èƒ½å¬åˆ°è¿™æ ·çš„å‰§æœ¬ï¼šæŸæŸå¤§å‚å‘˜å·¥åœ¨åŠ ç­çš„æ—¶å€™çªç„¶çŒæ­»ï¼Œç•™ä¸‹èƒŒè´Ÿæˆ¿è´·çš„å¦»å„¿è€å°â€¦â€¦è¯´äº†è¿™ä¹ˆå¤šï¼Œæƒ³å¿…å¤§å®¶å·²ç»çŸ¥é“æ‹¥æœ‰ä¸€ä¸ªå¥½èº«ä½“å¯¹ç¨‹åºå‘˜æ¥è¯´æ˜¯å¤šä¹ˆçš„é‡è¦ï¼Œä¸‹é¢å°†ä»å‡ ä¸ªæ–¹é¢ä»‹ç»ä¸€äº›ç¨‹åºå‘˜å¥åº·æŒ‡å—ï¼Œå¸Œæœ›èƒ½å¯¹å¹¿å¤§ç¨‹åºå‘˜æœ‰æ‰€å¸®åŠ© ä½œæ¯ç¯‡è§„å¾‹çš„ä½œæ¯å¯¹èº«ä½“æ˜¯ä¸€ç§è¡¥å¿ï¼Œå»ºè®®ä¹°ä¸ªå¥åº·æ‰‹è¡¨å®šæœŸå®å˜±è‡ªå·± æ—©ç‚¹ç¡ï¼Œ11ç‚¹å‰å°½é‡ç¡äº† å¤šç¡ç‚¹ï¼Œæ¯æ—¥8ä¸ªé’Ÿ ç¡å¥½ç‚¹ï¼Œæ·±ç¡çœ çš„æ—¶é—´æ¯æ™šçº¦å ç¡çœ æ€»æ—¶é•¿çš„ **15%~25%**æ‰å¥½ å°½é‡åˆç¡ï¼Œè¿™ä¸ªæˆ‘è§‰å¾—è„‘åŠ›å·¥ä½œè€…å°±è¦ç¡ï¼ˆä¸­åˆä¸ç¡ï¼Œä¸‹åˆå´©æºƒï¼‰ é¥®é£Ÿç¯‡æ°‘ä»¥é£Ÿä¸ºå¤©ï¼Œç»å¸¸åç€ä¸åŠ¨å®¹æ˜“é•¿è‚šå­ï¼ˆä¸­å¹´äººçš„æ‚²å“€ï¼‰ å°‘åƒç”œé£Ÿ å°‘ç› å°‘æ²¹ å¤šå–æ°´ è¤ç´ æ­é… è¿åŠ¨ç¯‡ä¸Šç­æœŸé—´é€‚åˆåšçš„å¥èº«è¿åŠ¨ æ‰©èƒ¸è¿åŠ¨ï¼Œæ¯å¤©100ä¸ª ï¼ˆå¢åŠ è‚ºæ´»é‡ã€é”»ç‚¼èƒ¸éƒ¨è‚Œè‚‰ï¼‰ é«˜æŠ¬è…¿ï¼Œæ¯å¤©30ä¸ªï¼ˆçº æ­£è…¿éƒ¨ã€è…°éƒ¨åŠ›é‡ï¼‰ åŒæ‰‹åˆç´§ï¼Œå‘åæ–¹æ‹‰ä¼¸ï¼Œå¤¹ç´§è‚©èƒ›éª¨ï¼ˆçº æ­£è‚©è†€è‚Œè‚‰ï¼‰ æ…¢èµ°15åˆ†é’Ÿï¼ˆæœ‰æ°§è¿åŠ¨ï¼Œå¢åŠ è‚ºæ´»é‡ï¼‰ ç±³å­—æ“ï¼Œç”¨å¤´å‘å‰æ–¹ç”»ä¸€ä¸ªç±³å­—ï¼ˆæ”¾æ¾é¢ˆéƒ¨è‚Œè‚‰ï¼‰ å·¥ä½œç¯‡ ç•ªèŒ„å·¥ä½œæ³•ï¼Œå°†ä¸€ä¸ªä»»åŠ¡åˆ†è§£ä¸€ä¸ªä¸ªå·¥ä½œåŒ…ï¼Œä»¥ä¸€ä¸ªå·¥ä½œåŒ…ä¸ºå•ä½æ‰§è¡Œ å­¦ä¼šå¦ç„¶ï¼Œç°å®ç”Ÿæ´»ä¸­æŠ€æœ¯é—®é¢˜å¾€å¾€ä¸æ˜¯æœ€é‡è¦çš„é—®é¢˜ï¼Œå¤§å¤šæ•°é—®é¢˜ä¹Ÿè·Ÿç¼–ç¨‹æ— å…³ å‘ä¸Šç®¡ç†ï¼Œé‡åˆ°é—®é¢˜å­¦ä¼šåŠæ—¶åé¦ˆï¼Œè€Œä¸æ˜¯ä¸€ä¸ªäººæ‰›ç€ æé«˜å·¥ä½œæ•ˆç‡ï¼Œè¦åšçš„äº‹æƒ…æ’ä¸€ä¸ªä¼˜å…ˆçº§ ç”Ÿæ´»ç¯‡ å¤šéµå¾ªå†…å¿ƒçš„æ„æ„¿ å­¦ä¼šæ‹’ç» æœ‰ä»€ä¹ˆå–œæ¬¢çš„äº‹æƒ…è¦è¶ç€å¹´è½»å»è¿½å¯»ï¼Œå°è¯•ä¸€äº›çˆ±å¥½ï¼Œå¦‚å­¦å­¦é’¢ç´ã€å¬å¬éŸ³ä¹ä¼š å¼ å¼›æœ‰é“ï¼Œåˆ‡å‹¿ç»·å¾—åƒæœºæ¢°é’Ÿçš„å‘æ¡ä¸€æ ·ç´§ ç¤¾äº¤ç¯‡ å°Šé‡ä»–äººçš„æƒ³æ³• éµå¾ªè‡ªå·±çš„å†…å¿ƒ è¯­å½•ã€Šæ´»ç€ã€‹ æ²¡æœ‰ä»€ä¹ˆæ¯”æ—¶é—´æ›´å…·æœ‰è¯´æœåŠ›äº†ï¼Œå› ä¸ºæ—¶é—´æ— éœ€é€šçŸ¥æˆ‘ä»¬å°±å¯ä»¥æ”¹å˜ä¸€åˆ‡ äººæ˜¯ä¸ºæ´»ç€æœ¬èº«è€Œæ´»ç€ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ´»ç€ä¹‹å¤–çš„ä»»ä½•äº‹ç‰©æ‰€æ´»ç€ ä¸€ä¸ªäººå‘½å†å¤§ï¼Œè¦æ˜¯è‡ªå·±æƒ³æ­»ï¼Œé‚£å°±æ€ä¹ˆä¹Ÿæ´»ä¸äº† ã€Šç™¾å¹´å­¤ç‹¬ã€‹ æˆ‘ä»¬ç»ˆç©¶ä¼šæ­»ã€‚æ‰€ä»¥æˆ‘ä»¬çš„äººç”Ÿç›®æ ‡ä¸è¯¥æ˜¯é•¿å‘½ç™¾å²ï¼Œè€Œåº”è¯¥åšç‚¹è‡ªå·±æƒ³åšçš„","tags":["å¥åº·","èŒä¸š"],"categories":["å­¦ç§‘"]},{"title":"gdb8.3äº¤å‰ç¼–è¯‘","path":"//gdb8.3-porting.html","content":"ä¸‹è½½å»gdbå®˜ç½‘ä¸‹è½½gdb8.3 1wget https://ftp.gnu.org/gnu/gdb/gdb-8.3.tar.xz ä¸‹è½½å®Œæˆåè§£å‹xzæ–‡ä»¶ 12tar xf gdb-8.3.tar.xzcd gdb-8.3 é…ç½®ç¯å¢ƒå˜é‡ 1export PATH=$PATH:/home/topeet/rk3399/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin ç¼–è¯‘gdb 12./configure --target=aarch64-linux-gnu --prefix=$PWD/buildmake -j8 ç¼–è¯‘gdbserver 123cd gdb./configure --target=aarch64-linux-gnu --host=aarch64-linux-gnu --prefix=$PWD/build CXXFLAGS=&#x27;-fPIC -static&#x27;make -j8 æµ‹è¯•å°†gdbserveréƒ¨ç½²åˆ°å¼€å‘æ¿æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶è¿è¡Œgdbserver 1gdbserver --multi :10000 demo å®¿ä¸»æœºç«¯è¿è¡Œaarch64-linux-gnu-gdb 1target remote 192.168.137.22:10000","tags":["gdb","äº¤å‰ç¼–è¯‘"],"categories":["åµŒå…¥å¼"]},{"title":"RT-ThreadæŠ€æœ¯æ²™é¾™","path":"//rt-thread-tech-salon.html","content":"ä¸»é¢˜ä¼šè®®ç”±RT-Thread &amp;&amp; Infineonå…±åŒä¸»æŒï¼ŒPSoc62å¼€å‘æ¿ç°åœºæ¼”ç¤ºä»0åˆ°1æ­å»ºæ™ºèƒ½æ•°æ®ç½‘å…³ RT-ThreadRT-Threadç¤¾åŒºè´Ÿè´£äººéƒ­å é‘«éƒ­å·¥ä»‹ç»RT-Threadç”Ÿæ€ åˆä½œä¼™ä¼´è‹±é£å‡Œäº§å“è´Ÿè´£äººä»‹ç»è‹±é£å‡Œçš„äº§å“åŠ¨æ€ã€åˆ†äº«æœªæ¥çš„ä¸€äº›åµŒå…¥å¼æŠ€æœ¯å‘å±•æ–¹å‘ä»¥åŠåº”ç”¨æ¡ˆä¾‹ æŠ€æœ¯åˆ†äº«æŠ€æœ¯äººå‘˜ä»‹ç»æœ‰å…³é’©å­å‡½æ•°åœ¨å¼€æºé¡¹ç›®ã€æ—¥å¸¸é¡¹ç›®çš„ç”¨æ³• idleçº¿ç¨‹ uartæ¥æ”¶ IoTé¡¹ç›®æ¡ˆä¾‹ å®éªŒç¯èŠ‚ç°åœºæ’¸äº†è‹±é£å‡Œå¼€å‘æ¿çš„ç‚¹ç¯ä»£ç ï¼ˆä¸‡ç‰©åŸºäºç‚¹ç¯ï¼‰ï¼Œè¿™ä¸ªå¿…é¡»è®°å½•ä¸‹æ¥ï¼ 1234567891011121314151617181920212223242526272829303132#include &lt;rtthread.h&gt;#include &lt;rtdevice.h&gt;#include &quot;drv_gpio.h&quot;#define LED0_PIN GET_PIN(0, 1)#define USER_KEY GET_PIN(6, 2)void irq_callback()&#123; static int flag = 0; rt_kprintf(&quot;Key Pressed!\\r &quot;); if(flag == 0) &#123; rt_pin_write(LED0_PIN, PIN_HIGH); flag = 1; &#125; else &#123; rt_pin_write(LED0_PIN, PIN_LOW); flag = 0; &#125;&#125;int main(void)&#123; rt_pin_mode(LED0_PIN, PIN_MODE_OUTPUT); rt_pin_mode(USER_KEY, PIN_MODE_INPUT_PULLUP); rt_pin_attach_irq(USER_KEY, PIN_IRQ_MODE_RISING, irq_callback, RT_NULL); rt_pin_irq_enable(USER_KEY, PIN_IRQ_ENABLE); return 0;&#125; å®éªŒç‚¹ç¯æ•ˆæœ æŠ½å¥–ç¯èŠ‚å¼€å‘æ¿å…è´¹é€ æŠ½å¥–ç¯èŠ‚æˆ‘å±…ç„¶ä¹Ÿæ˜¯å¹¸è¿è§‚ä¼—ï¼ŒRT-ThreadæŠ±æ•ä¸€ä¸ª åˆå½±RT-Threadç¤¾åŒºäººå‘˜ã€Infineonã€ç°åœºå¼€å‘è€…äººå‘˜é›†ä½“åˆå½± è‡´è°¢ æ„Ÿè°¢RT-Threadç¤¾åŒºä¸ºè¿™æ¬¡æŠ€æœ¯åˆ†äº«æ‰€ä½œçš„åŠªåŠ›ï¼Œç¥æ„¿RT-Threadå¼€æºäº‹ä¸šè¶Šæ¥è¶Šçº¢ç« æ„Ÿè°¢è‹±é£å‡Œåˆä½œä¼™ä¼´çš„å¤§åŠ›æ”¯æŒï¼Œç¥è‹±é£å‡ŒèŠ¯ç‰‡å¤§å–","tags":["å¼€æº","RT-Thread"],"categories":["å¼€æºç¤¾åŒº"]},{"title":"åˆ›å®¢å³°ä¼šæ‚æ„Ÿ","path":"//maker-summit.html","content":"å‰è¨€ä¸€å¹´ä¸€åº¦çš„å¤§æ¹¾åŒºå›½é™…åˆ›å®¢å³°ä¼š11æœˆ11æ—¥è‡³12æ—¥åœ¨æ·±åœ³å—å±±ä¸‡ç§‘äº‘è®¾è®¡å…¬ç¤¾ä¸¾è¡Œ è§é—»åœ¨é˜¶æ¢¯ä¼šè®®å®¤çœ‹åˆ°äº†æ ‘è“æ´¾åŸºé‡‘ä¼šçš„åˆ›å§‹äººå’ŒSeeed Studioçš„åˆ›å§‹äºº å¾ˆæœ‰æ„æ€çš„æœºå™¨äººéŸ³ä¹é¡¹ç›® æ¯æ—¥ç§¯ç‚¹åŠŸå¾·ä¹‹ç”µå­æœ¨é±¼ï¼ŒçœŸçš„æ˜¯è„‘æ´å¤§å¼€ï¼ å¤–å›½å‹äººçš„æ¸©å®¤å¤§æ£šé¡¹ç›®ï¼Œæ€è€ƒğŸ˜€ ç»œç»ä¸ç»çš„NVIDIAã€seeed studioã€æ ‘è“æ´¾å±•å… æ—¥æœ¬å‹äººçš„ç”ŸåŒ–é¡¹ç›®ï¼Œæ²¡ç‚¹ä¸“ä¸šçŸ¥è¯†çœŸçš„çœ‹ä¸æ‡‚ï¼ åˆå½±å’Œä¸¤ä½ä¼™ä¼´ä»¬çš„ç•™å½±ï¼ˆä¸¤ä½å¼€æºç•Œçš„å·¨æ“˜ï¼‰ æ„Ÿæ…¨å¦‚æœä½ é—®æˆ‘ï¼Œä¸­å›½çš„makerå’Œå¤–å›½çš„makeræœ‰å•¥ä¸ä¸€æ ·ï¼Ÿæˆ‘ä¼šå›ç­”ï¼Œä¸€ä¸ªä¸çº¯ç²¹ï¼Œä¸€ä¸ªçº¯ç²¹ï¼Œæ²¡æœ‰å¯æ¯”æ€§ï¼Œä¸­å›½äººé€šå¸¸éƒ½å¸¦ç€æŸç§ç›®çš„å»ç©åˆ›å®¢ï¼ˆæˆ‘é€¼è‡ªå·±ä¸€æŠŠï¼‰ï¼Œå¤–å›½äººæ˜æ˜¾æ²¡æœ‰è¿™ç§å¿ƒç†åŒ…è¢±ï¼Œåœ¨ç°åœºæˆ‘ç”šè‡³çœ‹åˆ°äº†å¤§å­¦ç”Ÿæ¯•ä¸šè®¾è®¡ç©çƒ‚çš„æ¸©å®¤å¤§æ£šç¯å¢ƒç›‘æ§ç³»ç»Ÿï¼Œå¯è§ä»–ä»¬åªæ˜¯just for funï¼Œæœ‰ä¸ªæ—¥æœ¬äººå±•ç¤ºäº†ä»–çš„ç”µå­ä¹å™¨ï¼Œç”šè‡³è¿˜æœ‰ä¸€ä¸ªç”µå­æœ¨é±¼ï¼Œå…´è‡´å‹ƒå‹ƒçš„ç»™è·¯äººè®²è§£ä»–çš„å‘æ˜ï¼Œä»–çš„é‚£ç§passionæ˜¯å¤§å¤šæ•°ä¸­å›½äººä¸èƒ½ç†è§£çš„","tags":["å¼€æº","åˆ›å®¢"],"categories":["å¼€æºç¤¾åŒº"]},{"path":"/googlefdedfe3fdc3f0f23.html","content":"google-site-verification: googlefdedfe3fdc3f0f23.html"},{"title":"hywingä¸ªäººè¯´æ˜ä¹¦","path":"/about/index.html","content":"å…³äºä¸€åæ™®æ™®é€šé€šçš„å¼€å‘è€…ï¼Œå–œæ¬¢ç”¨ä»£ç åˆ›é€ ç¾å¥½çš„äº‹ç‰©ï¼Œå…·æœ‰ä¸°å¯Œçš„è®¾è®¡ã€å¼€å‘ã€è°ƒè¯•ç»éªŒï¼Œä»äº‹ç‰©è”ç½‘ã€è‡ªåŠ¨åŒ–ã€æ±½è½¦ç”µå­å¼€å‘å·¥ä½œï¼›æˆ‘ç›¸ä¿¡ä¸‡ç‰©çš†æœ‰è§„å¾‹ï¼Œç”Ÿå‘½æ˜¯DNAä»£ç çš„æ’åˆ—ç»„åˆï¼Œäººç”Ÿä¹Ÿæ˜¯ä¸€åœºå…³äºé€»è¾‘ä¸è‰ºæœ¯çš„æ—…è¡Œï¼Œä¸–é—´çš„ä¸€åˆ‡äº‹ç‰©çš„è¡¨ç°å½¢å¼å’Œå†…åœ¨è”ç³»éƒ½å¯ä»¥ç”¨äºŒè¿›åˆ¶æµæ¥æŠ½è±¡å’Œåˆ»ç”»ï¼ å†…å®¹åˆ†äº«ä¸€äº›å·¥ä½œä¸­çš„é—®é¢˜ã€æƒ³æ³•ï¼Œä¸æŠ€æœ¯ã€ç®¡ç†ã€äº§å“ç›¸å…³çš„è®°å½•ã€æ€è€ƒã€æ²‰æ·€ï¼Œæƒ³åˆ°å•¥å†™å•¥ï¼Œå¸Œæœ›å¯¹è¯»è€…æœ‰å¸®åŠ© å…è´£è¿™ä¸ªæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©æ˜¯æˆ‘è«å¤§çš„è£å¹¸ï¼Œè‡ªè¡Œæ›´æ”¹è¯·æ•ä¸å¦è¡Œé€šçŸ¥ï¼å¦å¤–ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªè‡ªç”±çš„åšå®¢ï¼Œæ²¡æœ‰ä»»ä½•å¹¿å‘Šï¼Œä¹Ÿæ²¡æœ‰å¼•æµï¼›å¦‚æœä½ å¯¹é„™äººæ„Ÿå…´è¶£ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼šhywing.sir@qq.com æ ¼è¨€åˆ—å¤«Â·æ‰˜å°”æ–¯æ³° (Leo Tolstoy) æ¯ä¸ªäººéƒ½æƒ³æ”¹å˜ä¸–ç•Œï¼Œä½†æ²¡æœ‰äººæƒ³è¦æ”¹å˜ä»–è‡ªå·± Everyone thinks of changing the world, but no one thinks of changing himself. åŠ å¤«åˆ—å°”Â·åŠ è¥¿äºšÂ·é©¬å°”å…‹æ–¯ï¼ˆGabriel GarcÃ­a MÃ¡rquezï¼‰ ç”Ÿå‘½ä¸­æ›¾ç»æœ‰è¿‡çš„æ‰€æœ‰ç¿çƒ‚ï¼Œç»ˆç©¶éƒ½éœ€è¦ç”¨å¯‚å¯æ¥å¿è¿˜ All brilliant that has appeared in life will eventually be repaid for lonely."},{"title":"51å•ç‰‡æœºä»‹ç»","path":"/wiki/mcs51/index.html","content":"ä»‹ç»"},{"title":"å¯åŠ¨æµç¨‹","path":"/wiki/kernel/index.html","content":"ä»‹ç»"},{"title":"ros2ä»‹ç»","path":"/wiki/ros2/index.html","content":"ä»‹ç»"},{"title":"Bootloaderå®ç°","path":"/wiki/stm32/Bootloaderå®ç°.html","content":"ä»‹ç»bootloader åº”ç”¨ç¨‹åº"},{"title":"ADCä½¿ç”¨","path":"/wiki/stm32/ADCä½¿ç”¨.html","content":"ä»‹ç»ADCè¯»å–ç”µé˜»åˆ†å‹"},{"title":"GPIOä½¿ç”¨","path":"/wiki/stm32/GPIOä½¿ç”¨.html","content":"ä»‹ç»è™½è¯´ä½¿ç”¨stm32CubeMXé…ç½®GPIOæ˜¯ä¸€ä»¶å¾ˆè½»æ¾çš„äº‹æƒ…ï¼Œä½†è¿˜æ˜¯æœ‰å¿…è¦ä»ä»£ç çš„è§’åº¦ç†è§£GPIOçš„é…ç½®è¿‡ç¨‹ åˆå§‹åŒ–GPIOåˆå§‹åŒ–æµç¨‹ï¼š åˆå§‹åŒ–GPIO_InitTypeDefç»“æ„ä½“ ä½¿èƒ½GPIOç«¯å£æ—¶é’Ÿ è®¾ç½®Pinå£çŠ¶æ€ GPIO_InitTypeDefç»“æ„ä½“ï¼Œä¸€èˆ¬éœ€è¦è®¾ç½®Pinã€Modelã€Pullã€Speedå‡ é¡¹å‚æ•° 1234567891011121314151617typedef struct&#123; uint32_t Pin; /*!&lt; Specifies the GPIO pins to be configured. This parameter can be any value of @ref GPIO_pins */ uint32_t Mode; /*!&lt; Specifies the operating mode for the selected pins. This parameter can be a value of @ref GPIO_mode */ uint32_t Pull; /*!&lt; Specifies the Pull-up or Pull-Down activation for the selected pins. This parameter can be a value of @ref GPIO_pull */ uint32_t Speed; /*!&lt; Specifies the speed for the selected pins. This parameter can be a value of @ref GPIO_speed */ uint32_t Alternate; /*!&lt; Peripheral to be connected to the selected pins This parameter can be a value of @ref GPIOEx_Alternate_function_selection */&#125; GPIO_InitTypeDef; HAL_GPIO_Init 1void HAL_GPIO_Init(GPIO_TypeDef *GPIOx, GPIO_InitTypeDef *GPIO_Init) GPIOè¯» 1GPIO_PinState HAL_GPIO_ReadPin(GPIO_TypeDef *GPIOx, uint16_t GPIO_Pin) GPIOå†™ 1void HAL_GPIO_WritePin(GPIO_TypeDef *GPIOx, uint16_t GPIO_Pin, GPIO_PinState PinState) RCCé…ç½® 123/* GPIO Ports Clock Enable */__HAL_RCC_GPIOA_CLK_ENABLE();__HAL_RCC_GPIOB_CLK_ENABLE(); åˆå§‹åŒ–ç¤ºä¾‹ 1234567891011121314151617181920void MX_GPIO_Init(void)&#123; GPIO_InitTypeDef GPIO_InitStruct = &#123;0&#125;; /* GPIO Ports Clock Enable */ __HAL_RCC_GPIOA_CLK_ENABLE(); __HAL_RCC_GPIOB_CLK_ENABLE(); /*Configure GPIO pin Output Level */ HAL_GPIO_WritePin(GPIOB, GPIO_PIN_4, GPIO_PIN_RESET); /*Configure GPIO pin : PB4 */ GPIO_InitStruct.Pin = GPIO_PIN_4; GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP; GPIO_InitStruct.Pull = GPIO_NOPULL; GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW; HAL_GPIO_Init(GPIOB, &amp;GPIO_InitStruct);&#125; ä½¿ç”¨ç¤ºä¾‹ 12345678HAL_Init();SystemClock_Config();MX_GPIO_Init();while (1)&#123; HAL_GPIO_TogglePin(GPIOB,GPIO_PIN_4); HAL_Delay(100);&#125;"},{"title":"LCDé©±åŠ¨","path":"/wiki/stm32/LCDé©±åŠ¨.html","content":"ä»‹ç»LCD2002é©±åŠ¨æ•™ç¨‹"},{"title":"KEYé©±åŠ¨","path":"/wiki/stm32/KEYé©±åŠ¨.html","content":"ä»‹ç»GPIONVICä¸­æ–­å¤„ç†"},{"title":"PWMé©±åŠ¨","path":"/wiki/stm32/PWMé©±åŠ¨.html","content":"ä»‹ç»ç”Ÿæˆ1KHzçš„æ–¹æ³¢"},{"title":"RTCä½¿ç”¨","path":"/wiki/stm32/RTCä½¿ç”¨.html","content":"ä»‹ç»è·å–å‡†ç¡®çš„æ—¶é’Ÿæº"},{"title":"Sensoré©±åŠ¨","path":"/wiki/stm32/Sensoré©±åŠ¨.html","content":"ä»‹ç»è¯»å–å†…éƒ¨æ¸©åº¦ä¼ æ„Ÿå™¨çš„å€¼"},{"title":"USARTä½¿ç”¨","path":"/wiki/stm32/USARTä½¿ç”¨.html","content":"é…ç½®GPIO USART ä¸­æ–­å‘é€æ¥æ”¶printf1234567#include &lt;stdio.h&gt;#include &lt;stm32g0xx_hal.h&gt;int fputc(int ch, FILE *f) &#123; HAL_UART_Transmit(&amp;huart2, (uint8_t *)&amp;ch, 1, HAL_MAX_DELAY); return ch;&#125;"},{"title":"stm32g030c8t6ä»‹ç»","path":"/wiki/stm32/index.html","content":"ä»‹ç»STM32G030x6/x8 ç³»åˆ—ä¸»æµå¾®æ§åˆ¶å™¨åŸºäºé«˜æ€§èƒ½çš„ ArmÂ® CortexÂ®-M0+ 32 ä½ RISC å†…æ ¸ï¼Œæœ€é«˜å·¥ä½œé¢‘ç‡å¯è¾¾ 64 MHzï¼›stm32g030c8t6è¿™æ¬¾èŠ¯ç‰‡é›†æˆäº†ä¸°å¯Œçš„ç‰‡ä¸Šèµ„æºï¼Œé€‚ç”¨äºæ¶ˆè´¹ã€å·¥ä¸šå’Œå®¶ç”µé¢†åŸŸçš„å¹¿æ³›åº”ç”¨ MCUï¼šä¸»é¢‘æœ€é«˜å¯è¾¾64MHz SRAMï¼š8K FLASHï¼š64K GPIOï¼š44è·¯å¤šç”¨é€”IO TIMERï¼š1è·¯é«˜çº§å®šæ—¶å™¨ã€2è·¯é€šç”¨å®šæ—¶å™¨ã€ä¸€è·¯systickã€2è·¯çœ‹é—¨ç‹— I2Cï¼š2è·¯ USARTï¼š2è·¯ SPIï¼š2è·¯ RTCï¼šä¸€ä¸ª ADCï¼š1è·¯ï¼Œæ”¯æŒå¤šå¤§19ä¸ªé€šé“ c8ç³»åˆ—èŠ¯ç‰‡é‡‡ç”¨LQFP48å°è£…ï¼Œç®¡è„šåˆ†å¸ƒå¦‚ä¸‹ï¼š å¼€å‘è¿›è¡Œstm32çš„å¼€å‘éœ€è¦å‡†å¤‡ä»¥ä¸‹è½¯ä»¶æˆ–è€…å·¥å…· MDK Keil keilçš„å®‰è£…æ¯”è¾ƒç®€å•ï¼Œç°åœ¨æœ€æ–°ç‰ˆæœ¬æ˜¯å…è´¹çš„äº†ï¼Œé¿å…äº†ç›—ç‰ˆçš„é—®é¢˜ STM32CubeMX è¿™ä¸ªå·¥å…·æ˜¯ç”¨æ¥é…ç½®èŠ¯ç‰‡èµ„æºçš„ï¼Œè½¯ç¡¬ä»¶å·¥ç¨‹å¸ˆéƒ½å¯ä»¥ç”¨ï¼ŒSTå®˜ç½‘å¯ä»¥å…è´¹ä¸‹è½½å®‰è£… å¦å¤–è¿˜éœ€è¦å‡†å¤‡ï¼šST-LINK V2å’ŒCH340 USBè½¬ä¸²å£ä½œä½œä¸ºè°ƒè¯•å·¥å…· å·¥ç¨‹æ–°å»ºCubeMXå·¥ç¨‹ é€‰æ‹©èŠ¯ç‰‡å‹å·stm32g030c8t6ï¼Œç„¶ååŒå‡»è¿›å» é…ç½®å¤–è®¾èµ„æºï¼Œå¸¸è§çš„æœ‰GPIOã€NVICã€RCCã€USARTç­‰ ä¿®æ”¹æ—¶é’Ÿï¼šRTCä¸º32.768KHzï¼ŒHCLKä¸º16MHz å¯¼å‡ºå·¥ç¨‹é…ç½®ï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’GENERATE CODEå°±å¯ä»¥å¯¼å‡ºMDK KEILå·¥ç¨‹åˆ°æŒ‡å®šç›®å½•ä¸‹äº† æ­£å¸¸ç”¨Keil5æ‰“å¼€ç¼–è¯‘æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„ï¼Œåˆ°Debugæ é…ç½®ST-Link Debuggerå°±å¯ä»¥çƒ§å½•äº† ç”µæ°”å…³äºstm32g030c8t6è¿™æ¬¾èŠ¯ç‰‡çš„ä¸€äº›ç”µæ°”ç‰¹æ€§ï¼Œæ­é…å¤–è®¾ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„ï¼š ç”µæºï¼š3.3Vä¾›ç”µï¼Œ2.0 V to 3.6 V æœ€å¤§è¾“å‡ºç”µæµï¼š80mA æœ€å¤§è¾“å…¥ç”µæµï¼š100mA å·¥ä½œæ¸©åº¦ï¼š-40 - 85â„ƒ è¿™æ¬¾èŠ¯ç‰‡åœ¨å˜‰ç«‹åˆ›å•†åŸçš„ä»·æ ¼ä¹Ÿå°±3-5RMBå·¦å³ï¼Œå¦‚æœç”¨æ¥æ›¿ä»£51è¿™æ ·çš„å•ç‰‡æœºé—®é¢˜ä¸å¤§ï¼Œå„æ–¹é¢æ€§èƒ½éƒ½å¾ˆä¼˜è¶Š è¯´æ˜è¿™é‡Œä½¿ç”¨stm32CubeMXæ˜¯ä¸ºäº†å¯¼å‡ºSDKï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨CubeMXå›¾å½¢åŒ–çš„æ–¹å¼è¿›è¡Œç¼–ç¨‹ï¼Œä½†åˆå­¦è€…å»ºè®®æŠŠHALçš„ä»£ç äº²æ‰‹æ’¸ä¸€é"},{"title":"å¯åŠ¨æµç¨‹","path":"/wiki/uboot/index.html","content":"ä»‹ç»"}]